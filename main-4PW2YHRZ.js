var rA=Object.defineProperty,iA=Object.defineProperties;var oA=Object.getOwnPropertyDescriptors;var Uc=Object.getOwnPropertySymbols;var V_=Object.prototype.hasOwnProperty,j_=Object.prototype.propertyIsEnumerable;var L_=(t,e,n)=>e in t?rA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,P=(t,e)=>{for(var n in e||={})V_.call(e,n)&&L_(t,n,e[n]);if(Uc)for(var n of Uc(e))j_.call(e,n)&&L_(t,n,e[n]);return t},ye=(t,e)=>iA(t,oA(e));var Kf=(t,e)=>{var n={};for(var r in t)V_.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Uc)for(var r of Uc(t))e.indexOf(r)<0&&j_.call(t,r)&&(n[r]=t[r]);return n};var O=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{c(n.next(u))}catch(l){i(l)}},s=u=>{try{c(n.throw(u))}catch(l){i(l)}},c=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);c((n=n.apply(t,e)).next())});function B_(t,e){return Object.is(t,e)}var Ge=null,$c=!1,Yf=1,Bi=Symbol("SIGNAL");function pe(t){let e=Ge;return Ge=t,e}function Zf(){return Ge}var Hc={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Jf(t){if($c)throw new Error("");if(Ge===null)return;Ge.consumerOnSignalRead(t);let e=Ge.nextProducerIndex++;if(qc(Ge),e<Ge.producerNode.length&&Ge.producerNode[e]!==t&&Vs(Ge)){let n=Ge.producerNode[e];zc(n,Ge.producerIndexOfThis[e])}Ge.producerNode[e]!==t&&(Ge.producerNode[e]=t,Ge.producerIndexOfThis[e]=Vs(Ge)?q_(t,Ge,e):0),Ge.producerLastReadVersion[e]=t.version}function U_(){Yf++}function $_(t){if(!(Vs(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Yf)){if(!t.producerMustRecompute(t)&&!th(t)){Qf(t);return}t.producerRecomputeValue(t),Qf(t)}}function Xf(t){if(t.liveConsumerNode===void 0)return;let e=$c;$c=!0;try{for(let n of t.liveConsumerNode)n.dirty||sA(n)}finally{$c=e}}function H_(){return Ge?.consumerAllowSignalWrites!==!1}function sA(t){t.dirty=!0,Xf(t),t.consumerMarkedDirty?.(t)}function Qf(t){t.dirty=!1,t.lastCleanEpoch=Yf}function eh(t){return t&&(t.nextProducerIndex=0),pe(t)}function z_(t,e){if(pe(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Vs(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)zc(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function th(t){qc(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||($_(n),r!==n.version))return!0}return!1}function nh(t){if(qc(t),Vs(t))for(let e=0;e<t.producerNode.length;e++)zc(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function q_(t,e,n){if(G_(t),t.liveConsumerNode.length===0&&W_(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=q_(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function zc(t,e){if(G_(t),t.liveConsumerNode.length===1&&W_(t))for(let r=0;r<t.producerNode.length;r++)zc(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];qc(i),i.producerIndexOfThis[r]=e}}function Vs(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function qc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function G_(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function W_(t){return t.producerNode!==void 0}function aA(){throw new Error}var K_=aA;function cA(t){K_(t)}function rh(t){K_=t}var uA=null;function ih(t,e){H_()||cA(t),t.equal(t.value,e)||(t.value=e,lA(t))}var oh=ye(P({},Hc),{equal:B_,value:void 0,kind:"signal"});function lA(t){t.version++,U_(),Xf(t),uA?.()}var sh;function js(){return sh}function On(t){let e=sh;return sh=t,e}var Gc=Symbol("NotFound");function ee(t){return typeof t=="function"}function Ui(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Wc=Ui(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Bs(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ue=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(ee(r))try{r()}catch(o){e=o instanceof Wc?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Q_(o)}catch(s){e=e??[],s instanceof Wc?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Wc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Q_(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Bs(n,e)}remove(e){let{_finalizers:n}=this;n&&Bs(n,e),e instanceof t&&e._removeParent(this)}};Ue.EMPTY=(()=>{let t=new Ue;return t.closed=!0,t})();var ah=Ue.EMPTY;function Kc(t){return t instanceof Ue||t&&"closed"in t&&ee(t.remove)&&ee(t.add)&&ee(t.unsubscribe)}function Q_(t){ee(t)?t():t.unsubscribe()}var $t={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var $i={setTimeout(t,e,...n){let{delegate:r}=$i;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=$i;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Qc(t){$i.setTimeout(()=>{let{onUnhandledError:e}=$t;if(e)e(t);else throw t})}function Us(){}var Y_=ch("C",void 0,void 0);function Z_(t){return ch("E",void 0,t)}function J_(t){return ch("N",t,void 0)}function ch(t,e,n){return{kind:t,value:e,error:n}}var Br=null;function Hi(t){if($t.useDeprecatedSynchronousErrorHandling){let e=!Br;if(e&&(Br={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Br;if(Br=null,n)throw r}}else t()}function X_(t){$t.useDeprecatedSynchronousErrorHandling&&Br&&(Br.errorThrown=!0,Br.error=t)}var Ur=class extends Ue{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Kc(e)&&e.add(this)):this.destination=wA}static create(e,n,r){return new zi(e,n,r)}next(e){this.isStopped?lh(J_(e),this):this._next(e)}error(e){this.isStopped?lh(Z_(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?lh(Y_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},vA=Function.prototype.bind;function uh(t,e){return vA.call(t,e)}var dh=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Yc(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Yc(r)}else Yc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Yc(n)}}},zi=class extends Ur{constructor(e,n,r){super();let i;if(ee(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&$t.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&uh(e.next,o),error:e.error&&uh(e.error,o),complete:e.complete&&uh(e.complete,o)}):i=e}this.destination=new dh(i)}};function Yc(t){$t.useDeprecatedSynchronousErrorHandling?X_(t):Qc(t)}function _A(t){throw t}function lh(t,e){let{onStoppedNotification:n}=$t;n&&$i.setTimeout(()=>n(t,e))}var wA={closed:!0,next:Us,error:_A,complete:Us};var qi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function St(t){return t}function fh(...t){return hh(t)}function hh(t){return t.length===0?St:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var _e=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=IA(n)?n:new zi(n,r,i);return Hi(()=>{let{operator:s,source:c}=this;o.add(s?s.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=ew(r),new r((i,o)=>{let s=new zi({next:c=>{try{n(c)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[qi](){return this}pipe(...n){return hh(n)(this)}toPromise(n){return n=ew(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function ew(t){var e;return(e=t??$t.Promise)!==null&&e!==void 0?e:Promise}function EA(t){return t&&ee(t.next)&&ee(t.error)&&ee(t.complete)}function IA(t){return t&&t instanceof Ur||EA(t)&&Kc(t)}function ph(t){return ee(t?.lift)}function le(t){return e=>{if(ph(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function de(t,e,n,r,i){return new gh(t,e,n,r,i)}var gh=class extends Ur{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(c){try{n(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Gi(){return le((t,e)=>{let n=null;t._refCount++;let r=de(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Wi=class extends _e{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,ph(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ue;let n=this.getSubject();e.add(this.source.subscribe(de(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ue.EMPTY)}return e}refCount(){return Gi()(this)}};var tw=Ui(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ze=(()=>{class t extends _e{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Zc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new tw}next(n){Hi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Hi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Hi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?ah:(this.currentObservers=null,o.push(n),new Ue(()=>{this.currentObservers=null,Bs(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new _e;return n.source=this,n}}return t.create=(e,n)=>new Zc(e,n),t})(),Zc=class extends Ze{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:ah}};var rt=class extends Ze{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var gt=new _e(t=>t.complete());function nw(t){return t&&ee(t.schedule)}function rw(t){return t[t.length-1]}function iw(t){return ee(rw(t))?t.pop():void 0}function fr(t){return nw(rw(t))?t.pop():void 0}function sw(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function c(f){try{l(r.next(f))}catch(p){s(p)}}function u(f){try{l(r.throw(f))}catch(p){s(p)}}function l(f){f.done?o(f.value):i(f.value).then(c,u)}l((r=r.apply(t,e||[])).next())})}function ow(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function $r(t){return this instanceof $r?(this.v=t,this):new $r(t)}function aw(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(C){return Promise.resolve(C).then(y,p)}}function c(y,C){r[y]&&(i[y]=function(A){return new Promise(function(x,B){o.push([y,A,x,B])>1||u(y,A)})},C&&(i[y]=C(i[y])))}function u(y,C){try{l(r[y](C))}catch(A){m(o[0][3],A)}}function l(y){y.value instanceof $r?Promise.resolve(y.value.v).then(f,p):m(o[0][2],y)}function f(y){u("next",y)}function p(y){u("throw",y)}function m(y,C){y(C),o.shift(),o.length&&u(o[0][0],o[0][1])}}function cw(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof ow=="function"?ow(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(c,u){s=t[o](s),i(c,u,s.done,s.value)})}}function i(o,s,c,u){Promise.resolve(u).then(function(l){o({value:l,done:c})},s)}}var Jc=t=>t&&typeof t.length=="number"&&typeof t!="function";function Xc(t){return ee(t?.then)}function eu(t){return ee(t[qi])}function tu(t){return Symbol.asyncIterator&&ee(t?.[Symbol.asyncIterator])}function nu(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function bA(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ru=bA();function iu(t){return ee(t?.[ru])}function ou(t){return aw(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield $r(n.read());if(i)return yield $r(void 0);yield yield $r(r)}}finally{n.releaseLock()}})}function su(t){return ee(t?.getReader)}function Je(t){if(t instanceof _e)return t;if(t!=null){if(eu(t))return DA(t);if(Jc(t))return TA(t);if(Xc(t))return CA(t);if(tu(t))return uw(t);if(iu(t))return SA(t);if(su(t))return AA(t)}throw nu(t)}function DA(t){return new _e(e=>{let n=t[qi]();if(ee(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function TA(t){return new _e(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function CA(t){return new _e(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Qc)})}function SA(t){return new _e(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function uw(t){return new _e(e=>{xA(t,e).catch(n=>e.error(n))})}function AA(t){return uw(ou(t))}function xA(t,e){var n,r,i,o;return sw(this,void 0,void 0,function*(){try{for(n=cw(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function mt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function au(t,e=0){return le((n,r)=>{n.subscribe(de(r,i=>mt(r,t,()=>r.next(i),e),()=>mt(r,t,()=>r.complete(),e),i=>mt(r,t,()=>r.error(i),e)))})}function cu(t,e=0){return le((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function lw(t,e){return Je(t).pipe(cu(e),au(e))}function dw(t,e){return Je(t).pipe(cu(e),au(e))}function fw(t,e){return new _e(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function hw(t,e){return new _e(n=>{let r;return mt(n,e,()=>{r=t[ru](),mt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>ee(r?.return)&&r.return()})}function uu(t,e){if(!t)throw new Error("Iterable cannot be null");return new _e(n=>{mt(n,e,()=>{let r=t[Symbol.asyncIterator]();mt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function pw(t,e){return uu(ou(t),e)}function gw(t,e){if(t!=null){if(eu(t))return lw(t,e);if(Jc(t))return fw(t,e);if(Xc(t))return dw(t,e);if(tu(t))return uu(t,e);if(iu(t))return hw(t,e);if(su(t))return pw(t,e)}throw nu(t)}function ve(t,e){return e?gw(t,e):Je(t)}function Y(...t){let e=fr(t);return ve(t,e)}function Ki(t,e){let n=ee(t)?t:()=>t,r=i=>i.error(n());return new _e(e?i=>e.schedule(r,0,i):r)}function mh(t){return!!t&&(t instanceof _e||ee(t.lift)&&ee(t.subscribe))}var kn=Ui(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Z(t,e){return le((n,r)=>{let i=0;n.subscribe(de(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:RA}=Array;function MA(t,e){return RA(e)?t(...e):t(e)}function mw(t){return Z(e=>MA(t,e))}var{isArray:NA}=Array,{getPrototypeOf:PA,prototype:OA,keys:kA}=Object;function yw(t){if(t.length===1){let e=t[0];if(NA(e))return{args:e,keys:null};if(FA(e)){let n=kA(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function FA(t){return t&&typeof t=="object"&&PA(t)===OA}function vw(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function $s(...t){let e=fr(t),n=iw(t),{args:r,keys:i}=yw(t);if(r.length===0)return ve([],e);let o=new _e(LA(r,e,i?s=>vw(i,s):St));return n?o.pipe(mw(n)):o}function LA(t,e,n=St){return r=>{_w(e,()=>{let{length:i}=t,o=new Array(i),s=i,c=i;for(let u=0;u<i;u++)_w(e,()=>{let l=ve(t[u],e),f=!1;l.subscribe(de(r,p=>{o[u]=p,f||(f=!0,c--),c||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function _w(t,e,n){t?mt(n,t,e):e()}function ww(t,e,n,r,i,o,s,c){let u=[],l=0,f=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=A=>l<r?C(A):u.push(A),C=A=>{o&&e.next(A),l++;let x=!1;Je(n(A,f++)).subscribe(de(e,B=>{i?.(B),o?y(B):e.next(B)},()=>{x=!0},void 0,()=>{if(x)try{for(l--;u.length&&l<r;){let B=u.shift();s?mt(e,s,()=>C(B)):C(B)}m()}catch(B){e.error(B)}}))};return t.subscribe(de(e,y,()=>{p=!0,m()})),()=>{c?.()}}function Le(t,e,n=1/0){return ee(e)?Le((r,i)=>Z((o,s)=>e(r,o,i,s))(Je(t(r,i))),n):(typeof e=="number"&&(n=e),le((r,i)=>ww(r,i,t,n)))}function Qi(t=1/0){return Le(St,t)}function Ew(){return Qi(1)}function Yi(...t){return Ew()(ve(t,fr(t)))}function lu(t){return new _e(e=>{Je(t()).subscribe(e)})}function it(t,e){return le((n,r)=>{let i=0;n.subscribe(de(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Fn(t){return le((e,n)=>{let r=null,i=!1,o;r=e.subscribe(de(n,void 0,void 0,s=>{o=Je(t(s,Fn(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Iw(t,e,n,r,i){return(o,s)=>{let c=n,u=e,l=0;o.subscribe(de(s,f=>{let p=l++;u=c?t(u,f,p):(c=!0,f),r&&s.next(u)},i&&(()=>{c&&s.next(u),s.complete()})))}}function cn(t,e){return ee(e)?Le(t,e,1):Le(t,1)}function hr(t){return le((e,n)=>{let r=!1;e.subscribe(de(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Ln(t){return t<=0?()=>gt:le((e,n)=>{let r=0;e.subscribe(de(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function du(t=VA){return le((e,n)=>{let r=!1;e.subscribe(de(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function VA(){return new kn}function Hr(t){return le((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Vn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?it((i,o)=>t(i,o,r)):St,Ln(1),n?hr(e):du(()=>new kn))}function Zi(t){return t<=0?()=>gt:le((e,n)=>{let r=[];e.subscribe(de(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function yh(t,e){let n=arguments.length>=2;return r=>r.pipe(t?it((i,o)=>t(i,o,r)):St,Zi(1),n?hr(e):du(()=>new kn))}function vh(t,e){return le(Iw(t,e,arguments.length>=2,!0))}function _h(...t){let e=fr(t);return le((n,r)=>{(e?Yi(t,n,e):Yi(t,n)).subscribe(r)})}function yt(t,e){return le((n,r)=>{let i=null,o=0,s=!1,c=()=>s&&!i&&r.complete();n.subscribe(de(r,u=>{i?.unsubscribe();let l=0,f=o++;Je(t(u,f)).subscribe(i=de(r,p=>r.next(e?e(u,p,f,l++):p),()=>{i=null,c()}))},()=>{s=!0,c()}))})}function wh(t){return le((e,n)=>{Je(t).subscribe(de(n,()=>n.complete(),Us)),!n.closed&&e.subscribe(n)})}function ot(t,e,n){let r=ee(t)||e||n?{next:t,error:e,complete:n}:t;return r?le((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let c=!0;i.subscribe(de(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;c=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):St}var dE="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",$=class extends Error{code;constructor(e,n){super(fE(e,n)),this.code=e}};function jA(t){return`NG0${Math.abs(t)}`}function fE(t,e){return`${jA(t)}${e?": "+e:""}`}var hE=Symbol("InputSignalNode#UNSET"),BA=ye(P({},oh),{transformFn:void 0,applyValueToInputSignal(t,e){ih(t,e)}});function pE(t,e){let n=Object.create(BA);n.value=t,n.transformFn=e?.transform;function r(){if(Jf(n),n.value===hE){let i=null;throw new $(-950,i)}return n.value}return r[Bi]=n,r}function Xs(t){return{toString:t}.toString()}var fu="__parameters__";function UA(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function gE(t,e,n){return Xs(()=>{let r=UA(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return c.annotation=s,c;function c(u,l,f){let p=u.hasOwnProperty(fu)?u[fu]:Object.defineProperty(u,fu,{value:[]})[fu];for(;p.length<=f;)p.push(null);return(p[f]=p[f]||[]).push(s),u}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Mh=globalThis;function De(t){for(let e in t)if(t[e]===De)return e;throw Error("Could not find renamed property on target object.")}function _t(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(_t).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function bw(t,e){return t?e?`${t} ${e}`:t:e||""}var $A=De({__forward_ref__:De});function mE(t){return t.__forward_ref__=mE,t.toString=function(){return _t(this())},t}function Pt(t){return yE(t)?t():t}function yE(t){return typeof t=="function"&&t.hasOwnProperty($A)&&t.__forward_ref__===mE}function U(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Xr(t){return{providers:t.providers||[],imports:t.imports||[]}}function Hu(t){return Dw(t,_E)||Dw(t,wE)}function vE(t){return Hu(t)!==null}function Dw(t,e){return t.hasOwnProperty(e)?t[e]:null}function HA(t){let e=t&&(t[_E]||t[wE]);return e||null}function Tw(t){return t&&(t.hasOwnProperty(Cw)||t.hasOwnProperty(zA))?t[Cw]:null}var _E=De({\u0275prov:De}),Cw=De({\u0275inj:De}),wE=De({ngInjectableDef:De}),zA=De({ngInjectorDef:De}),z=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=U({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function EE(t){return t&&!!t.\u0275providers}var qA=De({\u0275cmp:De}),GA=De({\u0275dir:De}),WA=De({\u0275pipe:De}),KA=De({\u0275mod:De}),wu=De({\u0275fac:De}),Gs=De({__NG_ELEMENT_ID__:De}),Sw=De({__NG_ENV_ID__:De});function io(t){return typeof t=="string"?t:t==null?"":String(t)}function QA(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():io(t)}function IE(t,e){throw new $(-200,t)}function _p(t,e){throw new $(-201,!1)}var ie=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ie||{}),Nh;function bE(){return Nh}function Nt(t){let e=Nh;return Nh=t,e}function DE(t,e,n){let r=Hu(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ie.Optional)return null;if(e!==void 0)return e;_p(t,"Injector")}var YA={},zr=YA,Ph="__NG_DI_FLAG__",Eu=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=n;return this.injector.get(e,r.optional?Gc:zr,r)}},Iu="ngTempTokenPath",ZA="ngTokenPath",JA=/\n/gm,XA="\u0275",Aw="__source";function ex(t,e=ie.Default){if(js()===void 0)throw new $(-203,!1);if(js()===null)return DE(t,void 0,e);{let n=js(),r;return n instanceof Eu?r=n.injector:r=n,r.get(t,e&ie.Optional?null:void 0,e)}}function q(t,e=ie.Default){return(bE()||ex)(Pt(t),e)}function N(t,e=ie.Default){return q(t,zu(e))}function zu(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Oh(t){let e=[];for(let n=0;n<t.length;n++){let r=Pt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new $(900,!1);let i,o=ie.Default;for(let s=0;s<r.length;s++){let c=r[s],u=tx(c);typeof u=="number"?u===-1?i=c.token:o|=u:i=c}e.push(q(i,o))}else e.push(q(r))}return e}function TE(t,e){return t[Ph]=e,t.prototype[Ph]=e,t}function tx(t){return t[Ph]}function nx(t,e,n,r){let i=t[Iu];throw e[Aw]&&i.unshift(e[Aw]),t.message=rx(`
`+t.message,i,n,r),t[ZA]=i,t[Iu]=null,t}function rx(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==XA?t.slice(2):t;let i=_t(e);if(Array.isArray(e))i=e.map(_t).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let c=e[s];o.push(s+":"+(typeof c=="string"?JSON.stringify(c):_t(c)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(JA,`
  `)}`}var ix=TE(gE("Optional"),8);var ox=TE(gE("SkipSelf"),4);function oo(t,e){let n=t.hasOwnProperty(wu);return n?t[wu]:null}function wp(t,e){t.forEach(n=>Array.isArray(n)?wp(n,e):e(n))}function CE(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function bu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function sx(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function ax(t,e,n){let r=ea(t,e);return r>=0?t[r|1]=n:(r=~r,sx(t,r,e,n)),r}function Eh(t,e){let n=ea(t,e);if(n>=0)return t[n|1]}function ea(t,e){return cx(t,e,1)}function cx(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var so={},zt=[],Ws=new z(""),SE=new z("",-1),AE=new z(""),Du=class{get(e,n=zr){if(n===zr){let r=new Error(`NullInjectorError: No provider for ${_t(e)}!`);throw r.name="NullInjectorError",r}return n}};function xE(t,e){let n=t[KA]||null;if(!n&&e===!0)throw new Error(`Type ${_t(t)} does not have '\u0275mod' property.`);return n}function Gr(t){return t[qA]||null}function ux(t){return t[GA]||null}function lx(t){return t[WA]||null}function ta(t){return{\u0275providers:t}}function dx(...t){return{\u0275providers:RE(!0,t),\u0275fromNgModule:!0}}function RE(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return wp(e,s=>{let c=s;kh(c,o,[],r)&&(i||=[],i.push(c))}),i!==void 0&&ME(i,o),n}function ME(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Ep(i,o=>{e(o,r)})}}function kh(t,e,n,r){if(t=Pt(t),!t)return!1;let i=null,o=Tw(t),s=!o&&Gr(t);if(!o&&!s){let u=t.ngModule;if(o=Tw(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let c=r.has(i);if(s){if(c)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)kh(l,e,n,r)}}else if(o){if(o.imports!=null&&!c){r.add(i);let l;try{wp(o.imports,f=>{kh(f,e,n,r)&&(l||=[],l.push(f))})}finally{}l!==void 0&&ME(l,e)}if(!c){let l=oo(i)||(()=>new i);e({provide:i,useFactory:l,deps:zt},i),e({provide:AE,useValue:i,multi:!0},i),e({provide:Ws,useValue:()=>q(i),multi:!0},i)}let u=o.providers;if(u!=null&&!c){let l=t;Ep(u,f=>{e(f,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Ep(t,e){for(let n of t)EE(n)&&(n=n.\u0275providers),Array.isArray(n)?Ep(n,e):e(n)}var fx=De({provide:String,useValue:De});function NE(t){return t!==null&&typeof t=="object"&&fx in t}function hx(t){return!!(t&&t.useExisting)}function px(t){return!!(t&&t.useFactory)}function Fh(t){return typeof t=="function"}var qu=new z(""),gu={},xw={},Ih;function Ip(){return Ih===void 0&&(Ih=new Du),Ih}var ct=class{},Ks=class extends ct{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,Vh(e,s=>this.processProvider(s)),this.records.set(SE,Ji(void 0,this)),i.has("environment")&&this.records.set(ct,Ji(void 0,this));let o=this.records.get(qu);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(AE,zt,ie.Self))}retrieve(e,n){let r=n;return this.get(e,r.optional?Gc:zr,r)}destroy(){zs(this),this._destroyed=!0;let e=pe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),pe(e)}}onDestroy(e){return zs(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){zs(this);let n=On(this),r=Nt(void 0),i;try{return e()}finally{On(n),Nt(r)}}get(e,n=zr,r=ie.Default){if(zs(this),e.hasOwnProperty(Sw))return e[Sw](this);r=zu(r);let i,o=On(this),s=Nt(void 0);try{if(!(r&ie.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=wx(e)&&Hu(e);l&&this.injectableDefInScope(l)?u=Ji(Lh(e),gu):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u,r)}let c=r&ie.Self?Ip():this.parent;return n=r&ie.Optional&&n===zr?null:n,c.get(e,n)}catch(c){if(c.name==="NullInjectorError"){if((c[Iu]=c[Iu]||[]).unshift(_t(e)),o)throw c;return nx(c,e,"R3InjectorError",this.source)}else throw c}finally{Nt(s),On(o)}}resolveInjectorInitializers(){let e=pe(null),n=On(this),r=Nt(void 0),i;try{let o=this.get(Ws,zt,ie.Self);for(let s of o)s()}finally{On(n),Nt(r),pe(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(_t(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Pt(e);let n=Fh(e)?e:Pt(e&&e.provide),r=mx(e);if(!Fh(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Ji(void 0,gu,!0),i.factory=()=>Oh(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=pe(null);try{return n.value===xw?IE(_t(e)):n.value===gu&&(n.value=xw,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&_x(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{pe(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Pt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Lh(t){let e=Hu(t),n=e!==null?e.factory:oo(t);if(n!==null)return n;if(t instanceof z)throw new $(204,!1);if(t instanceof Function)return gx(t);throw new $(204,!1)}function gx(t){if(t.length>0)throw new $(204,!1);let n=HA(t);return n!==null?()=>n.factory(t):()=>new t}function mx(t){if(NE(t))return Ji(void 0,t.useValue);{let e=yx(t);return Ji(e,gu)}}function yx(t,e,n){let r;if(Fh(t)){let i=Pt(t);return oo(i)||Lh(i)}else if(NE(t))r=()=>Pt(t.useValue);else if(px(t))r=()=>t.useFactory(...Oh(t.deps||[]));else if(hx(t))r=(i,o)=>q(Pt(t.useExisting),o!==void 0&&o&ie.Optional?ie.Optional:void 0);else{let i=Pt(t&&(t.useClass||t.provide));if(vx(t))r=()=>new i(...Oh(t.deps));else return oo(i)||Lh(i)}return r}function zs(t){if(t.destroyed)throw new $(205,!1)}function Ji(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function vx(t){return!!t.deps}function _x(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function wx(t){return typeof t=="function"||typeof t=="object"&&t instanceof z}function Vh(t,e){for(let n of t)Array.isArray(n)?Vh(n,e):n&&EE(n)?Vh(n.\u0275providers,e):e(n)}function Et(t,e){let n;t instanceof Ks?(zs(t),n=t):n=new Eu(t);let r,i=On(n),o=Nt(void 0);try{return e()}finally{On(i),Nt(o)}}function PE(){return bE()!==void 0||js()!=null}function Ex(t){if(!PE())throw new $(-203,!1)}function Ix(t){return typeof t=="function"}var Un=0,ge=1,te=2,ht=3,qt=4,Kt=5,Tu=6,Cu=7,wt=8,ao=9,jn=10,Xe=11,Qs=12,Rw=13,yo=14,ln=15,co=16,Xi=17,uo=18,Gu=19,OE=20,pr=21,bh=22,Su=23,Ot=24,no=25,Gt=26,kE=1;var Wr=7,Au=8,xu=9,kt=10;function gr(t){return Array.isArray(t)&&typeof t[kE]=="object"}function $n(t){return Array.isArray(t)&&t[kE]===!0}function bp(t){return(t.flags&4)!==0}function vo(t){return t.componentOffset>-1}function Wu(t){return(t.flags&1)===1}function ei(t){return!!t.template}function Ru(t){return(t[te]&512)!==0}function _o(t){return(t[te]&256)===256}var jh=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function FE(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var na=(()=>{let t=()=>LE;return t.ngInherit=!0,t})();function LE(t){return t.type.prototype.ngOnChanges&&(t.setInput=Dx),bx}function bx(){let t=jE(this),e=t?.current;if(e){let n=t.previous;if(n===so)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Dx(t,e,n,r,i){let o=this.declaredInputs[r],s=jE(t)||Tx(t,{previous:so,current:null}),c=s.current||(s.current={}),u=s.previous,l=u[o];c[o]=new jh(l&&l.currentValue,n,u===so),FE(t,e,i,n)}var VE="__ngSimpleChanges__";function jE(t){return t[VE]||null}function Tx(t,e){return t[VE]=e}var Mw=null;var Ie=function(t,e=null,n){Mw?.(t,e,n)},BE="svg",Cx="math";function dn(t){for(;Array.isArray(t);)t=t[Un];return t}function UE(t,e){return dn(e[t])}function gn(t,e){return dn(e[t.index])}function $E(t,e){return t.data[e]}function Sx(t,e){return t[e]}function fn(t,e){let n=e[t];return gr(n)?n:n[Un]}function Dp(t){return(t[te]&128)===128}function Ax(t){return $n(t[ht])}function lo(t,e){return e==null?null:t[e]}function HE(t){t[Xi]=0}function zE(t){t[te]&1024||(t[te]|=1024,Dp(t)&&ra(t))}function xx(t,e){for(;t>0;)e=e[yo],t--;return e}function Ku(t){return!!(t[te]&9216||t[Ot]?.dirty)}function Bh(t){t[jn].changeDetectionScheduler?.notify(8),t[te]&64&&(t[te]|=1024),Ku(t)&&ra(t)}function ra(t){t[jn].changeDetectionScheduler?.notify(0);let e=Kr(t);for(;e!==null&&!(e[te]&8192||(e[te]|=8192,!Dp(e)));)e=Kr(e)}function qE(t,e){if(_o(t))throw new $(911,!1);t[pr]===null&&(t[pr]=[]),t[pr].push(e)}function Rx(t,e){if(t[pr]===null)return;let n=t[pr].indexOf(e);n!==-1&&t[pr].splice(n,1)}function Kr(t){let e=t[ht];return $n(e)?e[ht]:e}function GE(t){return t[Cu]??=[]}function WE(t){return t.cleanup??=[]}var oe={lFrame:nI(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Uh=!1;function Mx(){return oe.lFrame.elementDepthCount}function Nx(){oe.lFrame.elementDepthCount++}function Px(){oe.lFrame.elementDepthCount--}function Tp(){return oe.bindingsEnabled}function Ox(){return oe.skipHydrationRootTNode!==null}function kx(t){return oe.skipHydrationRootTNode===t}function Fx(){oe.skipHydrationRootTNode=null}function Te(){return oe.lFrame.lView}function Qt(){return oe.lFrame.tView}function ia(t){return oe.lFrame.contextLView=t,t[wt]}function oa(t){return oe.lFrame.contextLView=null,t}function At(){let t=KE();for(;t!==null&&t.type===64;)t=t.parent;return t}function KE(){return oe.lFrame.currentTNode}function Lx(){let t=oe.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function ti(t,e){let n=oe.lFrame;n.currentTNode=t,n.isParent=e}function Cp(){return oe.lFrame.isParent}function QE(){oe.lFrame.isParent=!1}function Vx(){return oe.lFrame.contextLView}function YE(){return Uh}function Nw(t){let e=Uh;return Uh=t,e}function ZE(){let t=oe.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function jx(){return oe.lFrame.bindingIndex}function Bx(t){return oe.lFrame.bindingIndex=t}function Sp(){return oe.lFrame.bindingIndex++}function JE(t){let e=oe.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Ux(){return oe.lFrame.inI18n}function $x(t,e){let n=oe.lFrame;n.bindingIndex=n.bindingRootIndex=t,$h(e)}function Hx(){return oe.lFrame.currentDirectiveIndex}function $h(t){oe.lFrame.currentDirectiveIndex=t}function zx(t){let e=oe.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function XE(t){oe.lFrame.currentQueryIndex=t}function qx(t){let e=t[ge];return e.type===2?e.declTNode:e.type===1?t[Kt]:null}function eI(t,e,n){if(n&ie.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&ie.Host);)if(i=qx(o),i===null||(o=o[yo],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=oe.lFrame=tI();return r.currentTNode=e,r.lView=t,!0}function Ap(t){let e=tI(),n=t[ge];oe.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function tI(){let t=oe.lFrame,e=t===null?null:t.child;return e===null?nI(t):e}function nI(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function rI(){let t=oe.lFrame;return oe.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var iI=rI;function xp(){let t=rI();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Gx(t){return(oe.lFrame.contextLView=xx(t,oe.lFrame.contextLView))[wt]}function ni(){return oe.lFrame.selectedIndex}function Qr(t){oe.lFrame.selectedIndex=t}function oI(){let t=oe.lFrame;return $E(t.tView,t.selectedIndex)}function ri(){oe.lFrame.currentNamespace=BE}function sI(){Wx()}function Wx(){oe.lFrame.currentNamespace=null}function Kx(){return oe.lFrame.currentNamespace}var aI=!0;function Qu(){return aI}function Yu(t){aI=t}function Qx(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=LE(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Rp(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:f}=o;s&&(t.contentHooks??=[]).push(-n,s),c&&((t.contentHooks??=[]).push(n,c),(t.contentCheckHooks??=[]).push(n,c)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function mu(t,e,n){cI(t,e,3,n)}function yu(t,e,n,r){(t[te]&3)===n&&cI(t,e,n,r)}function Dh(t,e){let n=t[te];(n&3)===e&&(n&=16383,n+=1,t[te]=n)}function cI(t,e,n,r){let i=r!==void 0?t[Xi]&65535:0,o=r??-1,s=e.length-1,c=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(t[Xi]+=65536),(c<o||o==-1)&&(Yx(t,n,e,u),t[Xi]=(t[Xi]&4294901760)+u+2),u++}function Pw(t,e){Ie(4,t,e);let n=pe(null);try{e.call(t)}finally{pe(n),Ie(5,t,e)}}function Yx(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],c=t[s];i?t[te]>>14<t[Xi]>>16&&(t[te]&3)===e&&(t[te]+=16384,Pw(c,o)):Pw(c,o)}var ro=-1,Ys=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r){this.factory=e,this.canSeeViewProviders=n,this.injectImpl=r}};function Zx(t){return(t.flags&8)!==0}function Jx(t){return(t.flags&16)!==0}function Xx(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],c=n[r++];t.setAttribute(e,s,c,o)}else{let o=i,s=n[++r];eR(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function uI(t){return t===3||t===4||t===6}function eR(t){return t.charCodeAt(0)===64}function Zu(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Ow(t,n,i,null,e[++r]):Ow(t,n,i,null,null))}}return t}function Ow(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let c=t[o++];if(typeof c=="number"){if(c===e){s=-1;break}else if(c>e){s=o-1;break}}}for(;o<t.length;){let c=t[o];if(typeof c=="number")break;if(c===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function lI(t){return t!==ro}function Mu(t){return t&32767}function tR(t){return t>>16}function Nu(t,e){let n=tR(t),r=e;for(;n>0;)r=r[yo],n--;return r}var Hh=!0;function kw(t){let e=Hh;return Hh=t,e}var nR=256,dI=nR-1,fI=5,rR=0,un={};function iR(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Gs)&&(r=n[Gs]),r==null&&(r=n[Gs]=rR++);let i=r&dI,o=1<<i;e.data[t+(i>>fI)]|=o}function hI(t,e){let n=pI(t,e);if(n!==-1)return n;let r=e[ge];r.firstCreatePass&&(t.injectorIndex=e.length,Th(r.data,t),Th(e,null),Th(r.blueprint,null));let i=Mp(t,e),o=t.injectorIndex;if(lI(i)){let s=Mu(i),c=Nu(i,e),u=c[ge].data;for(let l=0;l<8;l++)e[o+l]=c[s+l]|u[s+l]}return e[o+8]=i,o}function Th(t,e){t.push(0,0,0,0,0,0,0,0,e)}function pI(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Mp(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=_I(i),r===null)return ro;if(n++,i=i[yo],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return ro}function oR(t,e,n){iR(t,e,n)}function sR(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(uI(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function gI(t,e,n){if(n&ie.Optional||t!==void 0)return t;_p(e,"NodeInjector")}function mI(t,e,n,r){if(n&ie.Optional&&r===void 0&&(r=null),(n&(ie.Self|ie.Host))===0){let i=t[ao],o=Nt(void 0);try{return i?i.get(e,r,n&ie.Optional):DE(e,r,n&ie.Optional)}finally{Nt(o)}}return gI(r,e,n)}function yI(t,e,n,r=ie.Default,i){if(t!==null){if(e[te]&2048&&!(r&ie.Self)){let s=dR(t,e,n,r,un);if(s!==un)return s}let o=vI(t,e,n,r,un);if(o!==un)return o}return mI(e,n,r,i)}function vI(t,e,n,r,i){let o=uR(n);if(typeof o=="function"){if(!eI(e,t,r))return r&ie.Host?gI(i,n,r):mI(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&ie.Optional))_p(n);else return s}finally{iI()}}else if(typeof o=="number"){let s=null,c=pI(t,e),u=ro,l=r&ie.Host?e[ln][Kt]:null;for((c===-1||r&ie.SkipSelf)&&(u=c===-1?Mp(t,e):e[c+8],u===ro||!Lw(r,!1)?c=-1:(s=e[ge],c=Mu(u),e=Nu(u,e)));c!==-1;){let f=e[ge];if(Fw(o,c,f.data)){let p=aR(c,e,n,s,r,l);if(p!==un)return p}u=e[c+8],u!==ro&&Lw(r,e[ge].data[c+8]===l)&&Fw(o,c,e)?(s=f,c=Mu(u),e=Nu(u,e)):c=-1}}return i}function aR(t,e,n,r,i,o){let s=e[ge],c=s.data[t+8],u=r==null?vo(c)&&Hh:r!=s&&(c.type&3)!==0,l=i&ie.Host&&o===c,f=cR(c,s,n,u,l);return f!==null?zh(e,s,f,c,i):un}function cR(t,e,n,r,i){let o=t.providerIndexes,s=e.data,c=o&1048575,u=t.directiveStart,l=t.directiveEnd,f=o>>20,p=r?c:c+f,m=i?c+f:l;for(let y=p;y<m;y++){let C=s[y];if(y<u&&n===C||y>=u&&C.type===n)return y}if(i){let y=s[u];if(y&&ei(y)&&y.type===n)return u}return null}function zh(t,e,n,r,i){let o=t[n],s=e.data;if(o instanceof Ys){let c=o;c.resolving&&IE(QA(s[n]));let u=kw(c.canSeeViewProviders);c.resolving=!0;let l,f=c.injectImpl?Nt(c.injectImpl):null,p=eI(t,r,ie.Default);try{o=t[n]=c.factory(void 0,i,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&Qx(n,s[n],e)}finally{f!==null&&Nt(f),kw(u),c.resolving=!1,iI()}}return o}function uR(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Gs)?t[Gs]:void 0;return typeof e=="number"?e>=0?e&dI:lR:e}function Fw(t,e,n){let r=1<<t;return!!(n[e+(t>>fI)]&r)}function Lw(t,e){return!(t&ie.Self)&&!(t&ie.Host&&e)}var qr=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return yI(this._tNode,this._lView,e,zu(r),n)}};function lR(){return new qr(At(),Te())}function Np(t){return Xs(()=>{let e=t.prototype.constructor,n=e[wu]||qh(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[wu]||qh(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function qh(t){return yE(t)?()=>{let e=qh(Pt(t));return e&&e()}:oo(t)}function dR(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[te]&2048&&!Ru(s);){let c=vI(o,s,n,r|ie.Self,un);if(c!==un)return c;let u=o.parent;if(!u){let l=s[OE];if(l){let f=l.get(n,un,r);if(f!==un)return f}u=_I(s),s=s[yo]}o=u}return i}function _I(t){let e=t[ge],n=e.type;return n===2?e.declTNode:n===1?t[Kt]:null}function Pp(t){return sR(At(),t)}function Vw(t,e=null,n=null,r){let i=wI(t,e,n,r);return i.resolveInjectorInitializers(),i}function wI(t,e=null,n=null,r,i=new Set){let o=[n||zt,dx(t)];return r=r||(typeof t=="object"?void 0:_t(t)),new Ks(o,e||Ip(),r||null,i)}var Wt=class t{static THROW_IF_NOT_FOUND=zr;static NULL=new Du;static create(e,n){if(Array.isArray(e))return Vw({name:""},n,e,"");{let r=e.name??"";return Vw({name:r},e.parent,e.providers,r)}}static \u0275prov=U({token:t,providedIn:"any",factory:()=>q(SE)});static __NG_ELEMENT_ID__=-1};var fR=new z("");fR.__NG_ELEMENT_ID__=t=>{let e=At();if(e===null)throw new $(204,!1);if(e.type&2)return e.value;if(t&ie.Optional)return null;throw new $(204,!1)};var EI=!1,wo=(()=>{class t{static __NG_ELEMENT_ID__=hR;static __NG_ENV_ID__=n=>n}return t})(),Gh=class extends wo{_lView;constructor(e){super(),this._lView=e}onDestroy(e){let n=this._lView;return _o(n)?(e(),()=>{}):(qE(n,e),()=>Rx(n,e))}};function hR(){return new Gh(Te())}var fo=class{},II=new z("",{providedIn:"root",factory:()=>!1});var bI=new z(""),DI=new z(""),mr=(()=>{class t{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new rt(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=U({token:t,providedIn:"root",factory:()=>new t})}return t})();var Wh=class extends Ze{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,PE()&&(this.destroyRef=N(wo,{optional:!0})??void 0,this.pendingTasks=N(mr,{optional:!0})??void 0)}emit(e){let n=pe(null);try{super.next(e)}finally{pe(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let c=super.subscribe({next:i,error:o,complete:s});return e instanceof Ue&&e.add(c),c}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},vt=Wh;function Pu(...t){}function TI(t){let e,n;function r(){t=Pu;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function jw(t){return queueMicrotask(()=>t()),()=>{t=Pu}}var Op="isAngularZone",Ou=Op+"_ID",pR=0,Ve=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new vt(!1);onMicrotaskEmpty=new vt(!1);onStable=new vt(!1);onError=new vt(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=EI}=e;if(typeof Zone>"u")throw new $(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,yR(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Op)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new $(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new $(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,gR,Pu,Pu);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},gR={};function kp(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function mR(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){TI(()=>{t.callbackScheduled=!1,Kh(t),t.isCheckStableRunning=!0,kp(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Kh(t)}function yR(t){let e=()=>{mR(t)},n=pR++;t._inner=t._inner.fork({name:"angular",properties:{[Op]:!0,[Ou]:n,[Ou+n]:!0},onInvokeTask:(r,i,o,s,c,u)=>{if(vR(u))return r.invokeTask(o,s,c,u);try{return Bw(t),r.invokeTask(o,s,c,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Uw(t)}},onInvoke:(r,i,o,s,c,u,l)=>{try{return Bw(t),r.invoke(o,s,c,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!_R(u)&&e(),Uw(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Kh(t),kp(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Kh(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Bw(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Uw(t){t._nesting--,kp(t)}var Qh=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new vt;onMicrotaskEmpty=new vt;onStable=new vt;onError=new vt;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function vR(t){return CI(t,"__ignore_ng_zone__")}function _R(t){return CI(t,"__scheduler_tick__")}function CI(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var hn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},wR=new z("",{providedIn:"root",factory:()=>{let t=N(Ve),e=N(hn);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function $w(t,e){return pE(t,e)}function ER(t){return pE(hE,t)}var SI=($w.required=ER,$w);function IR(){return Ju(At(),Te())}function Ju(t,e){return new Eo(gn(t,e))}var Eo=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=IR}return t})();function AI(t){return(t.flags&128)===128}var xI=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(xI||{}),RI=new Map,bR=0;function DR(){return bR++}function TR(t){RI.set(t[Gu],t)}function Yh(t){RI.delete(t[Gu])}var Hw="__ngContext__";function Io(t,e){gr(e)?(t[Hw]=e[Gu],TR(e)):t[Hw]=e}function MI(t){return PI(t[Qs])}function NI(t){return PI(t[qt])}function PI(t){for(;t!==null&&!$n(t);)t=t[qt];return t}var Zh;function OI(t){Zh=t}function CR(){if(Zh!==void 0)return Zh;if(typeof document<"u")return document;throw new $(210,!1)}var Fp=new z("",{providedIn:"root",factory:()=>SR}),SR="ng",Lp=new z(""),bo=new z("",{providedIn:"platform",factory:()=>"unknown"});var Vp=new z("",{providedIn:"root",factory:()=>CR().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var AR="h",xR="b";var kI=!1,RR=new z("",{providedIn:"root",factory:()=>kI});var jp=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(jp||{}),Do=new z(""),zw=new Set;function sa(t){zw.has(t)||(zw.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var FI=(()=>{class t{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=MR}return t})();function MR(){return new FI(Te(),At())}var eo=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(eo||{}),LI=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=U({token:t,providedIn:"root",factory:()=>new t})}return t})(),NR=[eo.EarlyRead,eo.Write,eo.MixedReadWrite,eo.Read],PR=(()=>{class t{ngZone=N(Ve);scheduler=N(fo);errorHandler=N(hn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){N(Do,{optional:!0})}execute(){let n=this.sequences.size>0;n&&Ie(16),this.executing=!0;for(let r of NR)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&Ie(17)}register(n){let{view:r}=n;r!==void 0?((r[no]??=[]).push(n),ra(r),r[te]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(jp.AFTER_NEXT_RENDER,n):n()}static \u0275prov=U({token:t,providedIn:"root",factory:()=>new t})}return t})(),Jh=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,n,r,i,o,s=null){this.impl=e,this.hooks=n,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[no];e&&(this.view[no]=e.filter(n=>n!==this))}};function Bp(t,e){!e?.injector&&Ex(Bp);let n=e?.injector??N(Wt);return sa("NgAfterNextRender"),kR(t,n,e,!0)}function OR(t,e){if(t instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[e]=t,n}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function kR(t,e,n,r){let i=e.get(LI);i.impl??=e.get(PR);let o=e.get(Do,null,{optional:!0}),s=n?.phase??eo.MixedReadWrite,c=n?.manualCleanup!==!0?e.get(wo):null,u=e.get(FI,null,{optional:!0}),l=new Jh(i.impl,OR(t,s),u?.view,r,c,o?.snapshot(null));return i.impl.register(l),l}var FR=(t,e,n,r)=>{};function LR(t,e,n,r){FR(t,e,n,r)}var VR=()=>null;function VI(t,e,n=!1){return VR(t,e,n)}function jI(t,e){let n=t.contentQueries;if(n!==null){let r=pe(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let c=t.data[s];XE(o),c.contentQueries(2,e[s],s)}}}finally{pe(r)}}}function Xh(t,e,n){XE(0);let r=pe(null);try{e(t,n)}finally{pe(r)}}function Up(t,e,n){if(bp(e)){let r=pe(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let c=t.data[s];if(c.contentQueries){let u=n[s];c.contentQueries(1,u,s)}}}finally{pe(r)}}}var pn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(pn||{});var hu;function jR(){if(hu===void 0&&(hu=null,Mh.trustedTypes))try{hu=Mh.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return hu}function qw(t){return jR()?.createScriptURL(t)||t}var ku=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${dE})`}};function Xu(t){return t instanceof ku?t.changingThisBreaksApplicationSecurity:t}function BI(t,e){let n=BR(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${dE})`)}return n===e}function BR(t){return t instanceof ku&&t.getTypeName()||null}var UR=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function $R(t){return t=String(t),t.match(UR)?t:"unsafe:"+t}var HR=/^>|^->|<!--|-->|--!>|<!-$/g,zR=/(<|>)/g,qR="\u200B$1\u200B";function GR(t){return t.replace(HR,e=>e.replace(zR,qR))}function WR(t,e){return t.createText(e)}function KR(t,e,n){t.setValue(e,n)}function QR(t,e){return t.createComment(GR(e))}function UI(t,e,n){return t.createElement(e,n)}function Fu(t,e,n,r,i){t.insertBefore(e,n,r,i)}function $I(t,e,n){t.appendChild(e,n)}function Gw(t,e,n,r,i){r!==null?Fu(t,e,n,r,i):$I(t,e,n)}function YR(t,e,n){t.removeChild(null,e,n)}function ZR(t,e,n){t.setAttribute(e,"style",n)}function JR(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function HI(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Xx(t,e,r),i!==null&&JR(t,e,i),o!==null&&ZR(t,e,o)}var $p=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}($p||{});function mn(t){let e=qI();return e?e.sanitize($p.URL,t)||"":BI(t,"URL")?Xu(t):$R(io(t))}function XR(t){let e=qI();if(e)return qw(e.sanitize($p.RESOURCE_URL,t)||"");if(BI(t,"ResourceURL"))return qw(Xu(t));throw new $(904,!1)}var eM=new Set(["embed","frame","iframe","media","script"]),tM=new Set(["base","link","script"]);function nM(t,e){return e==="src"&&eM.has(t)||e==="href"&&tM.has(t)||e==="xlink:href"&&t==="script"?XR:mn}function zI(t,e,n){return nM(e,n)(t)}function qI(){let t=Te();return t&&t[jn].sanitizer}function GI(t){return t instanceof Function?t():t}function rM(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var WI="ng-template";function iM(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&rM(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Hp(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Hp(t){return t.type===4&&t.value!==WI}function oM(t,e,n){let r=t.type===4&&!n?WI:t.value;return e===r}function sM(t,e,n){let r=4,i=t.attrs,o=i!==null?uM(i):0,s=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!s&&!Ht(r)&&!Ht(u))return!1;if(s&&Ht(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!oM(t,u,n)||u===""&&e.length===1){if(Ht(r))return!1;s=!0}}else if(r&8){if(i===null||!iM(t,i,u,n)){if(Ht(r))return!1;s=!0}}else{let l=e[++c],f=aM(u,i,Hp(t),n);if(f===-1){if(Ht(r))return!1;s=!0;continue}if(l!==""){let p;if(f>o?p="":p=i[f+1].toLowerCase(),r&2&&l!==p){if(Ht(r))return!1;s=!0}}}}return Ht(r)||s}function Ht(t){return(t&1)===0}function aM(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return lM(e,t)}function cM(t,e,n=!1){for(let r=0;r<e.length;r++)if(sM(t,e[r],n))return!0;return!1}function uM(t){for(let e=0;e<t.length;e++){let n=t[e];if(uI(n))return e}return t.length}function lM(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Ww(t,e){return t?":not("+e.trim()+")":e}function dM(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let c=t[++n];i+="["+s+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Ht(s)&&(e+=Ww(o,i),i=""),r=s,o=o||!Ht(r);n++}return i!==""&&(e+=Ww(o,i)),e}function fM(t){return t.map(dM).join(",")}function hM(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Ht(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var yn={};function zp(t,e,n,r,i,o,s,c,u,l,f){let p=Gt+r,m=p+i,y=pM(p,m),C=typeof l=="function"?l():l;return y[ge]={type:t,blueprint:y,template:n,queries:null,viewQuery:c,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:C,incompleteFirstPass:!1,ssrId:f}}function pM(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:yn);return n}function gM(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=zp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function qp(t,e,n,r,i,o,s,c,u,l,f){let p=e.blueprint.slice();return p[Un]=i,p[te]=r|4|128|8|64|1024,(l!==null||t&&t[te]&2048)&&(p[te]|=2048),HE(p),p[ht]=p[yo]=t,p[wt]=n,p[jn]=s||t&&t[jn],p[Xe]=c||t&&t[Xe],p[ao]=u||t&&t[ao]||null,p[Kt]=o,p[Gu]=DR(),p[Tu]=f,p[OE]=l,p[ln]=e.type==2?t[ln]:p,p}function mM(t,e,n){let r=gn(e,t),i=gM(n),o=t[jn].rendererFactory,s=Gp(t,qp(t,i,null,KI(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function KI(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function QI(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Gp(t,e){return t[Qs]?t[Rw][qt]=e:t[Qs]=e,t[Rw]=e,e}function H(t=1){YI(Qt(),Te(),ni()+t,!1)}function YI(t,e,n,r){if(!r)if((e[te]&3)===3){let o=t.preOrderCheckHooks;o!==null&&mu(e,o,n)}else{let o=t.preOrderHooks;o!==null&&yu(e,o,0,n)}Qr(n)}var el=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(el||{});function ep(t,e,n,r){let i=pe(null);try{let[o,s,c]=t.inputs[n],u=null;(s&el.SignalBased)!==0&&(u=e[o][Bi]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):c!==null&&(r=c.call(e,r)),t.setInput!==null?t.setInput(e,u,r,n,o):FE(e,u,o,r)}finally{pe(i)}}function ZI(t,e,n,r,i){let o=ni(),s=r&2;try{Qr(-1),s&&e.length>Gt&&YI(t,e,Gt,!1),Ie(s?2:0,i),n(r,i)}finally{Qr(o),Ie(s?3:1,i)}}function tl(t,e,n){bM(t,e,n),(n.flags&64)===64&&DM(t,e,n)}function Wp(t,e,n=gn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],c=s===-1?n(e,t):t[s];t[i++]=c}}}function yM(t,e,n,r){let o=r.get(RR,kI)||n===pn.ShadowDom,s=t.selectRootElement(e,o);return vM(s),s}function vM(t){_M(t)}var _M=()=>null;function wM(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function EM(t,e,n,r,i,o,s,c){if(!c&&Qp(e,t,n,r,i)){vo(e)&&IM(n,e.index);return}if(e.type&3){let u=gn(e,n);r=wM(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)}else e.type&12}function IM(t,e){let n=fn(e,t);n[te]&16||(n[te]|=64)}function bM(t,e,n){let r=n.directiveStart,i=n.directiveEnd;vo(n)&&mM(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||hI(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let c=t.data[s],u=zh(e,t,s,n);if(Io(u,e),o!==null&&AM(e,s-r,u,c,n,o),ei(c)){let l=fn(n.index,e);l[wt]=zh(e,t,s,n)}}}function DM(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Hx();try{Qr(o);for(let c=r;c<i;c++){let u=t.data[c],l=e[c];$h(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&TM(u,l)}}finally{Qr(-1),$h(s)}}function TM(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function Kp(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];cM(e,o.selectors,!1)&&(r??=[],ei(o)?r.unshift(o):r.push(o))}return r}function CM(t,e,n,r,i,o){let s=gn(t,e);SM(e[Xe],s,o,t.value,n,r,i)}function SM(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let c=s==null?io(o):s(o,r||"",i);t.setAttribute(e,i,c,n)}}function AM(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let c=0;c<s.length;c+=2){let u=s[c],l=s[c+1];ep(r,n,u,l)}}function xM(t,e){let n=t[ao],r=n?n.get(hn,null):null;r&&r.handleError(e)}function Qp(t,e,n,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],c=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],f=s[u+1],p=e.data[l];ep(p,n[l],f,i),c=!0}if(o)for(let u of o){let l=n[u],f=e.data[u];ep(f,l,r,i),c=!0}return c}function RM(t,e){let n=fn(e,t),r=n[ge];MM(r,n);let i=n[Un];i!==null&&n[Tu]===null&&(n[Tu]=VI(i,n[ao])),Ie(18),Yp(r,n,n[wt]),Ie(19,n[wt])}function MM(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Yp(t,e,n){Ap(e);try{let r=t.viewQuery;r!==null&&Xh(1,r,n);let i=t.template;i!==null&&ZI(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[uo]?.finishViewCreation(t),t.staticContentQueries&&jI(t,e),t.staticViewQueries&&Xh(2,t.viewQuery,n);let o=t.components;o!==null&&NM(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[te]&=-5,xp()}}function NM(t,e){for(let n=0;n<e.length;n++)RM(t,e[n])}function PM(t,e,n,r){let i=pe(null);try{let o=e.tView,c=t[te]&4096?4096:16,u=qp(t,o,n,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[co]=l;let f=t[uo];return f!==null&&(u[uo]=f.createEmbeddedView(o)),Yp(o,u,n),u}finally{pe(i)}}function Kw(t,e){return!e||e.firstChild===null||AI(t)}var OM;function Zp(t,e){return OM(t,e)}var Bn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Bn||{});function JI(t){return(t.flags&32)===32}function to(t,e,n,r,i){if(r!=null){let o,s=!1;$n(r)?o=r:gr(r)&&(s=!0,r=r[Un]);let c=dn(r);t===0&&n!==null?i==null?$I(e,n,c):Fu(e,n,c,i||null,!0):t===1&&n!==null?Fu(e,n,c,i||null,!0):t===2?YR(e,c,s):t===3&&e.destroyNode(c),o!=null&&GM(e,t,o,n,i)}}function kM(t,e){XI(t,e),e[Un]=null,e[Kt]=null}function FM(t,e,n,r,i,o){r[Un]=i,r[Kt]=e,rl(t,r,n,1,i,o)}function XI(t,e){e[jn].changeDetectionScheduler?.notify(9),rl(t,e,e[Xe],2,null,null)}function LM(t){let e=t[Qs];if(!e)return Ch(t[ge],t);for(;e;){let n=null;if(gr(e))n=e[Qs];else{let r=e[kt];r&&(n=r)}if(!n){for(;e&&!e[qt]&&e!==t;)gr(e)&&Ch(e[ge],e),e=e[ht];e===null&&(e=t),gr(e)&&Ch(e[ge],e),n=e&&e[qt]}e=n}}function Jp(t,e){let n=t[xu],r=n.indexOf(e);n.splice(r,1)}function eb(t,e){if(_o(e))return;let n=e[Xe];n.destroyNode&&rl(t,e,n,3,null,null),LM(e)}function Ch(t,e){if(_o(e))return;let n=pe(null);try{e[te]&=-129,e[te]|=256,e[Ot]&&nh(e[Ot]),jM(t,e),VM(t,e),e[ge].type===1&&e[Xe].destroy();let r=e[co];if(r!==null&&$n(e[ht])){r!==e[ht]&&Jp(r,e);let i=e[uo];i!==null&&i.detachView(t)}Yh(e)}finally{pe(n)}}function VM(t,e){let n=t.cleanup,r=e[Cu];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let c=n[s+3];c>=0?r[c]():r[-c].unsubscribe(),s+=2}else{let c=r[n[s+1]];n[s].call(c)}r!==null&&(e[Cu]=null);let i=e[pr];if(i!==null){e[pr]=null;for(let s=0;s<i.length;s++){let c=i[s];c()}}let o=e[Su];if(o!==null){e[Su]=null;for(let s of o)s.destroy()}}function jM(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Ys)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let c=i[o[s]],u=o[s+1];Ie(4,c,u);try{u.call(c)}finally{Ie(5,c,u)}}else{Ie(4,i,o);try{o.call(i)}finally{Ie(5,i,o)}}}}}function BM(t,e,n){return UM(t,e.parent,n)}function UM(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Un];if(vo(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===pn.None||i===pn.Emulated)return null}return gn(r,n)}function $M(t,e,n){return zM(t,e,n)}function HM(t,e,n){return t.type&40?gn(t,n):null}var zM=HM,Qw;function nl(t,e,n,r){let i=BM(t,r,e),o=e[Xe],s=r.parent||e[Kt],c=$M(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)Gw(o,i,n[u],c,!1);else Gw(o,i,n,c,!1);Qw!==void 0&&Qw(o,r,e,n,i)}function qs(t,e){if(e!==null){let n=e.type;if(n&3)return gn(e,t);if(n&4)return tp(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return qs(t,r);{let i=t[e.index];return $n(i)?tp(-1,i):dn(i)}}else{if(n&128)return qs(t,e.next);if(n&32)return Zp(e,t)()||dn(t[e.index]);{let r=tb(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Kr(t[ln]);return qs(i,r)}else return qs(t,e.next)}}}return null}function tb(t,e){if(e!==null){let r=t[ln][Kt],i=e.projection;return r.projection[i]}return null}function tp(t,e){let n=kt+t+1;if(n<e.length){let r=e[n],i=r[ge].firstChild;if(i!==null)return qs(r,i)}return e[Wr]}function Xp(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let c=r[n.index],u=n.type;if(s&&e===0&&(c&&Io(dn(c),r),n.flags|=2),!JI(n))if(u&8)Xp(t,e,n.child,r,i,o,!1),to(e,t,i,c,o);else if(u&32){let l=Zp(n,r),f;for(;f=l();)to(e,t,i,f,o);to(e,t,i,c,o)}else u&16?qM(t,e,r,n,i,o):to(e,t,i,c,o);n=s?n.projectionNext:n.next}}function rl(t,e,n,r,i,o){Xp(n,r,t.firstChild,e,i,o,!1)}function qM(t,e,n,r,i,o){let s=n[ln],u=s[Kt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let f=u[l];to(e,t,i,f,o)}else{let l=u,f=s[ht];AI(r)&&(l.flags|=128),Xp(t,e,l,f,i,o,!0)}}function GM(t,e,n,r,i){let o=n[Wr],s=dn(n);o!==s&&to(e,t,r,o,i);for(let c=kt;c<n.length;c++){let u=n[c];rl(u[ge],u,t,e,r,o)}}function WM(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Bn.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Bn.Important),t.setStyle(n,r,i,o))}}function Lu(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(dn(o)),$n(o)&&KM(o,r);let s=n.type;if(s&8)Lu(t,e,n.child,r);else if(s&32){let c=Zp(n,e),u;for(;u=c();)r.push(u)}else if(s&16){let c=tb(e,n);if(Array.isArray(c))r.push(...c);else{let u=Kr(e[ln]);Lu(u[ge],u,c,r,!0)}}n=i?n.projectionNext:n.next}return r}function KM(t,e){for(let n=kt;n<t.length;n++){let r=t[n],i=r[ge].firstChild;i!==null&&Lu(r[ge],r,i,e)}t[Wr]!==t[Un]&&e.push(t[Wr])}function nb(t){if(t[no]!==null){for(let e of t[no])e.impl.addSequence(e);t[no].length=0}}var rb=[];function QM(t){return t[Ot]??YM(t)}function YM(t){let e=rb.pop()??Object.create(JM);return e.lView=t,e}function ZM(t){t.lView[Ot]!==t&&(t.lView=null,rb.push(t))}var JM=ye(P({},Hc),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{ra(t.lView)},consumerOnSignalRead(){this.lView[Ot]=this}});function XM(t){let e=t[Ot]??Object.create(eN);return e.lView=t,e}var eN=ye(P({},Hc),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=Kr(t.lView);for(;e&&!ib(e[ge]);)e=Kr(e);e&&zE(e)},consumerOnSignalRead(){this.lView[Ot]=this}});function ib(t){return t.type!==2}function ob(t){if(t[Su]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[Su])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[te]&8192)}}var tN=100;function sb(t,e=!0,n=0){let i=t[jn].rendererFactory,o=!1;o||i.begin?.();try{nN(t,n)}catch(s){throw e&&xM(t,s),s}finally{o||i.end?.()}}function nN(t,e){let n=YE();try{Nw(!0),np(t,e);let r=0;for(;Ku(t);){if(r===tN)throw new $(103,!1);r++,np(t,1)}}finally{Nw(n)}}function rN(t,e,n,r){if(_o(e))return;let i=e[te],o=!1,s=!1;Ap(e);let c=!0,u=null,l=null;o||(ib(t)?(l=QM(e),u=eh(l)):Zf()===null?(c=!1,l=XM(e),u=eh(l)):e[Ot]&&(nh(e[Ot]),e[Ot]=null));try{HE(e),Bx(t.bindingStartIndex),n!==null&&ZI(t,e,n,2,r);let f=(i&3)===3;if(!o)if(f){let y=t.preOrderCheckHooks;y!==null&&mu(e,y,null)}else{let y=t.preOrderHooks;y!==null&&yu(e,y,0,null),Dh(e,0)}if(s||iN(e),ob(e),ab(e,0),t.contentQueries!==null&&jI(t,e),!o)if(f){let y=t.contentCheckHooks;y!==null&&mu(e,y)}else{let y=t.contentHooks;y!==null&&yu(e,y,1),Dh(e,1)}sN(t,e);let p=t.components;p!==null&&ub(e,p,0);let m=t.viewQuery;if(m!==null&&Xh(2,m,r),!o)if(f){let y=t.viewCheckHooks;y!==null&&mu(e,y)}else{let y=t.viewHooks;y!==null&&yu(e,y,2),Dh(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[bh]){for(let y of e[bh])y();e[bh]=null}o||(nb(e),e[te]&=-73)}catch(f){throw o||ra(e),f}finally{l!==null&&(z_(l,u),c&&ZM(l)),xp()}}function ab(t,e){for(let n=MI(t);n!==null;n=NI(n))for(let r=kt;r<n.length;r++){let i=n[r];cb(i,e)}}function iN(t){for(let e=MI(t);e!==null;e=NI(e)){if(!(e[te]&2))continue;let n=e[xu];for(let r=0;r<n.length;r++){let i=n[r];zE(i)}}}function oN(t,e,n){Ie(18);let r=fn(e,t);cb(r,n),Ie(19,r[wt])}function cb(t,e){Dp(t)&&np(t,e)}function np(t,e){let r=t[ge],i=t[te],o=t[Ot],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&th(o)),s||=!1,o&&(o.dirty=!1),t[te]&=-9217,s)rN(r,t,r.template,t[wt]);else if(i&8192){ob(t),ab(t,1);let c=r.components;c!==null&&ub(t,c,1),nb(t)}}function ub(t,e,n){for(let r=0;r<e.length;r++)oN(t,e[r],n)}function sN(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Qr(~i);else{let o=i,s=n[++r],c=n[++r];$x(s,o);let u=e[o];Ie(24,u),c(2,u),Ie(25,u)}}}finally{Qr(-1)}}function eg(t,e){let n=YE()?64:1088;for(t[jn].changeDetectionScheduler?.notify(e);t;){t[te]|=n;let r=Kr(t);if(Ru(t)&&!r)return t;t=r}return null}function lb(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function aN(t,e,n,r=!0){let i=e[ge];if(cN(i,e,t,n),r){let s=tp(n,t),c=e[Xe],u=c.parentNode(t[Wr]);u!==null&&FM(i,t[Kt],c,e,u,s)}let o=e[Tu];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function rp(t,e){if(t.length<=kt)return;let n=kt+e,r=t[n];if(r){let i=r[co];i!==null&&i!==t&&Jp(i,r),e>0&&(t[n-1][qt]=r[qt]);let o=bu(t,kt+e);kM(r[ge],r);let s=o[uo];s!==null&&s.detachView(o[ge]),r[ht]=null,r[qt]=null,r[te]&=-129}return r}function cN(t,e,n,r){let i=kt+r,o=n.length;r>0&&(n[i-1][qt]=e),r<o-kt?(e[qt]=n[i],CE(n,kt+r,e)):(n.push(e),e[qt]=null),e[ht]=n;let s=e[co];s!==null&&n!==s&&db(s,e);let c=e[uo];c!==null&&c.insertView(t),Bh(e),e[te]|=128}function db(t,e){let n=t[xu],r=e[ht];if(gr(r))t[te]|=2;else{let i=r[ht][ln];e[ln]!==i&&(t[te]|=2)}n===null?t[xu]=[e]:n.push(e)}var Zs=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,n=e[ge];return Lu(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[wt]}set context(e){this._lView[wt]=e}get destroyed(){return _o(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[ht];if($n(e)){let n=e[Au],r=n?n.indexOf(this):-1;r>-1&&(rp(e,r),bu(n,r))}this._attachedToViewContainer=!1}eb(this._lView[ge],this._lView)}onDestroy(e){qE(this._lView,e)}markForCheck(){eg(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[te]&=-129}reattach(){Bh(this._lView),this._lView[te]|=128}detectChanges(){this._lView[te]|=1024,sb(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new $(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Ru(this._lView),n=this._lView[co];n!==null&&!e&&Jp(n,this._lView),XI(this._lView[ge],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new $(902,!1);this._appRef=e;let n=Ru(this._lView),r=this._lView[co];r!==null&&!n&&db(r,this._lView),Bh(this._lView)}};var il=(()=>{class t{static __NG_ELEMENT_ID__=dN}return t})(),uN=il,lN=class extends uN{_declarationLView;_declarationTContainer;elementRef;constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=PM(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Zs(i)}};function dN(){return fb(At(),Te())}function fb(t,e){return t.type&4?new lN(e,t,Ju(t,e)):null}function ol(t,e,n,r,i){let o=t.data[e];if(o===null)o=fN(t,e,n,r,i),Ux()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=Lx();o.injectorIndex=s===null?-1:s.injectorIndex}return ti(o,!0),o}function fN(t,e,n,r,i){let o=KE(),s=Cp(),c=s?o:o&&o.parent,u=t.data[e]=pN(t,c,n,e,r,i);return hN(t,u,o,s),u}function hN(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function pN(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,c=0;return Ox()&&(c|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var B3=new RegExp(`^(\\d+)*(${xR}|${AR})*(.*)`);var gN=()=>null;function Yw(t,e){return gN(t,e)}var mN=class{},hb=class{},ip=class{resolveComponentFactory(e){throw Error(`No component factory found for ${_t(e)}.`)}},sl=class{static NULL=new ip},ho=class{},aa=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>yN()}return t})();function yN(){let t=Te(),e=At(),n=fn(e.index,t);return(gr(n)?n:t)[Xe]}var vN=(()=>{class t{static \u0275prov=U({token:t,providedIn:"root",factory:()=>null})}return t})();var Sh={},op=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=zu(r);let i=this.injector.get(e,Sh,r);return i!==Sh||n===Sh?i:this.parentInjector.get(e,n,r)}};function sp(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let c=e[s];if(typeof c=="number")o=c;else if(o==1)i=bw(i,c);else if(o==2){let u=c,l=e[++s];r=bw(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Ae(t,e=ie.Default){let n=Te();if(n===null)return q(t,e);let r=At();return yI(r,n,Pt(t),e)}function pb(){let t="invalid";throw new Error(t)}function tg(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let c,u=null,l=null,f=wN(s);f===null?c=s:[c,u,l]=f,bN(t,e,n,c,o,u,l)}o!==null&&r!==null&&_N(n,r,o)}function _N(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new $(-301,!1);r.push(e[i],o)}}function wN(t){let e=null,n=!1;for(let s=0;s<t.length;s++){let c=t[s];if(s===0&&ei(c)&&(e=c),c.findHostDirectiveDefs!==null){n=!0;break}}if(!n)return null;let r=null,i=null,o=null;for(let s of t)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,EN(s,r,o,i)),s===e&&(r??=[],r.push(s));return r!==null?(r.push(...e===null?t:t.slice(1)),[r,i,o]):null}function EN(t,e,n,r){let i=e.length;t.findHostDirectiveDefs(t,e,r),n.set(t,[i,e.length-1])}function IN(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function bN(t,e,n,r,i,o,s){let c=r.length,u=!1;for(let m=0;m<c;m++){let y=r[m];!u&&ei(y)&&(u=!0,IN(t,n,m)),oR(hI(n,e),t,y.type)}xN(n,t.data.length,c);for(let m=0;m<c;m++){let y=r[m];y.providersResolver&&y.providersResolver(y)}let l=!1,f=!1,p=QI(t,e,c,null);c>0&&(n.directiveToIndex=new Map);for(let m=0;m<c;m++){let y=r[m];if(n.mergedAttrs=Zu(n.mergedAttrs,y.hostAttrs),TN(t,n,e,p,y),AN(p,y,i),s!==null&&s.has(y)){let[A,x]=s.get(y);n.directiveToIndex.set(y.type,[p,A+n.directiveStart,x+n.directiveStart])}else(o===null||!o.has(y))&&n.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(n.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(n.flags|=64);let C=y.type.prototype;!l&&(C.ngOnChanges||C.ngOnInit||C.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),l=!0),!f&&(C.ngOnChanges||C.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),f=!0),p++}DN(t,n,o)}function DN(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))Zw(0,e,i,r),Zw(1,e,i,r),Xw(e,r,!1);else{let o=n.get(i);Jw(0,e,o,r),Jw(1,e,o,r),Xw(e,r,!0)}}}function Zw(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),gb(e,o)}}function Jw(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],c;t===0?c=e.hostDirectiveInputs??={}:c=e.hostDirectiveOutputs??={},c[s]??=[],c[s].push(r,o),gb(e,s)}}function gb(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function Xw(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||Hp(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,c=0;for(;c<r.length;){let u=r[c];if(u===0){c+=4;continue}else if(u===5){c+=2;continue}else if(typeof u=="number")break;if(!n&&i.hasOwnProperty(u)){let l=i[u];for(let f of l)if(f===e){s??=[],s.push(u,r[c+1]);break}}else if(n&&o.hasOwnProperty(u)){let l=o[u];for(let f=0;f<l.length;f+=2)if(l[f]===e){s??=[],s.push(l[f+1],r[c+1]);break}}c+=2}t.initialInputs??=[],t.initialInputs.push(s)}function TN(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=oo(i.type,!0)),s=new Ys(o,ei(i),Ae);t.blueprint[r]=s,n[r]=s,CN(t,e,r,QI(t,n,i.hostVars,yn),i)}function CN(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let c=~e.index;SN(s)!=c&&s.push(c),s.push(n,r,o)}}function SN(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function AN(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ei(e)&&(n[""]=t)}}function xN(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function mb(t,e,n,r,i,o,s,c){let u=e.consts,l=lo(u,s),f=ol(e,t,2,r,l);return o&&tg(e,n,f,lo(u,c),i),f.mergedAttrs=Zu(f.mergedAttrs,f.attrs),f.attrs!==null&&sp(f,f.attrs,!1),f.mergedAttrs!==null&&sp(f,f.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,f),f}function yb(t,e){Rp(t,e),bp(e)&&t.queries.elementEnd(e)}var Vu=class extends sl{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Gr(e);return new po(n,this.ngModule)}};function RN(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&el.SignalBased)!==0};return i&&(o.transform=i),o})}function MN(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function NN(t,e,n){let r=e instanceof ct?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new op(n,r):n}function PN(t){let e=t.get(ho,null);if(e===null)throw new $(407,!1);let n=t.get(vN,null),r=t.get(fo,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r}}function ON(t,e){let n=(t.selectors[0][0]||"div").toLowerCase();return UI(e,n,n==="svg"?BE:n==="math"?Cx:null)}var po=class extends hb{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=RN(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=MN(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=fM(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i){Ie(22);let o=pe(null);try{let s=this.componentDef,c=r?["ng-version","19.2.18"]:hM(this.componentDef.selectors[0]),u=zp(0,null,null,1,0,null,null,null,null,[c],null),l=NN(s,i||this.ngModule,e),f=PN(l),p=f.rendererFactory.createRenderer(null,s),m=r?yM(p,r,s.encapsulation,l):ON(s,p),y=qp(null,u,null,512|KI(s),null,null,f,p,l,null,VI(m,l,!0));y[Gt]=m,Ap(y);let C=null;try{let A=mb(Gt,u,y,"#host",()=>[this.componentDef],!0,0);m&&(HI(p,m,A),Io(m,y)),tl(u,y,A),Up(u,A,y),yb(u,A),n!==void 0&&kN(A,this.ngContentSelectors,n),C=fn(A.index,y),y[wt]=C[wt],Yp(u,y,null)}catch(A){throw C!==null&&Yh(C),Yh(y),A}finally{Ie(23),xp()}return new ap(this.componentType,y)}finally{pe(o)}}},ap=class extends mN{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n){super(),this._rootLView=n,this._tNode=$E(n[ge],Gt),this.location=Ju(this._tNode,n),this.instance=fn(this._tNode.index,n)[wt],this.hostView=this.changeDetectorRef=new Zs(n,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=Qp(r,i[ge],i,e,n);this.previousInputValues.set(e,n);let s=fn(r.index,i);eg(s,1)}get injector(){return new qr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function kN(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var To=(()=>{class t{static __NG_ELEMENT_ID__=FN}return t})();function FN(){let t=At();return VN(t,Te())}var LN=To,vb=class extends LN{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Ju(this._hostTNode,this._hostLView)}get injector(){return new qr(this._hostTNode,this._hostLView)}get parentInjector(){let e=Mp(this._hostTNode,this._hostLView);if(lI(e)){let n=Nu(e,this._hostLView),r=Mu(e),i=n[ge].data[r+8];return new qr(i,n)}else return new qr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=eE(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-kt}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Yw(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(c,i,Kw(this._hostTNode,s)),c}createComponent(e,n,r,i,o){let s=e&&!Ix(e),c;if(s)c=n;else{let C=n||{};c=C.index,r=C.injector,i=C.projectableNodes,o=C.environmentInjector||C.ngModuleRef}let u=s?e:new po(Gr(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let A=(s?l:this.parentInjector).get(ct,null);A&&(o=A)}let f=Gr(u.componentType??{}),p=Yw(this._lContainer,f?.id??null),m=p?.firstChild??null,y=u.create(l,i,m,o);return this.insertImpl(y.hostView,c,Kw(this._hostTNode,p)),y}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(Ax(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[ht],l=new vb(u,u[Kt],u[ht]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return aN(s,i,o,r),e.attachToViewContainerRef(),CE(Ah(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=eE(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=rp(this._lContainer,n);r&&(bu(Ah(this._lContainer),n),eb(r[ge],r))}detach(e){let n=this._adjustIndex(e,-1),r=rp(this._lContainer,n);return r&&bu(Ah(this._lContainer),n)!=null?new Zs(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function eE(t){return t[Au]}function Ah(t){return t[Au]||(t[Au]=[])}function VN(t,e){let n,r=e[t.index];return $n(r)?n=r:(n=lb(r,e,null,t),e[t.index]=n,Gp(e,n)),BN(n,e,t,r),new vb(n,t,e)}function jN(t,e){let n=t[Xe],r=n.createComment(""),i=gn(e,t),o=n.parentNode(i);return Fu(n,o,r,n.nextSibling(i),!1),r}var BN=HN,UN=()=>!1;function $N(t,e,n){return UN(t,e,n)}function HN(t,e,n,r){if(t[Wr])return;let i;n.type&8?i=dn(r):i=jN(e,n),t[Wr]=i}var go=class{},ng=class{};var cp=class extends go{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Vu(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=xE(e);this._bootstrapComponents=GI(o.bootstrap),this._r3Injector=wI(e,n,[{provide:go,useValue:this},{provide:sl,useValue:this.componentFactoryResolver},...r],_t(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},up=class extends ng{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new cp(this.moduleType,e,[])}};var ju=class extends go{injector;componentFactoryResolver=new Vu(this);instance=null;constructor(e){super();let n=new Ks([...e.providers,{provide:go,useValue:this},{provide:sl,useValue:this.componentFactoryResolver}],e.parent||Ip(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function ca(t,e,n=null){return new ju({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var zN=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=RE(!1,n.type),i=r.length>0?ca([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=U({token:t,providedIn:"environment",factory:()=>new t(q(ct))})}return t})();function Ft(t){return Xs(()=>{let e=_b(t),n=ye(P({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===xI.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(zN).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||pn.Emulated,styles:t.styles||zt,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&sa("NgStandalone"),wb(n);let r=t.dependencies;return n.directiveDefs=tE(r,!1),n.pipeDefs=tE(r,!0),n.id=QN(n),n})}function qN(t){return Gr(t)||ux(t)}function GN(t){return t!==null}function ii(t){return Xs(()=>({type:t.type,bootstrap:t.bootstrap||zt,declarations:t.declarations||zt,imports:t.imports||zt,exports:t.exports||zt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function WN(t,e){if(t==null)return so;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,c,u;Array.isArray(i)?(c=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,c=el.None,u=null),n[o]=[r,c,u],e[o]=s}return n}function KN(t){if(t==null)return so;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function yr(t){return Xs(()=>{let e=_b(t);return wb(e),e})}function _b(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||so,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||zt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:WN(t.inputs,e),outputs:KN(t.outputs),debugInfo:null}}function wb(t){t.features?.forEach(e=>e(t))}function tE(t,e){if(!t)return null;let n=e?lx:qN;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(GN)}function QN(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Eb(t){return ZN(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function YN(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function ZN(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Ib(t,e,n){return t[e]=n}function JN(t,e){return t[e]}function Yr(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function XN(t,e,n,r){let i=Yr(t,e,n);return Yr(t,e+1,r)||i}function eP(t,e,n,r,i,o,s,c,u){let l=e.consts,f=ol(e,t,4,s||null,c||null);Tp()&&tg(e,n,f,lo(l,u),Kp),f.mergedAttrs=Zu(f.mergedAttrs,f.attrs),Rp(e,f);let p=f.tView=zp(2,f,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,f),p.queries=e.queries.embeddedTView(f)),f}function tP(t,e,n,r,i,o,s,c,u,l){let f=n+Gt,p=e.firstCreatePass?eP(f,e,t,r,i,o,s,c,u):e.data[f];ti(p,!1);let m=nP(e,t,p,n);Qu()&&nl(e,t,m,p),Io(m,t);let y=lb(m,t,m,p);return t[f]=y,Gp(t,y),$N(y,p,t),Wu(p)&&tl(e,t,p),u!=null&&Wp(t,p,l),p}function Oe(t,e,n,r,i,o,s,c){let u=Te(),l=Qt(),f=lo(l.consts,o);return tP(u,l,t,e,n,r,i,f,s,c),Oe}var nP=rP;function rP(t,e,n,r){return Yu(!0),e[Xe].createComment("")}var bb=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var Db=new z("");var iP=(()=>{class t{static \u0275prov=U({token:t,providedIn:"root",factory:()=>new lp})}return t})(),lp=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}};function ua(t){return!!t&&typeof t.then=="function"}function Tb(t){return!!t&&typeof t.subscribe=="function"}var Cb=new z("");function rg(t){return ta([{provide:Cb,multi:!0,useValue:t}])}var Sb=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=N(Cb,{optional:!0})??[];injector=N(Wt);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=Et(this.injector,i);if(ua(o))n.push(o);else if(Tb(o)){let s=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),al=new z("");function oP(){rh(()=>{throw new $(600,!1)})}function sP(t){return t.isBoundToModule}var aP=10;var Zr=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=N(wR);afterRenderManager=N(LI);zonelessEnabled=N(II);rootEffectScheduler=N(iP);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new Ze;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=N(mr).hasPendingTasks.pipe(Z(n=>!n));constructor(){N(Do,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=N(ct);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=Wt.NULL){Ie(10);let o=n instanceof hb;if(!this._injector.get(Sb).done){let y="";throw new $(405,y)}let c;o?c=n:c=this._injector.get(sl).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let u=sP(c)?void 0:this._injector.get(go),l=r||c.selector,f=c.create(i,[],l,u),p=f.location.nativeElement,m=f.injector.get(Db,null);return m?.registerApplication(p),f.onDestroy(()=>{this.detachView(f.hostView),vu(this.components,f),m?.unregisterApplication(p)}),this._loadComponent(f),Ie(11,f),f}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Ie(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(jp.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new $(101,!1);let n=pe(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,pe(n),this.afterTick.next(),Ie(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(ho,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<aP;)Ie(14),this.synchronizeOnce(),Ie(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)cP(r,i,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Ku(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;vu(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(al,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>vu(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new $(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function vu(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function cP(t,e,n,r){if(!n&&!Ku(t))return;sb(t,e,n&&!r?0:1)}function vn(t,e,n,r){let i=Te(),o=Sp();if(Yr(i,o,e)){let s=Qt(),c=oI();CM(c,i,t,e,n,r)}return vn}function uP(t,e,n,r){return Yr(t,Sp(),n)?e+io(n)+r:yn}function lP(t,e,n,r,i,o){let s=jx(),c=XN(t,s,n,i);return JE(2),c?e+io(n)+r+io(i)+o:yn}function pu(t,e){return t<<17|e<<2}function Jr(t){return t>>17&32767}function dP(t){return(t&2)==2}function fP(t,e){return t&131071|e<<17}function dp(t){return t|2}function mo(t){return(t&131068)>>2}function xh(t,e){return t&-131069|e<<2}function hP(t){return(t&1)===1}function fp(t){return t|1}function pP(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,c=Jr(s),u=mo(s);t[r]=n;let l=!1,f;if(Array.isArray(n)){let p=n;f=p[1],(f===null||ea(p,f)>0)&&(l=!0)}else f=n;if(i)if(u!==0){let m=Jr(t[c+1]);t[r+1]=pu(m,c),m!==0&&(t[m+1]=xh(t[m+1],r)),t[c+1]=fP(t[c+1],r)}else t[r+1]=pu(c,0),c!==0&&(t[c+1]=xh(t[c+1],r)),c=r;else t[r+1]=pu(u,0),c===0?c=r:t[u+1]=xh(t[u+1],r),u=r;l&&(t[r+1]=dp(t[r+1])),nE(t,f,r,!0),nE(t,f,r,!1),gP(e,f,t,r,o),s=pu(c,u),o?e.classBindings=s:e.styleBindings=s}function gP(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&ea(o,e)>=0&&(n[r+1]=fp(n[r+1]))}function nE(t,e,n,r){let i=t[n+1],o=e===null,s=r?Jr(i):mo(i),c=!1;for(;s!==0&&(c===!1||o);){let u=t[s],l=t[s+1];mP(u,e)&&(c=!0,t[s+1]=r?fp(l):dp(l)),s=r?Jr(l):mo(l)}c&&(t[n+1]=r?dp(i):fp(i))}function mP(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?ea(t,e)>=0:!1}function J(t,e,n){let r=Te(),i=Sp();if(Yr(r,i,e)){let o=Qt(),s=oI();EM(o,s,r,t,e,r[Xe],n,!1)}return J}function rE(t,e,n,r,i){Qp(e,t,n,i?"class":"style",r)}function Co(t,e){return yP(t,e,null,!0),Co}function yP(t,e,n,r){let i=Te(),o=Qt(),s=JE(2);if(o.firstUpdatePass&&_P(o,t,s,r),e!==yn&&Yr(i,s,e)){let c=o.data[ni()];DP(o,c,i,i[Xe],t,i[s+1]=TP(e,n),r,s)}}function vP(t,e){return e>=t.expandoStartIndex}function _P(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[ni()],s=vP(t,n);CP(o,r)&&e===null&&!s&&(e=!1),e=wP(i,o,e,r),pP(i,o,e,n,s,r)}}function wP(t,e,n,r){let i=zx(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Rh(null,t,e,n,r),n=Js(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=Rh(i,t,e,n,r),o===null){let u=EP(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Rh(null,t,e,u[1],r),u=Js(u,e.attrs,r),IP(t,e,r,u))}else o=bP(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function EP(t,e,n){let r=n?e.classBindings:e.styleBindings;if(mo(r)!==0)return t[Jr(r)]}function IP(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Jr(i)]=r}function bP(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Js(r,s,n)}return Js(r,e.attrs,n)}function Rh(t,e,n,r,i){let o=null,s=n.directiveEnd,c=n.directiveStylingLast;for(c===-1?c=n.directiveStart:c++;c<s&&(o=e[c],r=Js(r,o.hostAttrs,i),o!==t);)c++;return t!==null&&(n.directiveStylingLast=c),r}function Js(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),ax(t,s,n?!0:e[++o]))}return t===void 0?null:t}function DP(t,e,n,r,i,o,s,c){if(!(e.type&3))return;let u=t.data,l=u[c+1],f=hP(l)?iE(u,e,n,i,mo(l),s):void 0;if(!Bu(f)){Bu(o)||dP(l)&&(o=iE(u,null,n,i,c,s));let p=UE(ni(),n);WM(r,s,p,i,o)}}function iE(t,e,n,r,i,o){let s=e===null,c;for(;i>0;){let u=t[i],l=Array.isArray(u),f=l?u[1]:u,p=f===null,m=n[i+1];m===yn&&(m=p?zt:void 0);let y=p?Eh(m,r):f===r?m:void 0;if(l&&!Bu(y)&&(y=Eh(u,r)),Bu(y)&&(c=y,s))return c;let C=t[i+1];i=s?Jr(C):mo(C)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(c=Eh(u,r))}return c}function Bu(t){return t!==void 0}function TP(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=_t(Xu(t)))),t}function CP(t,e){return(t.flags&(e?8:16))!==0}function F(t,e,n,r){let i=Te(),o=Qt(),s=Gt+t,c=i[Xe],u=o.firstCreatePass?mb(s,o,i,e,Kp,Tp(),n,r):o.data[s],l=SP(o,i,u,c,e,t);i[s]=l;let f=Wu(u);return ti(u,!0),HI(c,l,u),!JI(u)&&Qu()&&nl(o,i,l,u),(Mx()===0||f)&&Io(l,i),Nx(),f&&(tl(o,i,u),Up(o,u,i)),r!==null&&Wp(i,u),F}function V(){let t=At();Cp()?QE():(t=t.parent,ti(t,!1));let e=t;kx(e)&&Fx(),Px();let n=Qt();return n.firstCreatePass&&yb(n,e),e.classesWithoutHost!=null&&Zx(e)&&rE(n,e,Te(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&Jx(e)&&rE(n,e,Te(),e.stylesWithoutHost,!1),V}function ke(t,e,n,r){return F(t,e,n,r),V(),ke}var SP=(t,e,n,r,i,o)=>(Yu(!0),UI(r,i,Kx()));function AP(t,e,n,r,i){let o=e.consts,s=lo(o,r),c=ol(e,t,8,"ng-container",s);s!==null&&sp(c,s,!0);let u=lo(o,i);return Tp()&&tg(e,n,c,u,Kp),c.mergedAttrs=Zu(c.mergedAttrs,c.attrs),e.queries!==null&&e.queries.elementStart(e,c),c}function la(t,e,n){let r=Te(),i=Qt(),o=t+Gt,s=i.firstCreatePass?AP(o,i,r,e,n):i.data[o];ti(s,!0);let c=xP(i,r,s,t);return r[o]=c,Qu()&&nl(i,r,c,s),Io(c,r),Wu(s)&&(tl(i,r,s),Up(i,s,r)),n!=null&&Wp(r,s),la}function da(){let t=At(),e=Qt();return Cp()?QE():(t=t.parent,ti(t,!1)),e.firstCreatePass&&(Rp(e,t),bp(t)&&e.queries.elementEnd(t)),da}var xP=(t,e,n,r)=>(Yu(!0),QR(e[Xe],""));function fa(){return Te()}var Uu="en-US";var RP=Uu;function MP(t){typeof t=="string"&&(RP=t.toLowerCase().replace(/_/g,"-"))}function oE(t,e,n){return function r(i){if(i===Function)return n;let o=vo(t)?fn(t.index,e):e;eg(o,5);let s=e[wt],c=sE(e,s,n,i),u=r.__ngNextListenerFn__;for(;u;)c=sE(e,s,u,i)&&c,u=u.__ngNextListenerFn__;return c}}function sE(t,e,n,r){let i=pe(null);try{return Ie(6,e,n),n(r)!==!1}catch(o){return NP(t,o),!1}finally{Ie(7,e,n),pe(i)}}function NP(t,e){let n=t[ao],r=n?n.get(hn,null):null;r&&r.handleError(e)}function aE(t,e,n,r,i,o){let s=e[n],c=e[ge],l=c.data[n].outputs[r],f=s[l],p=c.firstCreatePass?WE(c):null,m=GE(e),y=f.subscribe(o),C=m.length;m.push(o,y),p&&p.push(i,t.index,C,-(C+1))}function vr(t,e,n,r){let i=Te(),o=Qt(),s=At();return OP(o,i,i[Xe],s,t,e,r),vr}function PP(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let c=e[Cu],u=i[o+2];return c.length>u?c[u]:null}typeof s=="string"&&(o+=2)}return null}function OP(t,e,n,r,i,o,s){let c=Wu(r),l=t.firstCreatePass?WE(t):null,f=GE(e),p=!0;if(r.type&3||s){let m=gn(r,e),y=s?s(m):m,C=f.length,A=s?B=>s(dn(B[r.index])):r.index,x=null;if(!s&&c&&(x=PP(t,e,i,r.index)),x!==null){let B=x.__ngLastListenerFn__||x;B.__ngNextListenerFn__=o,x.__ngLastListenerFn__=o,p=!1}else{o=oE(r,e,o),LR(e,y,i,o);let B=n.listen(y,i,o);f.push(o,B),l&&l.push(i,A,C,C+1)}}else o=oE(r,e,o);if(p){let m=r.outputs?.[i],y=r.hostDirectiveOutputs?.[i];if(y&&y.length)for(let C=0;C<y.length;C+=2){let A=y[C],x=y[C+1];aE(r,e,A,x,i,o)}if(m&&m.length)for(let C of m)aE(r,e,C,i,i,o)}}function Ce(t=1){return Gx(t)}function ha(t){let e=Vx();return Sx(e,Gt+t)}function K(t,e=""){let n=Te(),r=Qt(),i=t+Gt,o=r.firstCreatePass?ol(r,i,1,e,null):r.data[i],s=kP(r,n,o,e,t);n[i]=s,Qu()&&nl(r,n,s,o),ti(o,!1)}var kP=(t,e,n,r,i)=>(Yu(!0),WR(e[Xe],r));function et(t){return Hn("",t,""),et}function Hn(t,e,n){let r=Te(),i=uP(r,t,e,n);return i!==yn&&Ab(r,ni(),i),Hn}function pa(t,e,n,r,i){let o=Te(),s=lP(o,t,e,n,r,i);return s!==yn&&Ab(o,ni(),s),pa}function Ab(t,e,n){let r=UE(e,t);KR(t[Xe],r,n)}function So(t,e,n){let r=ZE()+t,i=Te();return i[r]===yn?Ib(i,r,n?e.call(n):e()):JN(i,r)}function xb(t,e,n,r){return LP(Te(),ZE(),t,e,n,r)}function FP(t,e){let n=t[e];return n===yn?void 0:n}function LP(t,e,n,r,i,o){let s=e+n;return Yr(t,s,i)?Ib(t,s+1,o?r.call(o,i):r(i)):FP(t,s+1)}function ga(t,e){return fb(t,e)}var hp=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Rb=(()=>{class t{compileModuleSync(n){return new up(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=xE(n),o=GI(i.declarations).reduce((s,c)=>{let u=Gr(c);return u&&s.push(new po(u)),s},[]);return new hp(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var VP=(()=>{class t{zone=N(Ve);changeDetectionScheduler=N(fo);applicationRef=N(Zr);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function jP({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new Ve(ye(P({},BP()),{scheduleInRootZone:n})),[{provide:Ve,useFactory:t},{provide:Ws,multi:!0,useFactory:()=>{let r=N(VP,{optional:!0});return()=>r.initialize()}},{provide:Ws,multi:!0,useFactory:()=>{let r=N(UP);return()=>{r.initialize()}}},e===!0?{provide:bI,useValue:!0}:[],{provide:DI,useValue:n??EI}]}function BP(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var UP=(()=>{class t{subscription=new Ue;initialized=!1;zone=N(Ve);pendingTasks=N(mr);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ve.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ve.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var $P=(()=>{class t{appRef=N(Zr);taskService=N(mr);ngZone=N(Ve);zonelessEnabled=N(II);tracing=N(Do,{optional:!0});disableScheduling=N(bI,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ue;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Ou):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(N(DI,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Qh||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?jw:TI;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Ou+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,jw(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function HP(){return typeof $localize<"u"&&$localize.locale||Uu}var ig=new z("",{providedIn:"root",factory:()=>N(ig,ie.Optional|ie.SkipSelf)||HP()});var pp=new z(""),zP=new z("");function Hs(t){return!t.moduleRef}function qP(t){let e=Hs(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Ve);return n.run(()=>{Hs(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(hn,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),Hs(t)){let o=()=>e.destroy(),s=t.platformInjector.get(pp);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(pp);s.add(o),t.moduleRef.onDestroy(()=>{vu(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return WP(r,n,()=>{let o=e.get(Sb);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(ig,Uu);if(MP(s||Uu),!e.get(zP,!0))return Hs(t)?e.get(Zr):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(Hs(t)){let u=e.get(Zr);return t.rootComponent!==void 0&&u.bootstrap(t.rootComponent),u}else return GP(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function GP(t,e){let n=t.injector.get(Zr);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new $(-403,!1);e.push(t)}function WP(t,e,n){try{let r=n();return ua(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var _u=null;function KP(t=[],e){return Wt.create({name:e,providers:[{provide:qu,useValue:"platform"},{provide:pp,useValue:new Set([()=>_u=null])},...t]})}function QP(t=[]){if(_u)return _u;let e=KP(t);return _u=e,oP(),YP(e),e}function YP(t){let e=t.get(Lp,null);Et(t,()=>{e?.forEach(n=>n())})}var ma=(()=>{class t{static __NG_ELEMENT_ID__=ZP}return t})();function ZP(t){return JP(At(),Te(),(t&16)===16)}function JP(t,e,n){if(vo(t)&&!n){let r=fn(t.index,e);return new Zs(r,r)}else if(t.type&175){let r=e[ln];return new Zs(r,e)}return null}var gp=class{constructor(){}supports(e){return Eb(e)}create(e){return new mp(e)}},XP=(t,e)=>e,mp=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||XP}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<cE(r,i,o)?n:r,c=cE(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=c-i,f=u-i;if(l!=f){for(let m=0;m<l;m++){let y=m<o.length?o[m]:o[m]=0,C=y+m;f<=C&&C<l&&(o[m]=y+1)}let p=s.previousIndex;o[p]=f-l}}c!==u&&e(s,c,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!Eb(e))throw new $(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)o=e[c],s=this._trackByFn(c,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,c),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,c)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,YN(e,c=>{s=this._trackByFn(i,c),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,c,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,c,s,i)),Object.is(n.item,c)||this._addIdentityChange(n,c)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new yp(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new $u),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new $u),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},yp=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,n){this.item=e,this.trackById=n}},vp=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},$u=class{map=new Map;put(e){let n=e.trackById,r=this.map.get(n);r||(r=new vp,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function cE(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function uE(){return new og([new gp])}var og=(()=>{class t{factories;static \u0275prov=U({token:t,providedIn:"root",factory:uE});constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||uE()),deps:[[t,new ox,new ix]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new $(901,!1)}}return t})();function Mb(t){let{rootComponent:e,appProviders:n,platformProviders:r,platformRef:i}=t;Ie(8);try{let o=i?.injector??QP(r),s=[jP({}),{provide:fo,useExisting:$P},...n||[]],c=new ju({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return qP({r3Injector:c.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{Ie(9)}}function ya(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var lE=class{[Bi];constructor(e){this[Bi]=e}destroy(){this[Bi].destroy()}};function Nb(t){let e=Gr(t);if(!e)return null;let n=new po(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var $e=new z("");var kb=null;function zn(){return kb}function sg(t){kb??=t}var va=class{},_a=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:()=>N(Fb),providedIn:"platform"})}return t})(),ag=new z(""),Fb=(()=>{class t extends _a{_location;_history;_doc=N($e);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return zn().getBaseHref(this._doc)}onPopState(n){let r=zn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=zn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function cl(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function Pb(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function Yt(t){return t&&t[0]!=="?"?`?${t}`:t}var Zt=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:()=>N(ll),providedIn:"root"})}return t})(),ul=new z(""),ll=(()=>{class t extends Zt{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??N($e).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return cl(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Yt(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Yt(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Yt(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(q(_a),q(ul,8))};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),_r=(()=>{class t{_subject=new Ze;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=n1(Pb(Ob(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Yt(r))}normalize(n){return t.stripTrailingSlash(t1(this._basePath,Ob(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Yt(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Yt(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Yt;static joinWithSlash=cl;static stripTrailingSlash=Pb;static \u0275fac=function(r){return new(r||t)(q(Zt))};static \u0275prov=U({token:t,factory:()=>e1(),providedIn:"root"})}return t})();function e1(){return new _r(q(Zt))}function t1(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Ob(t){return t.replace(/\/index.html$/,"")}function n1(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var ug=(()=>{class t extends Zt{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=cl(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Yt(o))||this._platformLocation.pathname;this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Yt(o))||this._platformLocation.pathname;this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(q(_a),q(ul,8))};static \u0275prov=U({token:t,factory:t.\u0275fac})}return t})();var cg=/\s+/,Lb=[],lg=(()=>{class t{_ngEl;_renderer;initialClasses=Lb;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(cg):Lb}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(cg):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(cg).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||t)(Ae(Eo),Ae(aa))};static \u0275dir=yr({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})();var dl=class{$implicit;ngForOf;index;count;constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},wr=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new dl(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let c=r.get(o);r.move(c,s),Vb(c,i)}});for(let i=0,o=r.length;i<o;i++){let c=r.get(i).context;c.index=i,c.count=o,c.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);Vb(o,i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(Ae(To),Ae(il),Ae(og))};static \u0275dir=yr({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function Vb(t,e){t.context.$implicit=e.item}var oi=(()=>{class t{_viewContainer;_context=new fl;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){jb(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){jb(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(Ae(To),Ae(il))};static \u0275dir=yr({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),fl=class{$implicit=null;ngIf=null};function jb(t,e){if(t&&!t.createEmbeddedView)throw new $(2020,!1)}var Er=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=ii({type:t});static \u0275inj=Xr({})}return t})();function wa(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var dg="browser",Bb="server";function hl(t){return t===Bb}var si=class{};var Ub=(()=>{class t{static \u0275prov=U({token:t,providedIn:"root",factory:()=>new fg(N($e),window)})}return t})(),fg=class{document;window;offset=()=>[0,0];constructor(e,n){this.document=e,this.window=n}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=r1(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function r1(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var yl=new z(""),mg=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new $(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(q(yl),q(Ve))};static \u0275prov=U({token:t,factory:t.\u0275fac})}return t})(),Ea=class{_doc;constructor(e){this._doc=e}manager},gl="ng-app-id";function $b(t){for(let e of t)e.remove()}function Hb(t,e){let n=e.createElement("style");return n.textContent=t,n}function i1(t,e,n,r){let i=t.head?.querySelectorAll(`style[${gl}="${e}"],link[${gl}="${e}"]`);if(i)for(let o of i)o.removeAttribute(gl),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function pg(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var yg=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.isServer=hl(o),i1(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,Hb);r?.forEach(i=>this.addUsage(i,this.external,pg))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&($b(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])$b(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,Hb(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,pg(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(gl,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(q($e),q(Fp),q(Vp,8),q(bo))};static \u0275prov=U({token:t,factory:t.\u0275fac})}return t})(),hg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},vg=/%COMP%/g;var qb="%COMP%",o1=`_nghost-${qb}`,s1=`_ngcontent-${qb}`,a1=!0,c1=new z("",{providedIn:"root",factory:()=>a1});function u1(t){return s1.replace(vg,t)}function l1(t){return o1.replace(vg,t)}function Gb(t,e){return e.map(n=>n.replace(vg,t))}var _g=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,c,u,l=null,f=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=c,this.ngZone=u,this.nonce=l,this.tracingService=f,this.platformIsServer=hl(c),this.defaultRenderer=new Ia(n,s,u,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===pn.ShadowDom&&(r=ye(P({},r),{encapsulation:pn.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof ml?i.applyToHost(n):i instanceof ba&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,p=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case pn.Emulated:o=new ml(u,l,r,this.appId,f,s,c,p,m);break;case pn.ShadowDom:return new gg(u,l,n,r,s,c,this.nonce,p,m);default:o=new ba(u,l,r,f,s,c,p,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(q(mg),q(yg),q(Fp),q(c1),q($e),q(bo),q(Ve),q(Vp),q(Do,8))};static \u0275prov=U({token:t,factory:t.\u0275fac})}return t})(),Ia=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(hg[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(zb(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(zb(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new $(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=hg[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=hg[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Bn.DashCase|Bn.Important)?e.style.setProperty(n,r,i&Bn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Bn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=zn().getGlobalEventTarget(this.doc,e),!e))throw new $(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function zb(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var gg=class extends Ia{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,i,o,s,c,u,l){super(e,o,s,u,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let f=i.styles;f=Gb(i.id,f);for(let m of f){let y=document.createElement("style");c&&y.setAttribute("nonce",c),y.textContent=m,this.shadowRoot.appendChild(y)}let p=i.getExternalStyles?.();if(p)for(let m of p){let y=pg(m,o);c&&y.setAttribute("nonce",c),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ba=class extends Ia{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,s,c,u,l){super(e,o,s,c,u),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let f=r.styles;this.styles=l?Gb(l,f):f,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},ml=class extends ba{contentAttr;hostAttr;constructor(e,n,r,i,o,s,c,u,l){let f=i+"-"+r.id;super(e,n,r,o,s,c,u,l,f),this.contentAttr=u1(f),this.hostAttr=l1(f)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var vl=class t extends va{supportsDOMEvents=!0;static makeCurrent(){sg(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=d1();return n==null?null:f1(n)}resetBaseElement(){Da=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return wa(document.cookie,e)}},Da=null;function d1(){return Da=Da||document.head.querySelector("base"),Da?Da.getAttribute("href"):null}function f1(t){return new URL(t,document.baseURI).pathname}var h1=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac})}return t})(),Kb=(()=>{class t extends Ea{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(q($e))};static \u0275prov=U({token:t,factory:t.\u0275fac})}return t})(),Wb=["alt","control","meta","shift"],p1={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},g1={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},Qb=(()=>{class t extends Ea{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=t.parseEventName(r),c=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>zn().onAndCancel(n,s.domEventName,c,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),s="code."),Wb.forEach(l=>{let f=r.indexOf(l);f>-1&&(r.splice(f,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=p1[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),Wb.forEach(s=>{if(s!==i){let c=g1[s];c(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(q($e))};static \u0275prov=U({token:t,factory:t.\u0275fac})}return t})();function wg(t,e,n){return Mb(P({rootComponent:t,platformRef:n?.platformRef},m1(e)))}function m1(t){return{appProviders:[...E1,...t?.providers??[]],platformProviders:w1}}function y1(){vl.makeCurrent()}function v1(){return new hn}function _1(){return OI(document),document}var w1=[{provide:bo,useValue:dg},{provide:Lp,useValue:y1,multi:!0},{provide:$e,useFactory:_1}];var E1=[{provide:qu,useValue:"root"},{provide:hn,useFactory:v1},{provide:yl,useClass:Kb,multi:!0,deps:[$e]},{provide:yl,useClass:Qb,multi:!0,deps:[$e]},_g,yg,mg,{provide:ho,useExisting:_g},{provide:si,useClass:h1},[]];var xo=class{},Ta=class{},Ir=class t{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=n.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(c=>o.indexOf(c)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}addHeaderEntry(e,n){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var wl=class{encodeKey(e){return Yb(e)}encodeValue(e){return Yb(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function I1(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,c]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=n.get(s)||[];u.push(c),n.set(s,u)}),n}var b1=/%(\d[a-f0-9])/gi,D1={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Yb(t){return encodeURIComponent(t).replace(b1,(e,n)=>D1[n]??e)}function _l(t){return`${t}`}var qn=class t{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new wl,e.fromString){if(e.fromObject)throw new $(2805,!1);this.map=I1(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(_l):[_l(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(_l(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(_l(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var El=class{map=new Map;set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function T1(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Zb(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function Jb(t){return typeof Blob<"u"&&t instanceof Blob}function Xb(t){return typeof FormData<"u"&&t instanceof FormData}function C1(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var e0="Content-Type",t0="Accept",n0="X-Request-URL",r0="text/plain",i0="application/json",S1=`${i0}, ${r0}, */*`,Ao=class t{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,n,r,i){this.url=n,this.method=e.toUpperCase();let o;if(T1(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Ir,this.context??=new El,!this.params)this.params=new qn,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let c=n.indexOf("?"),u=c===-1?"?":c<n.length-1?"&":"";this.urlWithParams=n+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Zb(this.body)||Jb(this.body)||Xb(this.body)||C1(this.body)?this.body:this.body instanceof qn?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Xb(this.body)?null:Jb(this.body)?this.body.type||null:Zb(this.body)?null:typeof this.body=="string"?r0:this.body instanceof qn?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?i0:null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,c=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,l=e.headers||this.headers,f=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((m,y)=>m.set(y,e.setHeaders[y]),l)),e.setParams&&(f=Object.keys(e.setParams).reduce((m,y)=>m.set(y,e.setParams[y]),f)),new t(n,r,s,{params:f,headers:l,context:p,reportProgress:u,responseType:i,withCredentials:c,transferCache:o})}},ai=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(ai||{}),Ro=class{headers;status;statusText;url;ok;type;constructor(e,n=200,r="OK"){this.headers=e.headers||new Ir,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Il=class t extends Ro{constructor(e={}){super(e)}type=ai.ResponseHeader;clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Ca=class t extends Ro{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=ai.Response;clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Sa=class extends Ro{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},A1=200,x1=204;function Eg(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Mo=(()=>{class t{handler;constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof Ao)o=n;else{let u;i.headers instanceof Ir?u=i.headers:u=new Ir(i.headers);let l;i.params&&(i.params instanceof qn?l=i.params:l=new qn({fromObject:i.params})),o=new Ao(n,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=Y(o).pipe(cn(u=>this.handler.handle(u)));if(n instanceof Ao||i.observe==="events")return s;let c=s.pipe(it(u=>u instanceof Ca));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return c.pipe(Z(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new $(2806,!1);return u.body}));case"blob":return c.pipe(Z(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new $(2807,!1);return u.body}));case"text":return c.pipe(Z(u=>{if(u.body!==null&&typeof u.body!="string")throw new $(2808,!1);return u.body}));case"json":default:return c.pipe(Z(u=>u.body))}case"response":return c;default:throw new $(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new qn().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,Eg(i,r))}post(n,r,i={}){return this.request("POST",n,Eg(i,r))}put(n,r,i={}){return this.request("PUT",n,Eg(i,r))}static \u0275fac=function(r){return new(r||t)(q(xo))};static \u0275prov=U({token:t,factory:t.\u0275fac})}return t})();var R1=new z("");function M1(t,e){return e(t)}function N1(t,e,n){return(r,i)=>Et(n,()=>e(r,o=>t(o,i)))}var o0=new z(""),s0=new z(""),a0=new z("",{providedIn:"root",factory:()=>!0});var bl=(()=>{class t extends xo{backend;injector;chain=null;pendingTasks=N(mr);contributeToStability=N(a0);constructor(n,r){super(),this.backend=n,this.injector=r}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(o0),...this.injector.get(s0,[])]));this.chain=r.reduceRight((i,o)=>N1(i,o,this.injector),M1)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(Hr(()=>this.pendingTasks.remove(r)))}else return this.chain(n,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||t)(q(Ta),q(ct))};static \u0275prov=U({token:t,factory:t.\u0275fac})}return t})();var P1=/^\)\]\}',?\n/,O1=RegExp(`^${n0}:`,"m");function k1(t){return"responseURL"in t&&t.responseURL?t.responseURL:O1.test(t.getAllResponseHeaders())?t.getResponseHeader(n0):null}var Ig=(()=>{class t{xhrFactory;constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new $(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?ve(r.\u0275loadImpl()):Y(null)).pipe(yt(()=>new _e(o=>{let s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((A,x)=>s.setRequestHeader(A,x.join(","))),n.headers.has(t0)||s.setRequestHeader(t0,S1),!n.headers.has(e0)){let A=n.detectContentTypeHeader();A!==null&&s.setRequestHeader(e0,A)}if(n.responseType){let A=n.responseType.toLowerCase();s.responseType=A!=="json"?A:"text"}let c=n.serializeBody(),u=null,l=()=>{if(u!==null)return u;let A=s.statusText||"OK",x=new Ir(s.getAllResponseHeaders()),B=k1(s)||n.url;return u=new Il({headers:x,status:s.status,statusText:A,url:B}),u},f=()=>{let{headers:A,status:x,statusText:B,url:ae}=l(),W=null;x!==x1&&(W=typeof s.response>"u"?s.responseText:s.response),x===0&&(x=W?A1:0);let me=x>=200&&x<300;if(n.responseType==="json"&&typeof W=="string"){let Qe=W;W=W.replace(P1,"");try{W=W!==""?JSON.parse(W):null}catch(Ne){W=Qe,me&&(me=!1,W={error:Ne,text:W})}}me?(o.next(new Ca({body:W,headers:A,status:x,statusText:B,url:ae||void 0})),o.complete()):o.error(new Sa({error:W,headers:A,status:x,statusText:B,url:ae||void 0}))},p=A=>{let{url:x}=l(),B=new Sa({error:A,status:s.status||0,statusText:s.statusText||"Unknown Error",url:x||void 0});o.error(B)},m=!1,y=A=>{m||(o.next(l()),m=!0);let x={type:ai.DownloadProgress,loaded:A.loaded};A.lengthComputable&&(x.total=A.total),n.responseType==="text"&&s.responseText&&(x.partialText=s.responseText),o.next(x)},C=A=>{let x={type:ai.UploadProgress,loaded:A.loaded};A.lengthComputable&&(x.total=A.total),o.next(x)};return s.addEventListener("load",f),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),n.reportProgress&&(s.addEventListener("progress",y),c!==null&&s.upload&&s.upload.addEventListener("progress",C)),s.send(c),o.next({type:ai.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",f),s.removeEventListener("timeout",p),n.reportProgress&&(s.removeEventListener("progress",y),c!==null&&s.upload&&s.upload.removeEventListener("progress",C)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||t)(q(si))};static \u0275prov=U({token:t,factory:t.\u0275fac})}return t})(),c0=new z(""),F1="XSRF-TOKEN",L1=new z("",{providedIn:"root",factory:()=>F1}),V1="X-XSRF-TOKEN",j1=new z("",{providedIn:"root",factory:()=>V1}),Aa=class{},B1=(()=>{class t{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(n,r){this.doc=n,this.cookieName=r}getToken(){let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=wa(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(r){return new(r||t)(q($e),q(L1))};static \u0275prov=U({token:t,factory:t.\u0275fac})}return t})(),U1=/^(?:https?:)?\/\//i;function $1(t,e){if(!N(c0)||t.method==="GET"||t.method==="HEAD"||U1.test(t.url))return e(t);let n=N(Aa).getToken(),r=N(j1);return n!=null&&!t.headers.has(r)&&(t=t.clone({headers:t.headers.set(r,n)})),e(t)}function bg(...t){let e=[Mo,Ig,bl,{provide:xo,useExisting:bl},{provide:Ta,useFactory:()=>N(R1,{optional:!0})??N(Ig)},{provide:o0,useValue:$1,multi:!0},{provide:c0,useValue:!0},{provide:Aa,useClass:B1}];for(let n of t)e.push(...n.\u0275providers);return ta(e)}var l0=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(q($e))};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var re="primary",Ua=Symbol("RouteTitle"),Ag=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function li(t){return new Ag(t)}function v0(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],c=t[o];if(s[0]===":")i[s.substring(1)]=c;else if(s!==c.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function z1(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!_n(t[n],e[n]))return!1;return!0}function _n(t,e){let n=t?xg(t):void 0,r=e?xg(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!_0(t[i],e[i]))return!1;return!0}function xg(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function _0(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function w0(t){return t.length>0?t[t.length-1]:null}function Sr(t){return mh(t)?t:ua(t)?ve(Promise.resolve(t)):Y(t)}var q1={exact:I0,subset:b0},E0={exact:G1,subset:W1,ignored:()=>!0};function d0(t,e,n){return q1[n.paths](t.root,e.root,n.matrixParams)&&E0[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function G1(t,e){return _n(t,e)}function I0(t,e,n){if(!ci(t.segments,e.segments)||!Cl(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!I0(t.children[r],e.children[r],n))return!1;return!0}function W1(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>_0(t[n],e[n]))}function b0(t,e,n){return D0(t,e,e.segments,n)}function D0(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!ci(i,n)||e.hasChildren()||!Cl(i,n,r))}else if(t.segments.length===n.length){if(!ci(t.segments,n)||!Cl(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!b0(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!ci(t.segments,i)||!Cl(t.segments,i,r)||!t.children[re]?!1:D0(t.children[re],e,o,r)}}function Cl(t,e,n){return e.every((r,i)=>E0[n](t[i].parameters,r.parameters))}var En=class{root;queryParams;fragment;_queryParamMap;constructor(e=new we([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=li(this.queryParams),this._queryParamMap}toString(){return Y1.serialize(this)}},we=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Sl(this)}},br=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=li(this.parameters),this._parameterMap}toString(){return C0(this)}};function K1(t,e){return ci(t,e)&&t.every((n,r)=>_n(n.parameters,e[r].parameters))}function ci(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function Q1(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===re&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==re&&(n=n.concat(e(i,r)))}),n}var di=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:()=>new Dr,providedIn:"root"})}return t})(),Dr=class{parse(e){let n=new Mg(e);return new En(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${xa(e.root,!0)}`,r=X1(e.queryParams),i=typeof e.fragment=="string"?`#${Z1(e.fragment)}`:"";return`${n}${r}${i}`}},Y1=new Dr;function Sl(t){return t.segments.map(e=>C0(e)).join("/")}function xa(t,e){if(!t.hasChildren())return Sl(t);if(e){let n=t.children[re]?xa(t.children[re],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==re&&r.push(`${i}:${xa(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=Q1(t,(r,i)=>i===re?[xa(t.children[re],!1)]:[`${i}:${xa(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[re]!=null?`${Sl(t)}/${n[0]}`:`${Sl(t)}/(${n.join("//")})`}}function T0(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Dl(t){return T0(t).replace(/%3B/gi,";")}function Z1(t){return encodeURI(t)}function Rg(t){return T0(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Al(t){return decodeURIComponent(t)}function f0(t){return Al(t.replace(/\+/g,"%20"))}function C0(t){return`${Rg(t.path)}${J1(t.parameters)}`}function J1(t){return Object.entries(t).map(([e,n])=>`;${Rg(e)}=${Rg(n)}`).join("")}function X1(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Dl(n)}=${Dl(i)}`).join("&"):`${Dl(n)}=${Dl(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var eO=/^[^\/()?;#]+/;function Dg(t){let e=t.match(eO);return e?e[0]:""}var tO=/^[^\/()?;=#]+/;function nO(t){let e=t.match(tO);return e?e[0]:""}var rO=/^[^=?&#]+/;function iO(t){let e=t.match(rO);return e?e[0]:""}var oO=/^[^&#]+/;function sO(t){let e=t.match(oO);return e?e[0]:""}var Mg=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new we([],{}):new we([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[re]=new we(e,n)),r}parseSegment(){let e=Dg(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new $(4009,!1);return this.capture(e),new br(Al(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=nO(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Dg(this.remaining);i&&(r=i,this.capture(r))}e[Al(n)]=Al(r)}parseQueryParam(e){let n=iO(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=sO(this.remaining);s&&(r=s,this.capture(r))}let i=f0(n),o=f0(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Dg(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new $(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=re);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[re]:new we([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new $(4011,!1)}};function S0(t){return t.segments.length>0?new we([],{[re]:t}):t}function A0(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=A0(i);if(r===re&&o.segments.length===0&&o.hasChildren())for(let[s,c]of Object.entries(o.children))e[s]=c;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new we(t.segments,e);return aO(n)}function aO(t){if(t.numberOfChildren===1&&t.children[re]){let e=t.children[re];return new we(t.segments.concat(e.segments),e.children)}return t}function Tr(t){return t instanceof En}function x0(t,e,n=null,r=null){let i=R0(t);return M0(i,e,n,r)}function R0(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let c=new we(o.url,s);return o===t&&(e=c),c}let r=n(t.root),i=S0(r);return e??i}function M0(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Tg(i,i,i,n,r);let o=cO(e);if(o.toRoot())return Tg(i,i,new we([],{}),n,r);let s=uO(o,i,t),c=s.processChildren?Ma(s.segmentGroup,s.index,o.commands):P0(s.segmentGroup,s.index,o.commands);return Tg(i,s.segmentGroup,c,n,r)}function Rl(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Pa(t){return typeof t=="object"&&t!=null&&t.outlets}function Tg(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(f=>`${f}`):`${l}`});let s;t===e?s=n:s=N0(t,e,n);let c=S0(A0(s));return new En(c,o,i)}function N0(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=N0(o,e,n)}),new we(t.segments,r)}var Ml=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Rl(r[0]))throw new $(4003,!1);let i=r.find(Pa);if(i&&i!==w0(r))throw new $(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function cO(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Ml(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let c={};return Object.entries(o.outlets).forEach(([u,l])=>{c[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:c}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?n=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,o]},[]);return new Ml(n,e,r)}var Oo=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function uO(t,e,n){if(t.isAbsolute)return new Oo(e,!0,0);if(!n)return new Oo(e,!1,NaN);if(n.parent===null)return new Oo(n,!0,0);let r=Rl(t.commands[0])?0:1,i=n.segments.length-1+r;return lO(n,i,t.numberOfDoubleDots)}function lO(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new $(4005,!1);i=r.segments.length}return new Oo(r,!1,i-o)}function dO(t){return Pa(t[0])?t[0].outlets:{[re]:t}}function P0(t,e,n){if(t??=new we([],{}),t.segments.length===0&&t.hasChildren())return Ma(t,e,n);let r=fO(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new we(t.segments.slice(0,r.pathIndex),{});return o.children[re]=new we(t.segments.slice(r.pathIndex),t.children),Ma(o,0,i)}else return r.match&&i.length===0?new we(t.segments,{}):r.match&&!t.hasChildren()?Ng(t,e,n):r.match?Ma(t,0,i):Ng(t,e,n)}function Ma(t,e,n){if(n.length===0)return new we(t.segments,{});{let r=dO(n),i={};if(Object.keys(r).some(o=>o!==re)&&t.children[re]&&t.numberOfChildren===1&&t.children[re].segments.length===0){let o=Ma(t.children[re],e,n);return new we(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=P0(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new we(t.segments,i)}}function fO(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],c=n[r];if(Pa(c))break;let u=`${c}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!p0(u,l,s))return o;r+=2}else{if(!p0(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Ng(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Pa(o)){let u=hO(o.outlets);return new we(r,u)}if(i===0&&Rl(n[0])){let u=t.segments[e];r.push(new br(u.path,h0(n[0]))),i++;continue}let s=Pa(o)?o.outlets[re]:`${o}`,c=i<n.length-1?n[i+1]:null;s&&c&&Rl(c)?(r.push(new br(s,h0(c))),i+=2):(r.push(new br(s,{})),i++)}return new we(r,{})}function hO(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Ng(new we([],{}),0,r))}),e}function h0(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function p0(t,e,n){return t==n.path&&_n(e,n.parameters)}var xl="imperative",We=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(We||{}),Rt=class{id;url;constructor(e,n){this.id=e,this.url=n}},Cr=class extends Rt{type=We.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},bt=class extends Rt{urlAfterRedirects;type=We.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},It=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(It||{}),Fo=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Fo||{}),wn=class extends Rt{reason;code;type=We.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},In=class extends Rt{reason;code;type=We.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},Lo=class extends Rt{error;target;type=We.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Oa=class extends Rt{urlAfterRedirects;state;type=We.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Nl=class extends Rt{urlAfterRedirects;state;type=We.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Pl=class extends Rt{urlAfterRedirects;state;shouldActivate;type=We.GuardsCheckEnd;constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Ol=class extends Rt{urlAfterRedirects;state;type=We.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},kl=class extends Rt{urlAfterRedirects;state;type=We.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Fl=class{route;type=We.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Ll=class{route;type=We.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Vl=class{snapshot;type=We.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},jl=class{snapshot;type=We.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Bl=class{snapshot;type=We.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ul=class{snapshot;type=We.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Vo=class{routerEvent;position;anchor;type=We.Scroll;constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},ka=class{},jo=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function pO(t,e){return t.providers&&!t._injector&&(t._injector=ca(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Jt(t){return t.outlet||re}function gO(t,e){let n=t.filter(r=>Jt(r)===e);return n.push(...t.filter(r=>Jt(r)!==e)),n}function $a(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var $l=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return $a(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new fi(this.rootInjector)}},fi=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new $l(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(q(ct))};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Hl=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Pg(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Pg(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Og(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Og(e,this._root).map(n=>n.value)}};function Pg(t,e){if(t===e.value)return e;for(let n of e.children){let r=Pg(t,n);if(r)return r}return null}function Og(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Og(t,n);if(r.length)return r.unshift(e),r}return[]}var xt=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Po(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Fa=class extends Hl{snapshot;constructor(e,n){super(e),this.snapshot=n,$g(this,e)}toString(){return this.snapshot.toString()}};function O0(t){let e=mO(t),n=new rt([new br("",{})]),r=new rt({}),i=new rt({}),o=new rt({}),s=new rt(""),c=new Lt(n,r,o,s,i,re,t,e.root);return c.snapshot=e.root,new Fa(new xt(c,[]),e)}function mO(t){let e={},n={},r={},i="",o=new ui([],e,r,i,n,re,t,null,{});return new La("",new xt(o,[]))}var Lt=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,o,s,c,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Z(l=>l[Ua]))??Y(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Z(e=>li(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Z(e=>li(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function zl(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:P(P({},e.params),t.params),data:P(P({},e.data),t.data),resolve:P(P(P(P({},t.data),e.data),i?.data),t._resolvedData)}:r={params:P({},t.params),data:P({},t.data),resolve:P(P({},t.data),t._resolvedData??{})},i&&F0(i)&&(r.resolve[Ua]=i.title),r}var ui=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Ua]}constructor(e,n,r,i,o,s,c,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=c,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=li(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=li(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},La=class extends Hl{url;constructor(e,n){super(n),this.url=e,$g(this,n)}toString(){return k0(this._root)}};function $g(t,e){e.value._routerState=t,e.children.forEach(n=>$g(t,n))}function k0(t){let e=t.children.length>0?` { ${t.children.map(k0).join(", ")} } `:"";return`${t.value}${e}`}function Cg(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,_n(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),_n(e.params,n.params)||t.paramsSubject.next(n.params),z1(e.url,n.url)||t.urlSubject.next(n.url),_n(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function kg(t,e){let n=_n(t.params,e.params)&&K1(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||kg(t.parent,e.parent))}function F0(t){return typeof t.title=="string"||t.title===null}var L0=new z(""),Ha=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=re;activateEvents=new vt;deactivateEvents=new vt;attachEvents=new vt;detachEvents=new vt;routerOutletData=SI(void 0);parentContexts=N(fi);location=N(To);changeDetector=N(ma);inputBinder=N(za,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new $(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new $(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new $(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new $(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new Fg(n,c,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=yr({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[na]})}return t})(),Fg=class{route;childContexts;parent;outletData;constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===Lt?this.route:e===fi?this.childContexts:e===L0?this.outletData:this.parent.get(e,n)}},za=new z(""),Hg=(()=>{class t{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,i=$s([r.queryParams,r.params,r.data]).pipe(yt(([o,s,c],u)=>(c=P(P(P({},o),s),c),u===0?Y(c):Promise.resolve(c)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let s=Nb(r.component);if(!s){this.unsubscribeFromRouteData(n);return}for(let{templateName:c}of s.inputs)n.activatedComponentRef.setInput(c,o[c])});this.outletDataSubscriptions.set(n,i)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac})}return t})(),zg=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ft({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&ke(0,"router-outlet")},dependencies:[Ha],encapsulation:2})}return t})();function qg(t){let e=t.children&&t.children.map(qg),n=e?ye(P({},t),{children:e}):P({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==re&&(n.component=zg),n}function yO(t,e,n){let r=Va(t,e._root,n?n._root:void 0);return new Fa(r,e)}function Va(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=vO(t,e,n);return new xt(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(c=>Va(t,c)),s}}let r=_O(e.value),i=e.children.map(o=>Va(t,o));return new xt(r,i)}}function vO(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Va(t,r,i);return Va(t,r)})}function _O(t){return new Lt(new rt(t.url),new rt(t.params),new rt(t.queryParams),new rt(t.fragment),new rt(t.data),t.outlet,t.component,t)}var Bo=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},V0="ngNavigationCancelingError";function ql(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Tr(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=j0(!1,It.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function j0(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[V0]=!0,n.cancellationCode=e,n}function wO(t){return B0(t)&&Tr(t.url)}function B0(t){return!!t&&t[V0]}var EO=(t,e,n,r)=>Z(i=>(new Lg(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Lg=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Cg(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Po(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Po(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:c})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Po(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Po(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Ul(o.value.snapshot))}),e.children.length&&this.forwardEvent(new jl(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Cg(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(c.contexts),s.attachRef=c.componentRef,s.route=c.route.value,s.outlet&&s.outlet.attach(c.componentRef,c.route.value),Cg(c.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Gl=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ko=class{component;route;constructor(e,n){this.component=e,this.route=n}};function IO(t,e,n){let r=t._root,i=e?e._root:null;return Ra(r,i,n,[r.value])}function bO(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function $o(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!vE(t)?t:e.get(t):r}function Ra(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Po(e);return t.children.forEach(s=>{DO(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,c])=>Na(c,n.getContext(s),i)),i}function DO(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,c=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=TO(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Gl(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Ra(t,e,c?c.children:null,r,i):Ra(t,e,n,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new ko(c.outlet.component,s))}else s&&Na(e,c,i),i.canActivateChecks.push(new Gl(r)),o.component?Ra(t,null,c?c.children:null,r,i):Ra(t,null,n,r,i);return i}function TO(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!ci(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ci(t.url,e.url)||!_n(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!kg(t,e)||!_n(t.queryParams,e.queryParams);case"paramsChange":default:return!kg(t,e)}}function Na(t,e,n){let r=Po(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Na(s,e.children.getContext(o),n):Na(s,null,n):Na(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new ko(e.outlet.component,i)):n.canDeactivateChecks.push(new ko(null,i)):n.canDeactivateChecks.push(new ko(null,i))}function qa(t){return typeof t=="function"}function CO(t){return typeof t=="boolean"}function SO(t){return t&&qa(t.canLoad)}function AO(t){return t&&qa(t.canActivate)}function xO(t){return t&&qa(t.canActivateChild)}function RO(t){return t&&qa(t.canDeactivate)}function MO(t){return t&&qa(t.canMatch)}function U0(t){return t instanceof kn||t?.name==="EmptyError"}var Tl=Symbol("INITIAL_VALUE");function Uo(){return yt(t=>$s(t.map(e=>e.pipe(Ln(1),_h(Tl)))).pipe(Z(e=>{for(let n of e)if(n!==!0){if(n===Tl)return Tl;if(n===!1||NO(n))return n}return!0}),it(e=>e!==Tl),Ln(1)))}function NO(t){return Tr(t)||t instanceof Bo}function PO(t,e){return Le(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?Y(ye(P({},n),{guardsResult:!0})):OO(s,r,i,t).pipe(Le(c=>c&&CO(c)?kO(r,o,t,e):Y(c)),Z(c=>ye(P({},n),{guardsResult:c})))})}function OO(t,e,n,r){return ve(t).pipe(Le(i=>BO(i.component,i.route,n,e,r)),Vn(i=>i!==!0,!0))}function kO(t,e,n,r){return ve(e).pipe(cn(i=>Yi(LO(i.route.parent,r),FO(i.route,r),jO(t,i.path,n),VO(t,i.route,n))),Vn(i=>i!==!0,!0))}function FO(t,e){return t!==null&&e&&e(new Bl(t)),Y(!0)}function LO(t,e){return t!==null&&e&&e(new Vl(t)),Y(!0)}function VO(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Y(!0);let i=r.map(o=>lu(()=>{let s=$a(e)??n,c=$o(o,s),u=AO(c)?c.canActivate(e,t):Et(s,()=>c(e,t));return Sr(u).pipe(Vn())}));return Y(i).pipe(Uo())}function jO(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>bO(s)).filter(s=>s!==null).map(s=>lu(()=>{let c=s.guards.map(u=>{let l=$a(s.node)??n,f=$o(u,l),p=xO(f)?f.canActivateChild(r,t):Et(l,()=>f(r,t));return Sr(p).pipe(Vn())});return Y(c).pipe(Uo())}));return Y(o).pipe(Uo())}function BO(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Y(!0);let s=o.map(c=>{let u=$a(e)??i,l=$o(c,u),f=RO(l)?l.canDeactivate(t,e,n,r):Et(u,()=>l(t,e,n,r));return Sr(f).pipe(Vn())});return Y(s).pipe(Uo())}function UO(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return Y(!0);let o=i.map(s=>{let c=$o(s,t),u=SO(c)?c.canLoad(e,n):Et(t,()=>c(e,n));return Sr(u)});return Y(o).pipe(Uo(),$0(r))}function $0(t){return fh(ot(e=>{if(typeof e!="boolean")throw ql(t,e)}),Z(e=>e===!0))}function $O(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return Y(!0);let o=i.map(s=>{let c=$o(s,t),u=MO(c)?c.canMatch(e,n):Et(t,()=>c(e,n));return Sr(u)});return Y(o).pipe(Uo(),$0(r))}var ja=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Ba=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function No(t){return Ki(new ja(t))}function HO(t){return Ki(new $(4e3,!1))}function zO(t){return Ki(j0(!1,It.GuardRejected))}var Vg=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Y(r);if(i.numberOfChildren>1||!i.children[re])return HO(`${e.redirectTo}`);i=i.children[re]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let c=n,{queryParams:u,fragment:l,routeConfig:f,url:p,outlet:m,params:y,data:C,title:A}=i,x=Et(o,()=>c({params:y,data:C,queryParams:u,fragment:l,routeConfig:f,url:p,outlet:m,title:A}));if(x instanceof En)throw new Ba(x);n=x}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Ba(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new En(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let c=o.substring(1);r[i]=n[c]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([c,u])=>{s[c]=this.createSegmentGroup(e,u,r,i)}),new we(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new $(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},jg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function qO(t,e,n,r,i){let o=H0(t,e,n);return o.matched?(r=pO(e,r),$O(r,e,n,i).pipe(Z(s=>s===!0?o:P({},jg)))):Y(o)}function H0(t,e,n){if(e.path==="**")return GO(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?P({},jg):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||v0)(n,t,e);if(!i)return P({},jg);let o={};Object.entries(i.posParams??{}).forEach(([c,u])=>{o[c]=u.path});let s=i.consumed.length>0?P(P({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function GO(t){return{matched:!0,parameters:t.length>0?w0(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function g0(t,e,n,r){return n.length>0&&QO(t,n,r)?{segmentGroup:new we(e,KO(r,new we(n,t.children))),slicedSegments:[]}:n.length===0&&YO(t,n,r)?{segmentGroup:new we(t.segments,WO(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new we(t.segments,t.children),slicedSegments:n}}function WO(t,e,n,r){let i={};for(let o of n)if(Kl(t,e,o)&&!r[Jt(o)]){let s=new we([],{});i[Jt(o)]=s}return P(P({},r),i)}function KO(t,e){let n={};n[re]=e;for(let r of t)if(r.path===""&&Jt(r)!==re){let i=new we([],{});n[Jt(r)]=i}return n}function QO(t,e,n){return n.some(r=>Kl(t,e,r)&&Jt(r)!==re)}function YO(t,e,n){return n.some(r=>Kl(t,e,r))}function Kl(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function ZO(t,e,n){return e.length===0&&!t.children[n]}var Bg=class{};function JO(t,e,n,r,i,o,s="emptyOnly"){return new Ug(t,e,n,r,i,s,o).recognize()}var XO=31,Ug=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,o,s,c){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=c,this.applyRedirects=new Vg(this.urlSerializer,this.urlTree)}noMatchError(e){return new $(4002,`'${e.segmentGroup}'`)}recognize(){let e=g0(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Z(({children:n,rootSnapshot:r})=>{let i=new xt(r,n),o=new La("",i),s=x0(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new ui([],Object.freeze({}),Object.freeze(P({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),re,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,re,n).pipe(Z(r=>({children:r,rootSnapshot:n})),Fn(r=>{if(r instanceof Ba)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ja?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(Z(s=>s instanceof xt?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return ve(o).pipe(cn(s=>{let c=r.children[s],u=gO(n,s);return this.processSegmentGroup(e,u,c,s,i)}),vh((s,c)=>(s.push(...c),s)),hr(null),yh(),Le(s=>{if(s===null)return No(r);let c=z0(s);return ek(c),Y(c)}))}processSegment(e,n,r,i,o,s,c){return ve(n).pipe(cn(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,s,c).pipe(Fn(l=>{if(l instanceof ja)return Y(null);throw l}))),Vn(u=>!!u),Fn(u=>{if(U0(u))return ZO(r,i,o)?Y(new Bg):No(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,o,s,c,u){return Jt(r)!==s&&(s===re||!Kl(i,o,r))?No(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,u):No(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,c){let{matched:u,parameters:l,consumedSegments:f,positionalParamSegments:p,remainingSegments:m}=H0(n,i,o);if(!u)return No(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>XO&&(this.allowRedirects=!1));let y=new ui(o,l,Object.freeze(P({},this.urlTree.queryParams)),this.urlTree.fragment,m0(i),Jt(i),i.component??i._loadedComponent??null,i,y0(i)),C=zl(y,c,this.paramsInheritanceStrategy);y.params=Object.freeze(C.params),y.data=Object.freeze(C.data);let A=this.applyRedirects.applyRedirectCommands(f,i.redirectTo,p,y,e);return this.applyRedirects.lineralizeSegments(i,A).pipe(Le(x=>this.processSegment(e,r,n,x.concat(m),s,!1,c)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let c=qO(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),c.pipe(yt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(yt(({routes:l})=>{let f=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=u,C=new ui(m,p,Object.freeze(P({},this.urlTree.queryParams)),this.urlTree.fragment,m0(r),Jt(r),r.component??r._loadedComponent??null,r,y0(r)),A=zl(C,s,this.paramsInheritanceStrategy);C.params=Object.freeze(A.params),C.data=Object.freeze(A.data);let{segmentGroup:x,slicedSegments:B}=g0(n,m,y,l);if(B.length===0&&x.hasChildren())return this.processChildren(f,l,x,C).pipe(Z(W=>new xt(C,W)));if(l.length===0&&B.length===0)return Y(new xt(C,[]));let ae=Jt(r)===o;return this.processSegment(f,l,x,B,ae?re:o,!0,C).pipe(Z(W=>new xt(C,W instanceof xt?[W]:[])))}))):No(n)))}getChildConfig(e,n,r){return n.children?Y({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?Y({routes:n._loadedRoutes,injector:n._loadedInjector}):UO(e,n,r,this.urlSerializer).pipe(Le(i=>i?this.configLoader.loadChildren(e,n).pipe(ot(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):zO(n))):Y({routes:[],injector:e})}};function ek(t){t.sort((e,n)=>e.value.outlet===re?-1:n.value.outlet===re?1:e.value.outlet.localeCompare(n.value.outlet))}function tk(t){let e=t.value.routeConfig;return e&&e.path===""}function z0(t){let e=[],n=new Set;for(let r of t){if(!tk(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=z0(r.children);e.push(new xt(r.value,i))}return e.filter(r=>!n.has(r))}function m0(t){return t.data||{}}function y0(t){return t.resolve||{}}function nk(t,e,n,r,i,o){return Le(s=>JO(t,e,n,r,s.extractedUrl,i,o).pipe(Z(({state:c,tree:u})=>ye(P({},s),{targetSnapshot:c,urlAfterRedirects:u}))))}function rk(t,e){return Le(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Y(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of q0(u))s.add(l);let c=0;return ve(s).pipe(cn(u=>o.has(u)?ik(u,r,t,e):(u.data=zl(u,u.parent,t).resolve,Y(void 0))),ot(()=>c++),Zi(1),Le(u=>c===s.size?Y(n):gt))})}function q0(t){let e=t.children.map(n=>q0(n)).flat();return[t,...e]}function ik(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!F0(i)&&(o[Ua]=i.title),ok(o,t,e,r).pipe(Z(s=>(t._resolvedData=s,t.data=zl(t,t.parent,n).resolve,null)))}function ok(t,e,n,r){let i=xg(t);if(i.length===0)return Y({});let o={};return ve(i).pipe(Le(s=>sk(t[s],e,n,r).pipe(Vn(),ot(c=>{if(c instanceof Bo)throw ql(new Dr,c);o[s]=c}))),Zi(1),Z(()=>o),Fn(s=>U0(s)?gt:Ki(s)))}function sk(t,e,n,r){let i=$a(e)??r,o=$o(t,i),s=o.resolve?o.resolve(e,n):Et(i,()=>o(e,n));return Sr(s)}function Sg(t){return yt(e=>{let n=t(e);return n?ve(n).pipe(Z(()=>e)):Y(e)})}var Gg=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===re);return r}getResolvedTitleForRoute(n){return n.data[Ua]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:()=>N(G0),providedIn:"root"})}return t})(),G0=(()=>{class t extends Gg{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(q(l0))};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),hi=new z("",{providedIn:"root",factory:()=>({})}),pi=new z(""),Ql=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=N(Rb);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Y(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Sr(n.loadComponent()).pipe(Z(K0),ot(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),Hr(()=>{this.componentLoaders.delete(n)})),i=new Wi(r,()=>new Ze).pipe(Gi());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Y({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=W0(r,this.compiler,n,this.onLoadEndListener).pipe(Hr(()=>{this.childrenLoaders.delete(r)})),s=new Wi(o,()=>new Ze).pipe(Gi());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function W0(t,e,n,r){return Sr(t.loadChildren()).pipe(Z(K0),Le(i=>i instanceof ng||Array.isArray(i)?Y(i):ve(e.compileModuleAsync(i))),Z(i=>{r&&r(t);let o,s,c=!1;return Array.isArray(i)?(s=i,c=!0):(o=i.create(n).injector,s=o.get(pi,[],{optional:!0,self:!0}).flat()),{routes:s.map(qg),injector:o}}))}function ak(t){return t&&typeof t=="object"&&"default"in t}function K0(t){return ak(t)?t.default:t}var Yl=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:()=>N(ck),providedIn:"root"})}return t})(),ck=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Wg=new z(""),Kg=new z("");function Q0(t,e,n){let r=t.get(Kg),i=t.get($e);return t.get(Ve).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),c=i.startViewTransition(()=>(o(),uk(t))),{onViewTransitionCreated:u}=r;return u&&Et(t,()=>u({transition:c,from:e,to:n})),s})}function uk(t){return new Promise(e=>{Bp({read:()=>setTimeout(e)},{injector:t})})}var Qg=new z(""),Zl=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Ze;transitionAbortSubject=new Ze;configLoader=N(Ql);environmentInjector=N(ct);destroyRef=N(wo);urlSerializer=N(di);rootContexts=N(fi);location=N(_r);inputBindingEnabled=N(za,{optional:!0})!==null;titleStrategy=N(Gg);options=N(hi,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=N(Yl);createViewTransition=N(Wg,{optional:!0});navigationErrorHandler=N(Qg,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Y(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new Fl(i)),r=i=>this.events.next(new Ll(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(ye(P({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(n){return this.transitions=new rt(null),this.transitions.pipe(it(r=>r!==null),yt(r=>{let i=!1,o=!1;return Y(r).pipe(yt(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",It.SupersededByNewNavigation),gt;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?ye(P({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=s.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!c&&u!=="reload"){let l="";return this.events.next(new In(s.id,this.urlSerializer.serialize(s.rawUrl),l,Fo.IgnoredSameUrlNavigation)),s.resolve(!1),gt}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return Y(s).pipe(yt(l=>(this.events.next(new Cr(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?gt:Promise.resolve(l))),nk(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),ot(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=ye(P({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let f=new Oa(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:l,extractedUrl:f,source:p,restoredState:m,extras:y}=s,C=new Cr(l,this.urlSerializer.serialize(f),p,m);this.events.next(C);let A=O0(this.rootComponentType).snapshot;return this.currentTransition=r=ye(P({},s),{targetSnapshot:A,urlAfterRedirects:f,extras:ye(P({},y),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,Y(r)}else{let l="";return this.events.next(new In(s.id,this.urlSerializer.serialize(s.extractedUrl),l,Fo.IgnoredByUrlHandlingStrategy)),s.resolve(!1),gt}}),ot(s=>{let c=new Nl(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(c)}),Z(s=>(this.currentTransition=r=ye(P({},s),{guards:IO(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),PO(this.environmentInjector,s=>this.events.next(s)),ot(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw ql(this.urlSerializer,s.guardsResult);let c=new Pl(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(c)}),it(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",It.GuardRejected),!1)),Sg(s=>{if(s.guards.canActivateChecks.length!==0)return Y(s).pipe(ot(c=>{let u=new Ol(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),yt(c=>{let u=!1;return Y(c).pipe(rk(this.paramsInheritanceStrategy,this.environmentInjector),ot({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",It.NoDataFromResolver)}}))}),ot(c=>{let u=new kl(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),Sg(s=>{let c=u=>{let l=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(u.routeConfig).pipe(ot(f=>{u.component=f}),Z(()=>{})));for(let f of u.children)l.push(...c(f));return l};return $s(c(s.targetSnapshot.root)).pipe(hr(null),Ln(1))}),Sg(()=>this.afterPreactivation()),yt(()=>{let{currentSnapshot:s,targetSnapshot:c}=r,u=this.createViewTransition?.(this.environmentInjector,s.root,c.root);return u?ve(u).pipe(Z(()=>r)):Y(r)}),Z(s=>{let c=yO(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=ye(P({},s),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,r}),ot(()=>{this.events.next(new ka)}),EO(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Ln(1),ot({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new bt(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),wh(this.transitionAbortSubject.pipe(ot(s=>{throw s}))),Hr(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",It.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Fn(s=>{if(this.destroyed)return r.resolve(!1),gt;if(o=!0,B0(s))this.events.next(new wn(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),wO(s)?this.events.next(new jo(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let c=new Lo(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let u=Et(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(u instanceof Bo){let{message:l,cancellationCode:f}=ql(this.urlSerializer,u);this.events.next(new wn(r.id,this.urlSerializer.serialize(r.extractedUrl),l,f)),this.events.next(new jo(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(c),s}catch(u){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(u)}}return gt}))}))}cancelNavigationTransition(n,r,i){let o=new wn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function lk(t){return t!==xl}var Y0=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:()=>N(dk),providedIn:"root"})}return t})(),Wl=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},dk=(()=>{class t extends Wl{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Np(t)))(i||t)}})();static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Z0=(()=>{class t{urlSerializer=N(di);options=N(hi,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=N(_r);urlHandlingStrategy=N(Yl);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new En;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof En?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=O0(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:()=>N(fk),providedIn:"root"})}return t})(),fk=(()=>{class t extends Z0{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof Cr?this.updateStateMemento():n instanceof In?this.commitTransition(r):n instanceof Oa?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof ka?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof wn&&(n.code===It.GuardRejected||n.code===It.NoDataFromResolver)?this.restoreHistory(r):n instanceof Lo?this.restoreHistory(r,!0):n instanceof bt&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){let c=this.browserPageId,u=P(P({},s),this.generateNgRouterState(i,c));this.location.replaceState(n,"",u)}else{let c=P(P({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",c)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Np(t)))(i||t)}})();static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Jl(t,e){t.events.pipe(it(n=>n instanceof bt||n instanceof wn||n instanceof Lo||n instanceof In),Z(n=>n instanceof bt||n instanceof In?0:(n instanceof wn?n.code===It.Redirect||n.code===It.SupersededByNewNavigation:!1)?2:1),it(n=>n!==2),Ln(1)).subscribe(()=>{e()})}var hk={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},pk={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Vt=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=N(bb);stateManager=N(Z0);options=N(hi,{optional:!0})||{};pendingTasks=N(mr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=N(Zl);urlSerializer=N(di);location=N(_r);urlHandlingStrategy=N(Yl);_events=new Ze;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=N(Y0);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=N(pi,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!N(za,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Ue;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof wn&&r.code!==It.Redirect&&r.code!==It.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof bt)this.navigated=!0;else if(r instanceof jo){let s=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=P({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||lk(i.source)},s);this.scheduleNavigation(c,xl,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}mk(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),xl,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=P({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(n);this.scheduleNavigation(c,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(qg),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:c,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,f=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":f=P(P({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}f!==null&&(f=this.removeEmptyProps(f));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=R0(m)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return M0(p,n,f,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Tr(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,xl,null,r)}navigate(n,r={skipLocationChange:!1}){return gk(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=P({},hk):r===!1?i=P({},pk):i=r,Tr(n))return d0(this.currentUrlTree,n,i);let o=this.parseUrl(n);return d0(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let c,u,l;s?(c=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,m)=>{c=p,u=m});let f=this.pendingTasks.add();return Jl(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function gk(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new $(4008,!1)}function mk(t){return!(t instanceof ka)&&!(t instanceof jo)}var Ho=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Ze;constructor(n,r,i,o,s,c){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=c;let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=n.events.subscribe(l=>{l instanceof bt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Tr(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){let c=this.urlTree;if(c===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:zI(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:Tr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||t)(Ae(Vt),Ae(Lt),Pp("tabindex"),Ae(aa),Ae(Eo),Ae(Zt))};static \u0275dir=yr({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&vr("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&vn("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",ya],skipLocationChange:[2,"skipLocationChange","skipLocationChange",ya],replaceUrl:[2,"replaceUrl","replaceUrl",ya],routerLink:"routerLink"},features:[na]})}return t})();var Ga=class{};var J0=(()=>{class t{router;injector;preloadingStrategy;loader;subscription;constructor(n,r,i,o){this.router=n,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(it(n=>n instanceof bt),cn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=ca(o.providers,n,`Route: ${o.path}`));let s=o._injector??n,c=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(c,o.children??o._loadedRoutes))}return ve(i).pipe(Qi())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(n,r):i=Y(null);let o=i.pipe(Le(s=>s===null?Y(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return ve([o,s]).pipe(Qi())}else return o})}static \u0275fac=function(r){return new(r||t)(q(Vt),q(ct),q(Ga),q(Ql))};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),X0=new z(""),yk=(()=>{class t{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Cr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof bt?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof In&&n.code===Fo.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Vo&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Vo(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){pb()};static \u0275prov=U({token:t,factory:t.\u0275fac})}return t})();function Zg(t,...e){return ta([{provide:pi,multi:!0,useValue:t},[],{provide:Lt,useFactory:eD,deps:[Vt]},{provide:al,multi:!0,useFactory:tD},e.map(n=>n.\u0275providers)])}function eD(t){return t.routerState.root}function Wa(t,e){return{\u0275kind:t,\u0275providers:e}}function tD(){let t=N(Wt);return e=>{let n=t.get(Zr);if(e!==n.components[0])return;let r=t.get(Vt),i=t.get(nD);t.get(Jg)===1&&r.initialNavigation(),t.get(oD,null,ie.Optional)?.setUpPreloading(),t.get(X0,null,ie.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var nD=new z("",{factory:()=>new Ze}),Jg=new z("",{providedIn:"root",factory:()=>1});function rD(){let t=[{provide:Jg,useValue:0},rg(()=>{let e=N(Wt);return e.get(ag,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(Vt),o=e.get(nD);Jl(i,()=>{r(!0)}),e.get(Zl).afterPreactivation=()=>(r(!0),o.closed?Y(void 0):o),i.initialNavigation()}))})];return Wa(2,t)}function iD(){let t=[rg(()=>{N(Vt).setUpLocationChangeListener()}),{provide:Jg,useValue:2}];return Wa(3,t)}var oD=new z("");function sD(t){return Wa(0,[{provide:oD,useExisting:J0},{provide:Ga,useExisting:t}])}function aD(){return Wa(8,[Hg,{provide:za,useExisting:Hg}])}function cD(t){sa("NgRouterViewTransitions");let e=[{provide:Wg,useValue:Q0},{provide:Kg,useValue:P({skipNextTransition:!!t?.skipInitialTransition},t)}];return Wa(9,e)}var uD=[_r,{provide:di,useClass:Dr},Vt,fi,{provide:Lt,useFactory:eD,deps:[Vt]},Ql,[]],Ka=(()=>{class t{constructor(){}static forRoot(n,r){return{ngModule:t,providers:[uD,[],{provide:pi,multi:!0,useValue:n},[],r?.errorHandler?{provide:Qg,useValue:r.errorHandler}:[],{provide:hi,useValue:r||{}},r?.useHash?_k():wk(),vk(),r?.preloadingStrategy?sD(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?Ek(r):[],r?.bindToComponentInputs?aD().\u0275providers:[],r?.enableViewTransitions?cD().\u0275providers:[],Ik()]}}static forChild(n){return{ngModule:t,providers:[{provide:pi,multi:!0,useValue:n}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=ii({type:t});static \u0275inj=Xr({})}return t})();function vk(){return{provide:X0,useFactory:()=>{let t=N(Ub),e=N(Ve),n=N(hi),r=N(Zl),i=N(di);return n.scrollOffset&&t.setOffset(n.scrollOffset),new yk(i,r,t,e,n)}}}function _k(){return{provide:Zt,useClass:ug}}function wk(){return{provide:Zt,useClass:ll}}function Ek(t){return[t.initialNavigation==="disabled"?iD().\u0275providers:[],t.initialNavigation==="enabledBlocking"?rD().\u0275providers:[]]}var Yg=new z("");function Ik(){return[{provide:Yg,useFactory:tD},{provide:al,multi:!0,useExisting:Yg}]}var Qa=()=>["/"],ed=class t{name="Samuel Rodr\xEDguez";title="Game Developer";static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ft({type:t,selectors:[["app-header"]],decls:27,vars:16,consts:[[1,"header"],[1,"header-content"],["aria-label","Ir al inicio",1,"brand",3,"routerLink"],[1,"avatar"],["viewBox","0 0 200 200","xmlns","http://www.w3.org/2000/svg"],["width","200","height","200","fill","#f5f5f5"],["cx","100","cy","70","r","30","fill","#1a1a1a"],["d","M 60 100 Q 100 110 140 100 L 140 200 Q 100 190 60 200 Z","fill","#1a1a1a"],[1,"info"],[1,"subtitle"],[1,"navbar"],[1,"nav-menu"],[1,"nav-link",3,"routerLink","fragment"]],template:function(n,r){n&1&&(F(0,"header",0)(1,"div",1)(2,"a",2)(3,"div",3),ri(),F(4,"svg",4),ke(5,"rect",5)(6,"circle",6)(7,"path",7),V()(),sI(),F(8,"div",8)(9,"h1"),K(10),V(),F(11,"p",9),K(12),V()()(),F(13,"nav",10)(14,"ul",11)(15,"li")(16,"a",12),K(17,"Proyectos"),V()(),F(18,"li")(19,"a",12),K(20,"VR"),V()(),F(21,"li")(22,"a",12),K(23,"Game Jam"),V()(),F(24,"li")(25,"a",12),K(26,"Sobre m\xED"),V()()()()()()),n&2&&(H(2),J("routerLink",So(11,Qa)),H(8),et(r.name),H(2),et(r.title),H(4),J("routerLink",So(12,Qa))("fragment","proyecto"),H(3),J("routerLink",So(13,Qa))("fragment","vr"),H(3),J("routerLink",So(14,Qa))("fragment","gamejam"),H(3),J("routerLink",So(15,Qa))("fragment","about"))},dependencies:[Ka,Ho],styles:[".header[_ngcontent-%COMP%]{background:#fafbfc;border-bottom:1px solid #d4dce5;padding:20px;position:sticky;top:0;z-index:100;box-shadow:0 2px 8px #00000014}.header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:40px;max-width:1400px;margin:0 auto}@media (max-width: 768px){.header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex-wrap:wrap;gap:20px;justify-content:center}}.header[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:60px;height:60px;flex-shrink:0;border-radius:50%;background:linear-gradient(135deg,#e8f0ff,#e0e8ff);display:flex;align-items:center;justify-content:center;border:2px solid #5b7fbf;overflow:hidden;box-shadow:0 0 12px #5b7fbf33}@media (max-width: 768px){.header[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:50px;height:50px}}.header[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:85%;height:85%;filter:drop-shadow(0 2px 8px rgba(0,0,0,.15)) brightness(.85)}.header[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{color:#3a4a5a;text-align:left;flex:1;min-width:0}@media (max-width: 768px){.header[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{text-align:center}}.header[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.4rem;margin:0;font-weight:700;letter-spacing:-.5px;color:#3a4a5a;background:linear-gradient(135deg,#5b7fbf,#7a9fd9);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}@media (max-width: 768px){.header[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.1rem}}.header[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:.9rem;margin:4px 0 0;color:#7a8a9a;font-weight:500}@media (max-width: 768px){.header[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:.85rem}}.header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;text-decoration:none;color:inherit;cursor:pointer}.header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]:hover   .info[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#5b7fbf}.header[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]{flex-shrink:0}.nav-menu[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:flex;gap:32px;align-items:center}@media (max-width: 768px){.nav-menu[_ngcontent-%COMP%]{gap:16px;width:100%;justify-content:center}}.nav-link[_ngcontent-%COMP%]{text-decoration:none;color:#5a6a7a;font-weight:600;font-size:.95rem;padding:8px 16px;border-radius:6px;transition:all .3s ease;display:inline-block;position:relative}.nav-link[_ngcontent-%COMP%]:hover{color:#5b7fbf;background:#5b7fbf1a}.nav-link[_ngcontent-%COMP%]:focus{outline:2px solid #5b7fbf;outline-offset:2px}@media (max-width: 768px){.nav-link[_ngcontent-%COMP%]{font-size:.9rem}}"]})};var nd=class t{constructor(e){this.router=e}ngOnInit(){this.router.events.pipe(it(e=>e instanceof bt)).subscribe(()=>{let e=this.router.parseUrl(this.router.url).fragment;e&&setTimeout(()=>{let n=document.getElementById(e);n&&n.scrollIntoView({behavior:"smooth",block:"center"})},100)})}static \u0275fac=function(n){return new(n||t)(Ae(Vt))};static \u0275cmp=Ft({type:t,selectors:[["app-root"]],decls:3,vars:0,template:function(n,r){n&1&&(ke(0,"app-header"),F(1,"main"),ke(2,"router-outlet"),V())},dependencies:[Ha,ed],encapsulation:2})};var rd=class t{constructor(e){this.http=e}dataUrl="./assets/data/projects.json";getAll(){return this.http.get(this.dataUrl)}getById(e){return this.getAll().pipe(Z(n=>n.find(r=>r.id===e)))}getByCategory(e){return this.getAll().pipe(Z(n=>n.filter(r=>Array.isArray(r.category)?r.category.includes(e):r.category===e)))}getGroupedByCategory(){return this.getAll().pipe(Z(e=>{let n=new Map;return e.forEach(r=>{(Array.isArray(r.category)?r.category:[r.category]).forEach(o=>{n.has(o)||n.set(o,[]),n.get(o).push(r)})}),n}))}static \u0275fac=function(n){return new(n||t)(q(Mo))};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})};var lD=()=>{};var hD=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Dk=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],c=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},pD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,c=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,f=o>>2,p=(o&3)<<4|c>>4,m=(c&15)<<2|l>>6,y=l&63;u||(y=64,s||(m=64)),r.push(n[f],n[p],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(hD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Dk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||c==null||l==null||p==null)throw new Xg;let m=o<<2|c>>4;if(r.push(m),l!==64){let y=c<<4&240|l>>2;if(r.push(y),p!==64){let C=l<<6&192|p;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Xg=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Tk=function(t){let e=hD(t);return pD.encodeByteArray(e,!0)},Za=function(t){return Tk(t).replace(/\./g,"")},gD=function(t){try{return pD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function mD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Ck=()=>mD().__FIREBASE_DEFAULTS__,Sk=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Ak=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&gD(t[1]);return e&&JSON.parse(e)},em=()=>{try{return lD()||Ck()||Sk()||Ak()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},xk=t=>em()?.emulatorHosts?.[t],od=t=>{let e=xk(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},tm=()=>em()?.config;var id=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function zo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}function sd(t){return O(this,null,function*(){return(yield fetch(t,{credentials:"include"})).ok})}function ad(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=P({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Za(JSON.stringify(n)),Za(JSON.stringify(s)),""].join(".")}var Ya={};function Rk(){let t={prod:[],emulator:[]};for(let e of Object.keys(Ya))Ya[e]?t.emulator.push(e):t.prod.push(e);return t}function Mk(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}var dD=!1;function cd(t,e){if(typeof window>"u"||typeof document>"u"||!zo(window.location.host)||Ya[t]===e||Ya[t]||dD)return;Ya[t]=e;function n(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=Rk().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function c(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function l(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{dD=!0,s()},m}function f(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){let m=Mk(r),y=n("text"),C=document.getElementById(y)||document.createElement("span"),A=n("learnmore"),x=document.getElementById(A)||document.createElement("a"),B=n("preprendIcon"),ae=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let W=m.element;c(W),f(x,A);let me=l();u(ae,B),W.append(ae,C,x,me),document.body.appendChild(W)}o?(C.innerText="Preview backend disconnected.",ae.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ae.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function yD(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Nk(){let t=em()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vD(){return!Nk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nm(){try{return typeof indexedDB=="object"}catch{return!1}}function _D(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}var Pk="FirebaseError",Xt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Pk,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ja.prototype.create)}},Ja=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?Ok(o,r):"Error",c=`${this.serviceName}: ${s} (${i}).`;return new Xt(i,c,r)}};function Ok(t,e){return t.replace(kk,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var kk=/\{\$([^}]+)}/g;function gi(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(fD(o)&&fD(s)){if(!gi(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function fD(t){return t!==null&&typeof t=="object"}var i5=4*60*60*1e3;function Mt(t){return t&&t._delegate?t._delegate:t}var en=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var mi="[DEFAULT]";var rm=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new id;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){let n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Lk(e))try{this.getOrInitializeService({instanceIdentifier:mi})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=mi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return O(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=mi){return this.instances.has(e)}getOptions(e=mi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(o);r===c&&s.resolve(i)}return i}onInit(e,n){let r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);let o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Fk(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=mi){return this.component?this.component.multipleInstances?e:mi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Fk(t){return t===mi?void 0:t}function Lk(t){return t.instantiationMode==="EAGER"}var ud=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new rm(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var Vk=[],fe=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(fe||{}),jk={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},Bk=fe.INFO,Uk={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},$k=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=Uk[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},qo=class{constructor(e){this.name=e,this._logLevel=Bk,this._logHandler=$k,this._userLogHandler=null,Vk.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?jk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}};var Hk=(t,e)=>e.some(n=>t instanceof n),wD,ED;function zk(){return wD||(wD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qk(){return ED||(ED=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var ID=new WeakMap,om=new WeakMap,bD=new WeakMap,im=new WeakMap,am=new WeakMap;function Gk(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(bn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&ID.set(n,t)}).catch(()=>{}),am.set(e,t),e}function Wk(t){if(om.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});om.set(t,e)}var sm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return om.get(t);if(e==="objectStoreNames")return t.objectStoreNames||bD.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return bn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function DD(t){sm=t(sm)}function Kk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(ld(this),e,...n);return bD.set(r,e.sort?e.sort():[e]),bn(r)}:qk().includes(t)?function(...e){return t.apply(ld(this),e),bn(ID.get(this))}:function(...e){return bn(t.apply(ld(this),e))}}function Qk(t){return typeof t=="function"?Kk(t):(t instanceof IDBTransaction&&Wk(t),Hk(t,zk())?new Proxy(t,sm):t)}function bn(t){if(t instanceof IDBRequest)return Gk(t);if(im.has(t))return im.get(t);let e=Qk(t);return e!==t&&(im.set(t,e),am.set(e,t)),e}var ld=t=>am.get(t);function CD(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),c=bn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(bn(s.result),u.oldVersion,u.newVersion,bn(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}var Yk=["get","getKey","getAll","getAllKeys","count"],Zk=["put","add","delete","clear"],cm=new Map;function TD(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(cm.get(e))return cm.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=Zk.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Yk.includes(n)))return;let o=function(s,...c){return O(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]})};return cm.set(e,o),o}DD(t=>ye(P({},t),{get:(e,n,r)=>TD(e,n)||t.get(e,n,r),has:(e,n)=>!!TD(e,n)||t.has(e,n)}));var lm=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Jk(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function Jk(t){return t.getComponent()?.type==="VERSION"}var dm="@firebase/app",SD="0.14.8";var Gn=new qo("@firebase/app"),Xk="@firebase/app-compat",eF="@firebase/analytics-compat",tF="@firebase/analytics",nF="@firebase/app-check-compat",rF="@firebase/app-check",iF="@firebase/auth",oF="@firebase/auth-compat",sF="@firebase/database",aF="@firebase/data-connect",cF="@firebase/database-compat",uF="@firebase/functions",lF="@firebase/functions-compat",dF="@firebase/installations",fF="@firebase/installations-compat",hF="@firebase/messaging",pF="@firebase/messaging-compat",gF="@firebase/performance",mF="@firebase/performance-compat",yF="@firebase/remote-config",vF="@firebase/remote-config-compat",_F="@firebase/storage",wF="@firebase/storage-compat",EF="@firebase/firestore",IF="@firebase/ai",bF="@firebase/firestore-compat",DF="firebase",TF="12.9.0";var fm="[DEFAULT]",CF={[dm]:"fire-core",[Xk]:"fire-core-compat",[tF]:"fire-analytics",[eF]:"fire-analytics-compat",[rF]:"fire-app-check",[nF]:"fire-app-check-compat",[iF]:"fire-auth",[oF]:"fire-auth-compat",[sF]:"fire-rtdb",[aF]:"fire-data-connect",[cF]:"fire-rtdb-compat",[uF]:"fire-fn",[lF]:"fire-fn-compat",[dF]:"fire-iid",[fF]:"fire-iid-compat",[hF]:"fire-fcm",[pF]:"fire-fcm-compat",[gF]:"fire-perf",[mF]:"fire-perf-compat",[yF]:"fire-rc",[vF]:"fire-rc-compat",[_F]:"fire-gcs",[wF]:"fire-gcs-compat",[EF]:"fire-fst",[bF]:"fire-fst-compat",[IF]:"fire-vertex","fire-js":"fire-js",[DF]:"fire-js-all"};var dd=new Map,SF=new Map,hm=new Map;function AD(t,e){try{t.container.addComponent(e)}catch(n){Gn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function yi(t){let e=t.name;if(hm.has(e))return Gn.debug(`There were multiple attempts to register component ${e}.`),!1;hm.set(e,t);for(let n of dd.values())AD(n,t);for(let n of SF.values())AD(n,t);return!0}function fd(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function hd(t){return t==null?!1:t.settings!==void 0}var AF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ar=new Ja("app","Firebase",AF);var pm=class{constructor(e,n,r){this._isDeleted=!1,this._options=P({},e),this._config=P({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new en("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ar.create("app-deleted",{appName:this._name})}};var pd=TF;function ym(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=P({name:fm,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Ar.create("bad-app-name",{appName:String(i)});if(n||(n=tm()),!n)throw Ar.create("no-options");let o=dd.get(i);if(o){if(gi(n,o.options)&&gi(r,o.config))return o;throw Ar.create("duplicate-app",{appName:i})}let s=new ud(i);for(let u of hm.values())s.addComponent(u);let c=new pm(n,r,s);return dd.set(i,c),c}function gd(t=fm){let e=dd.get(t);if(!e&&t===fm&&tm())return ym();if(!e)throw Ar.create("no-app",{appName:t});return e}function tn(t,e,n){let r=CF[t]??t;n&&(r+=`-${n}`);let i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){let s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gn.warn(s.join(" "));return}yi(new en(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var xF="firebase-heartbeat-database",RF=1,Xa="firebase-heartbeat-store",um=null;function ND(){return um||(um=CD(xF,RF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Xa)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ar.create("idb-open",{originalErrorMessage:t.message})})),um}function MF(t){return O(this,null,function*(){try{let n=(yield ND()).transaction(Xa),r=yield n.objectStore(Xa).get(PD(t));return yield n.done,r}catch(e){if(e instanceof Xt)Gn.warn(e.message);else{let n=Ar.create("idb-get",{originalErrorMessage:e?.message});Gn.warn(n.message)}}})}function xD(t,e){return O(this,null,function*(){try{let r=(yield ND()).transaction(Xa,"readwrite");yield r.objectStore(Xa).put(e,PD(t)),yield r.done}catch(n){if(n instanceof Xt)Gn.warn(n.message);else{let r=Ar.create("idb-set",{originalErrorMessage:n?.message});Gn.warn(r.message)}}})}function PD(t){return`${t.name}!${t.options.appId}`}var NF=1024,PF=30,gm=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new mm(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return O(this,null,function*(){try{let n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=RD();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>PF){let i=kF(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Gn.warn(e)}})}getHeartbeatsHeader(){return O(this,null,function*(){try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";let e=RD(),{heartbeatsToSend:n,unsentEntries:r}=OF(this._heartbeatsCache.heartbeats),i=Za(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Gn.warn(e),""}})}};function RD(){return new Date().toISOString().substring(0,10)}function OF(t,e=NF){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),MD(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),MD(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var mm=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return O(this,null,function*(){return nm()?_D().then(()=>!0).catch(()=>!1):!1})}read(){return O(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield MF(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return O(this,null,function*(){if(yield this._canUseIndexedDBPromise){let r=yield this.read();return xD(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return O(this,null,function*(){if(yield this._canUseIndexedDBPromise){let r=yield this.read();return xD(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function MD(t){return Za(JSON.stringify({version:2,heartbeats:t})).length}function kF(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function FF(t){yi(new en("platform-logger",e=>new lm(e),"PRIVATE")),yi(new en("heartbeat",e=>new gm(e),"PRIVATE")),tn(dm,SD,t),tn(dm,SD,"esm2020"),tn("fire-js","")}FF("");var OD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},kD={};var Wn,vm;(function(){var t;function e(I,v){function w(){}w.prototype=v.prototype,I.F=v.prototype,I.prototype=new w,I.prototype.constructor=I,I.D=function(b,E,T){for(var _=Array(arguments.length-2),pt=2;pt<arguments.length;pt++)_[pt-2]=arguments[pt];return v.prototype[E].apply(b,_)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,v,w){w||(w=0);let b=Array(16);if(typeof v=="string")for(var E=0;E<16;++E)b[E]=v.charCodeAt(w++)|v.charCodeAt(w++)<<8|v.charCodeAt(w++)<<16|v.charCodeAt(w++)<<24;else for(E=0;E<16;++E)b[E]=v[w++]|v[w++]<<8|v[w++]<<16|v[w++]<<24;v=I.g[0],w=I.g[1],E=I.g[2];let T=I.g[3],_;_=v+(T^w&(E^T))+b[0]+3614090360&4294967295,v=w+(_<<7&4294967295|_>>>25),_=T+(E^v&(w^E))+b[1]+3905402710&4294967295,T=v+(_<<12&4294967295|_>>>20),_=E+(w^T&(v^w))+b[2]+606105819&4294967295,E=T+(_<<17&4294967295|_>>>15),_=w+(v^E&(T^v))+b[3]+3250441966&4294967295,w=E+(_<<22&4294967295|_>>>10),_=v+(T^w&(E^T))+b[4]+4118548399&4294967295,v=w+(_<<7&4294967295|_>>>25),_=T+(E^v&(w^E))+b[5]+1200080426&4294967295,T=v+(_<<12&4294967295|_>>>20),_=E+(w^T&(v^w))+b[6]+2821735955&4294967295,E=T+(_<<17&4294967295|_>>>15),_=w+(v^E&(T^v))+b[7]+4249261313&4294967295,w=E+(_<<22&4294967295|_>>>10),_=v+(T^w&(E^T))+b[8]+1770035416&4294967295,v=w+(_<<7&4294967295|_>>>25),_=T+(E^v&(w^E))+b[9]+2336552879&4294967295,T=v+(_<<12&4294967295|_>>>20),_=E+(w^T&(v^w))+b[10]+4294925233&4294967295,E=T+(_<<17&4294967295|_>>>15),_=w+(v^E&(T^v))+b[11]+2304563134&4294967295,w=E+(_<<22&4294967295|_>>>10),_=v+(T^w&(E^T))+b[12]+1804603682&4294967295,v=w+(_<<7&4294967295|_>>>25),_=T+(E^v&(w^E))+b[13]+4254626195&4294967295,T=v+(_<<12&4294967295|_>>>20),_=E+(w^T&(v^w))+b[14]+2792965006&4294967295,E=T+(_<<17&4294967295|_>>>15),_=w+(v^E&(T^v))+b[15]+1236535329&4294967295,w=E+(_<<22&4294967295|_>>>10),_=v+(E^T&(w^E))+b[1]+4129170786&4294967295,v=w+(_<<5&4294967295|_>>>27),_=T+(w^E&(v^w))+b[6]+3225465664&4294967295,T=v+(_<<9&4294967295|_>>>23),_=E+(v^w&(T^v))+b[11]+643717713&4294967295,E=T+(_<<14&4294967295|_>>>18),_=w+(T^v&(E^T))+b[0]+3921069994&4294967295,w=E+(_<<20&4294967295|_>>>12),_=v+(E^T&(w^E))+b[5]+3593408605&4294967295,v=w+(_<<5&4294967295|_>>>27),_=T+(w^E&(v^w))+b[10]+38016083&4294967295,T=v+(_<<9&4294967295|_>>>23),_=E+(v^w&(T^v))+b[15]+3634488961&4294967295,E=T+(_<<14&4294967295|_>>>18),_=w+(T^v&(E^T))+b[4]+3889429448&4294967295,w=E+(_<<20&4294967295|_>>>12),_=v+(E^T&(w^E))+b[9]+568446438&4294967295,v=w+(_<<5&4294967295|_>>>27),_=T+(w^E&(v^w))+b[14]+3275163606&4294967295,T=v+(_<<9&4294967295|_>>>23),_=E+(v^w&(T^v))+b[3]+4107603335&4294967295,E=T+(_<<14&4294967295|_>>>18),_=w+(T^v&(E^T))+b[8]+1163531501&4294967295,w=E+(_<<20&4294967295|_>>>12),_=v+(E^T&(w^E))+b[13]+2850285829&4294967295,v=w+(_<<5&4294967295|_>>>27),_=T+(w^E&(v^w))+b[2]+4243563512&4294967295,T=v+(_<<9&4294967295|_>>>23),_=E+(v^w&(T^v))+b[7]+1735328473&4294967295,E=T+(_<<14&4294967295|_>>>18),_=w+(T^v&(E^T))+b[12]+2368359562&4294967295,w=E+(_<<20&4294967295|_>>>12),_=v+(w^E^T)+b[5]+4294588738&4294967295,v=w+(_<<4&4294967295|_>>>28),_=T+(v^w^E)+b[8]+2272392833&4294967295,T=v+(_<<11&4294967295|_>>>21),_=E+(T^v^w)+b[11]+1839030562&4294967295,E=T+(_<<16&4294967295|_>>>16),_=w+(E^T^v)+b[14]+4259657740&4294967295,w=E+(_<<23&4294967295|_>>>9),_=v+(w^E^T)+b[1]+2763975236&4294967295,v=w+(_<<4&4294967295|_>>>28),_=T+(v^w^E)+b[4]+1272893353&4294967295,T=v+(_<<11&4294967295|_>>>21),_=E+(T^v^w)+b[7]+4139469664&4294967295,E=T+(_<<16&4294967295|_>>>16),_=w+(E^T^v)+b[10]+3200236656&4294967295,w=E+(_<<23&4294967295|_>>>9),_=v+(w^E^T)+b[13]+681279174&4294967295,v=w+(_<<4&4294967295|_>>>28),_=T+(v^w^E)+b[0]+3936430074&4294967295,T=v+(_<<11&4294967295|_>>>21),_=E+(T^v^w)+b[3]+3572445317&4294967295,E=T+(_<<16&4294967295|_>>>16),_=w+(E^T^v)+b[6]+76029189&4294967295,w=E+(_<<23&4294967295|_>>>9),_=v+(w^E^T)+b[9]+3654602809&4294967295,v=w+(_<<4&4294967295|_>>>28),_=T+(v^w^E)+b[12]+3873151461&4294967295,T=v+(_<<11&4294967295|_>>>21),_=E+(T^v^w)+b[15]+530742520&4294967295,E=T+(_<<16&4294967295|_>>>16),_=w+(E^T^v)+b[2]+3299628645&4294967295,w=E+(_<<23&4294967295|_>>>9),_=v+(E^(w|~T))+b[0]+4096336452&4294967295,v=w+(_<<6&4294967295|_>>>26),_=T+(w^(v|~E))+b[7]+1126891415&4294967295,T=v+(_<<10&4294967295|_>>>22),_=E+(v^(T|~w))+b[14]+2878612391&4294967295,E=T+(_<<15&4294967295|_>>>17),_=w+(T^(E|~v))+b[5]+4237533241&4294967295,w=E+(_<<21&4294967295|_>>>11),_=v+(E^(w|~T))+b[12]+1700485571&4294967295,v=w+(_<<6&4294967295|_>>>26),_=T+(w^(v|~E))+b[3]+2399980690&4294967295,T=v+(_<<10&4294967295|_>>>22),_=E+(v^(T|~w))+b[10]+4293915773&4294967295,E=T+(_<<15&4294967295|_>>>17),_=w+(T^(E|~v))+b[1]+2240044497&4294967295,w=E+(_<<21&4294967295|_>>>11),_=v+(E^(w|~T))+b[8]+1873313359&4294967295,v=w+(_<<6&4294967295|_>>>26),_=T+(w^(v|~E))+b[15]+4264355552&4294967295,T=v+(_<<10&4294967295|_>>>22),_=E+(v^(T|~w))+b[6]+2734768916&4294967295,E=T+(_<<15&4294967295|_>>>17),_=w+(T^(E|~v))+b[13]+1309151649&4294967295,w=E+(_<<21&4294967295|_>>>11),_=v+(E^(w|~T))+b[4]+4149444226&4294967295,v=w+(_<<6&4294967295|_>>>26),_=T+(w^(v|~E))+b[11]+3174756917&4294967295,T=v+(_<<10&4294967295|_>>>22),_=E+(v^(T|~w))+b[2]+718787259&4294967295,E=T+(_<<15&4294967295|_>>>17),_=w+(T^(E|~v))+b[9]+3951481745&4294967295,I.g[0]=I.g[0]+v&4294967295,I.g[1]=I.g[1]+(E+(_<<21&4294967295|_>>>11))&4294967295,I.g[2]=I.g[2]+E&4294967295,I.g[3]=I.g[3]+T&4294967295}r.prototype.v=function(I,v){v===void 0&&(v=I.length);let w=v-this.blockSize,b=this.C,E=this.h,T=0;for(;T<v;){if(E==0)for(;T<=w;)i(this,I,T),T+=this.blockSize;if(typeof I=="string"){for(;T<v;)if(b[E++]=I.charCodeAt(T++),E==this.blockSize){i(this,b),E=0;break}}else for(;T<v;)if(b[E++]=I[T++],E==this.blockSize){i(this,b),E=0;break}}this.h=E,this.o+=v},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var v=1;v<I.length-8;++v)I[v]=0;v=this.o*8;for(var w=I.length-8;w<I.length;++w)I[w]=v&255,v/=256;for(this.v(I),I=Array(16),v=0,w=0;w<4;++w)for(let b=0;b<32;b+=8)I[v++]=this.g[w]>>>b&255;return I};function o(I,v){var w=c;return Object.prototype.hasOwnProperty.call(w,I)?w[I]:w[I]=v(I)}function s(I,v){this.h=v;let w=[],b=!0;for(let E=I.length-1;E>=0;E--){let T=I[E]|0;b&&T==v||(w[E]=T,b=!1)}this.g=w}var c={};function u(I){return-128<=I&&I<128?o(I,function(v){return new s([v|0],v<0?-1:0)}):new s([I|0],I<0?-1:0)}function l(I){if(isNaN(I)||!isFinite(I))return p;if(I<0)return x(l(-I));let v=[],w=1;for(let b=0;I>=w;b++)v[b]=I/w|0,w*=4294967296;return new s(v,0)}function f(I,v){if(I.length==0)throw Error("number format error: empty string");if(v=v||10,v<2||36<v)throw Error("radix out of range: "+v);if(I.charAt(0)=="-")return x(f(I.substring(1),v));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');let w=l(Math.pow(v,8)),b=p;for(let T=0;T<I.length;T+=8){var E=Math.min(8,I.length-T);let _=parseInt(I.substring(T,T+E),v);E<8?(E=l(Math.pow(v,E)),b=b.j(E).add(l(_))):(b=b.j(w),b=b.add(l(_)))}return b}var p=u(0),m=u(1),y=u(16777216);t=s.prototype,t.m=function(){if(A(this))return-x(this).m();let I=0,v=1;for(let w=0;w<this.g.length;w++){let b=this.i(w);I+=(b>=0?b:4294967296+b)*v,v*=4294967296}return I},t.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(C(this))return"0";if(A(this))return"-"+x(this).toString(I);let v=l(Math.pow(I,6));var w=this;let b="";for(;;){let E=me(w,v).g;w=B(w,E.j(v));let T=((w.g.length>0?w.g[0]:w.h)>>>0).toString(I);if(w=E,C(w))return T+b;for(;T.length<6;)T="0"+T;b=T+b}},t.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function C(I){if(I.h!=0)return!1;for(let v=0;v<I.g.length;v++)if(I.g[v]!=0)return!1;return!0}function A(I){return I.h==-1}t.l=function(I){return I=B(this,I),A(I)?-1:C(I)?0:1};function x(I){let v=I.g.length,w=[];for(let b=0;b<v;b++)w[b]=~I.g[b];return new s(w,~I.h).add(m)}t.abs=function(){return A(this)?x(this):this},t.add=function(I){let v=Math.max(this.g.length,I.g.length),w=[],b=0;for(let E=0;E<=v;E++){let T=b+(this.i(E)&65535)+(I.i(E)&65535),_=(T>>>16)+(this.i(E)>>>16)+(I.i(E)>>>16);b=_>>>16,T&=65535,_&=65535,w[E]=_<<16|T}return new s(w,w[w.length-1]&-2147483648?-1:0)};function B(I,v){return I.add(x(v))}t.j=function(I){if(C(this)||C(I))return p;if(A(this))return A(I)?x(this).j(x(I)):x(x(this).j(I));if(A(I))return x(this.j(x(I)));if(this.l(y)<0&&I.l(y)<0)return l(this.m()*I.m());let v=this.g.length+I.g.length,w=[];for(var b=0;b<2*v;b++)w[b]=0;for(b=0;b<this.g.length;b++)for(let E=0;E<I.g.length;E++){let T=this.i(b)>>>16,_=this.i(b)&65535,pt=I.i(E)>>>16,or=I.i(E)&65535;w[2*b+2*E]+=_*or,ae(w,2*b+2*E),w[2*b+2*E+1]+=T*or,ae(w,2*b+2*E+1),w[2*b+2*E+1]+=_*pt,ae(w,2*b+2*E+1),w[2*b+2*E+2]+=T*pt,ae(w,2*b+2*E+2)}for(I=0;I<v;I++)w[I]=w[2*I+1]<<16|w[2*I];for(I=v;I<2*v;I++)w[I]=0;return new s(w,0)};function ae(I,v){for(;(I[v]&65535)!=I[v];)I[v+1]+=I[v]>>>16,I[v]&=65535,v++}function W(I,v){this.g=I,this.h=v}function me(I,v){if(C(v))throw Error("division by zero");if(C(I))return new W(p,p);if(A(I))return v=me(x(I),v),new W(x(v.g),x(v.h));if(A(v))return v=me(I,x(v)),new W(x(v.g),v.h);if(I.g.length>30){if(A(I)||A(v))throw Error("slowDivide_ only works with positive integers.");for(var w=m,b=v;b.l(I)<=0;)w=Qe(w),b=Qe(b);var E=Ne(w,1),T=Ne(b,1);for(b=Ne(b,2),w=Ne(w,2);!C(b);){var _=T.add(b);_.l(I)<=0&&(E=E.add(w),T=_),b=Ne(b,1),w=Ne(w,1)}return v=B(I,E.j(v)),new W(E,v)}for(E=p;I.l(v)>=0;){for(w=Math.max(1,Math.floor(I.m()/v.m())),b=Math.ceil(Math.log(w)/Math.LN2),b=b<=48?1:Math.pow(2,b-48),T=l(w),_=T.j(v);A(_)||_.l(I)>0;)w-=b,T=l(w),_=T.j(v);C(T)&&(T=m),E=E.add(T),I=B(I,_)}return new W(E,I)}t.B=function(I){return me(this,I).h},t.and=function(I){let v=Math.max(this.g.length,I.g.length),w=[];for(let b=0;b<v;b++)w[b]=this.i(b)&I.i(b);return new s(w,this.h&I.h)},t.or=function(I){let v=Math.max(this.g.length,I.g.length),w=[];for(let b=0;b<v;b++)w[b]=this.i(b)|I.i(b);return new s(w,this.h|I.h)},t.xor=function(I){let v=Math.max(this.g.length,I.g.length),w=[];for(let b=0;b<v;b++)w[b]=this.i(b)^I.i(b);return new s(w,this.h^I.h)};function Qe(I){let v=I.g.length+1,w=[];for(let b=0;b<v;b++)w[b]=I.i(b)<<1|I.i(b-1)>>>31;return new s(w,I.h)}function Ne(I,v){let w=v>>5;v%=32;let b=I.g.length-w,E=[];for(let T=0;T<b;T++)E[T]=v>0?I.i(T+w)>>>v|I.i(T+w+1)<<32-v:I.i(T+w);return new s(E,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,vm=kD.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=f,Wn=kD.Integer=s}).apply(typeof OD<"u"?OD:typeof self<"u"?self:typeof window<"u"?window:{});var md=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Kn={};var _m,LF,Go,wm,ec,yd,Em,Im,bm;(function(){var t,e=Object.defineProperty;function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof md=="object"&&md];for(var d=0;d<a.length;++d){var h=a[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=n(this);function i(a,d){if(d)e:{var h=r;a=a.split(".");for(var g=0;g<a.length-1;g++){var D=a[g];if(!(D in h))break e;h=h[D]}a=a[a.length-1],g=h[a],d=d(g),d!=g&&d!=null&&e(h,a,{configurable:!0,writable:!0,value:d})}}i("Symbol.dispose",function(a){return a||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(a){return a||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(a){return a||function(d){var h=[],g;for(g in d)Object.prototype.hasOwnProperty.call(d,g)&&h.push([g,d[g]]);return h}});var o=o||{},s=this||self;function c(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function u(a,d,h){return a.call.apply(a.bind,arguments)}function l(a,d,h){return l=u,l.apply(null,arguments)}function f(a,d){var h=Array.prototype.slice.call(arguments,1);return function(){var g=h.slice();return g.push.apply(g,arguments),a.apply(this,g)}}function p(a,d){function h(){}h.prototype=d.prototype,a.Z=d.prototype,a.prototype=new h,a.prototype.constructor=a,a.Ob=function(g,D,S){for(var k=Array(arguments.length-2),se=2;se<arguments.length;se++)k[se-2]=arguments[se];return d.prototype[D].apply(g,k)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?a=>a&&AsyncContext.Snapshot.wrap(a):a=>a;function y(a){let d=a.length;if(d>0){let h=Array(d);for(let g=0;g<d;g++)h[g]=a[g];return h}return[]}function C(a,d){for(let g=1;g<arguments.length;g++){let D=arguments[g];var h=typeof D;if(h=h!="object"?h:D?Array.isArray(D)?"array":h:"null",h=="array"||h=="object"&&typeof D.length=="number"){h=a.length||0;let S=D.length||0;a.length=h+S;for(let k=0;k<S;k++)a[h+k]=D[k]}else a.push(D)}}class A{constructor(d,h){this.i=d,this.j=h,this.h=0,this.g=null}get(){let d;return this.h>0?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function x(a){s.setTimeout(()=>{throw a},0)}function B(){var a=I;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class ae{constructor(){this.h=this.g=null}add(d,h){let g=W.get();g.set(d,h),this.h?this.h.next=g:this.g=g,this.h=g}}var W=new A(()=>new me,a=>a.reset());class me{constructor(){this.next=this.g=this.h=null}set(d,h){this.h=d,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let Qe,Ne=!1,I=new ae,v=()=>{let a=Promise.resolve(void 0);Qe=()=>{a.then(w)}};function w(){for(var a;a=B();){try{a.h.call(a.g)}catch(h){x(h)}var d=W;d.j(a),d.h<100&&(d.h++,a.next=d.g,d.g=a)}Ne=!1}function b(){this.u=this.u,this.C=this.C}b.prototype.u=!1,b.prototype.dispose=function(){this.u||(this.u=!0,this.N())},b.prototype[Symbol.dispose]=function(){this.dispose()},b.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function E(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}E.prototype.h=function(){this.defaultPrevented=!0};var T=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};s.addEventListener("test",h,d),s.removeEventListener("test",h,d)}catch{}return a}();function _(a){return/^[\s\xa0]*$/.test(a)}function pt(a,d){E.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a&&this.init(a,d)}p(pt,E),pt.prototype.init=function(a,d){let h=this.type=a.type,g=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget,d||(h=="mouseover"?d=a.fromElement:h=="mouseout"&&(d=a.toElement)),this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=a.pointerType,this.state=a.state,this.i=a,a.defaultPrevented&&pt.Z.h.call(this)},pt.prototype.h=function(){pt.Z.h.call(this);let a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var or="closure_listenable_"+(Math.random()*1e6|0),CS=0;function SS(a,d,h,g,D){this.listener=a,this.proxy=null,this.src=d,this.type=h,this.capture=!!g,this.ha=D,this.key=++CS,this.da=this.fa=!1}function Tc(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Cc(a,d,h){for(let g in a)d.call(h,a[g],g,a)}function AS(a,d){for(let h in a)d.call(void 0,a[h],h,a)}function kv(a){let d={};for(let h in a)d[h]=a[h];return d}let Fv="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Lv(a,d){let h,g;for(let D=1;D<arguments.length;D++){g=arguments[D];for(h in g)a[h]=g[h];for(let S=0;S<Fv.length;S++)h=Fv[S],Object.prototype.hasOwnProperty.call(g,h)&&(a[h]=g[h])}}function Sc(a){this.src=a,this.g={},this.h=0}Sc.prototype.add=function(a,d,h,g,D){let S=a.toString();a=this.g[S],a||(a=this.g[S]=[],this.h++);let k=Tf(a,d,g,D);return k>-1?(d=a[k],h||(d.fa=!1)):(d=new SS(d,this.src,S,!!g,D),d.fa=h,a.push(d)),d};function Df(a,d){let h=d.type;if(h in a.g){var g=a.g[h],D=Array.prototype.indexOf.call(g,d,void 0),S;(S=D>=0)&&Array.prototype.splice.call(g,D,1),S&&(Tc(d),a.g[h].length==0&&(delete a.g[h],a.h--))}}function Tf(a,d,h,g){for(let D=0;D<a.length;++D){let S=a[D];if(!S.da&&S.listener==d&&S.capture==!!h&&S.ha==g)return D}return-1}var Cf="closure_lm_"+(Math.random()*1e6|0),Sf={};function Vv(a,d,h,g,D){if(g&&g.once)return Bv(a,d,h,g,D);if(Array.isArray(d)){for(let S=0;S<d.length;S++)Vv(a,d[S],h,g,D);return null}return h=Mf(h),a&&a[or]?a.J(d,h,c(g)?!!g.capture:!!g,D):jv(a,d,h,!1,g,D)}function jv(a,d,h,g,D,S){if(!d)throw Error("Invalid event type");let k=c(D)?!!D.capture:!!D,se=xf(a);if(se||(a[Cf]=se=new Sc(a)),h=se.add(d,h,g,k,S),h.proxy)return h;if(g=xS(),h.proxy=g,g.src=a,g.listener=h,a.addEventListener)T||(D=k),D===void 0&&(D=!1),a.addEventListener(d.toString(),g,D);else if(a.attachEvent)a.attachEvent($v(d.toString()),g);else if(a.addListener&&a.removeListener)a.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return h}function xS(){function a(h){return d.call(a.src,a.listener,h)}let d=RS;return a}function Bv(a,d,h,g,D){if(Array.isArray(d)){for(let S=0;S<d.length;S++)Bv(a,d[S],h,g,D);return null}return h=Mf(h),a&&a[or]?a.K(d,h,c(g)?!!g.capture:!!g,D):jv(a,d,h,!0,g,D)}function Uv(a,d,h,g,D){if(Array.isArray(d))for(var S=0;S<d.length;S++)Uv(a,d[S],h,g,D);else g=c(g)?!!g.capture:!!g,h=Mf(h),a&&a[or]?(a=a.i,S=String(d).toString(),S in a.g&&(d=a.g[S],h=Tf(d,h,g,D),h>-1&&(Tc(d[h]),Array.prototype.splice.call(d,h,1),d.length==0&&(delete a.g[S],a.h--)))):a&&(a=xf(a))&&(d=a.g[d.toString()],a=-1,d&&(a=Tf(d,h,g,D)),(h=a>-1?d[a]:null)&&Af(h))}function Af(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[or])Df(d.i,a);else{var h=a.type,g=a.proxy;d.removeEventListener?d.removeEventListener(h,g,a.capture):d.detachEvent?d.detachEvent($v(h),g):d.addListener&&d.removeListener&&d.removeListener(g),(h=xf(d))?(Df(h,a),h.h==0&&(h.src=null,d[Cf]=null)):Tc(a)}}}function $v(a){return a in Sf?Sf[a]:Sf[a]="on"+a}function RS(a,d){if(a.da)a=!0;else{d=new pt(d,this);let h=a.listener,g=a.ha||a.src;a.fa&&Af(a),a=h.call(g,d)}return a}function xf(a){return a=a[Cf],a instanceof Sc?a:null}var Rf="__closure_events_fn_"+(Math.random()*1e9>>>0);function Mf(a){return typeof a=="function"?a:(a[Rf]||(a[Rf]=function(d){return a.handleEvent(d)}),a[Rf])}function at(){b.call(this),this.i=new Sc(this),this.M=this,this.G=null}p(at,b),at.prototype[or]=!0,at.prototype.removeEventListener=function(a,d,h,g){Uv(this,a,d,h,g)};function dt(a,d){var h,g=a.G;if(g)for(h=[];g;g=g.G)h.push(g);if(a=a.M,g=d.type||d,typeof d=="string")d=new E(d,a);else if(d instanceof E)d.target=d.target||a;else{var D=d;d=new E(g,a),Lv(d,D)}D=!0;let S,k;if(h)for(k=h.length-1;k>=0;k--)S=d.g=h[k],D=Ac(S,g,!0,d)&&D;if(S=d.g=a,D=Ac(S,g,!0,d)&&D,D=Ac(S,g,!1,d)&&D,h)for(k=0;k<h.length;k++)S=d.g=h[k],D=Ac(S,g,!1,d)&&D}at.prototype.N=function(){if(at.Z.N.call(this),this.i){var a=this.i;for(let d in a.g){let h=a.g[d];for(let g=0;g<h.length;g++)Tc(h[g]);delete a.g[d],a.h--}}this.G=null},at.prototype.J=function(a,d,h,g){return this.i.add(String(a),d,!1,h,g)},at.prototype.K=function(a,d,h,g){return this.i.add(String(a),d,!0,h,g)};function Ac(a,d,h,g){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();let D=!0;for(let S=0;S<d.length;++S){let k=d[S];if(k&&!k.da&&k.capture==h){let se=k.listener,qe=k.ha||k.src;k.fa&&Df(a.i,k),D=se.call(qe,g)!==!1&&D}}return D&&!g.defaultPrevented}function MS(a,d){if(typeof a!="function")if(a&&typeof a.handleEvent=="function")a=l(a.handleEvent,a);else throw Error("Invalid listener argument");return Number(d)>2147483647?-1:s.setTimeout(a,d||0)}function Hv(a){a.g=MS(()=>{a.g=null,a.i&&(a.i=!1,Hv(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class NS extends b{constructor(d,h){super(),this.m=d,this.l=h,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Hv(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Is(a){b.call(this),this.h=a,this.g={}}p(Is,b);var zv=[];function qv(a){Cc(a.g,function(d,h){this.g.hasOwnProperty(h)&&Af(d)},a),a.g={}}Is.prototype.N=function(){Is.Z.N.call(this),qv(this)},Is.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Nf=s.JSON.stringify,PS=s.JSON.parse,OS=class{stringify(a){return s.JSON.stringify(a,void 0)}parse(a){return s.JSON.parse(a,void 0)}};function Gv(){}function Wv(){}var bs={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pf(){E.call(this,"d")}p(Pf,E);function Of(){E.call(this,"c")}p(Of,E);var kr={},Kv=null;function xc(){return Kv=Kv||new at}kr.Ia="serverreachability";function Qv(a){E.call(this,kr.Ia,a)}p(Qv,E);function Ds(a){let d=xc();dt(d,new Qv(d))}kr.STAT_EVENT="statevent";function Yv(a,d){E.call(this,kr.STAT_EVENT,a),this.stat=d}p(Yv,E);function ft(a){let d=xc();dt(d,new Yv(d,a))}kr.Ja="timingevent";function Zv(a,d){E.call(this,kr.Ja,a),this.size=d}p(Zv,E);function Ts(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){a()},d)}function Cs(){this.g=!0}Cs.prototype.ua=function(){this.g=!1};function kS(a,d,h,g,D,S){a.info(function(){if(a.g)if(S){var k="",se=S.split("&");for(let be=0;be<se.length;be++){var qe=se[be].split("=");if(qe.length>1){let Ye=qe[0];qe=qe[1];let an=Ye.split("_");k=an.length>=2&&an[1]=="type"?k+(Ye+"="+qe+"&"):k+(Ye+"=redacted&")}}}else k=null;else k=S;return"XMLHTTP REQ ("+g+") [attempt "+D+"]: "+d+`
`+h+`
`+k})}function FS(a,d,h,g,D,S,k){a.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+D+"]: "+d+`
`+h+`
`+S+" "+k})}function Li(a,d,h,g){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+VS(a,h)+(g?" "+g:"")})}function LS(a,d){a.info(function(){return"TIMEOUT: "+d})}Cs.prototype.info=function(){};function VS(a,d){if(!a.g)return d;if(!d)return null;try{let S=JSON.parse(d);if(S){for(a=0;a<S.length;a++)if(Array.isArray(S[a])){var h=S[a];if(!(h.length<2)){var g=h[1];if(Array.isArray(g)&&!(g.length<1)){var D=g[0];if(D!="noop"&&D!="stop"&&D!="close")for(let k=1;k<g.length;k++)g[k]=""}}}}return Nf(S)}catch{return d}}var Rc={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Jv={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Xv;function kf(){}p(kf,Gv),kf.prototype.g=function(){return new XMLHttpRequest},Xv=new kf;function Ss(a){return encodeURIComponent(String(a))}function jS(a){var d=1;a=a.split(":");let h=[];for(;d>0&&a.length;)h.push(a.shift()),d--;return a.length&&h.push(a.join(":")),h}function sr(a,d,h,g){this.j=a,this.i=d,this.l=h,this.S=g||1,this.V=new Is(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new e_}function e_(){this.i=null,this.g="",this.h=!1}var t_={},Ff={};function Lf(a,d,h){a.M=1,a.A=Nc(sn(d)),a.u=h,a.R=!0,n_(a,null)}function n_(a,d){a.F=Date.now(),Mc(a),a.B=sn(a.A);var h=a.B,g=a.S;Array.isArray(g)||(g=[String(g)]),g_(h.i,"t",g),a.C=0,h=a.j.L,a.h=new e_,a.g=P_(a.j,h?d:null,!a.u),a.P>0&&(a.O=new NS(l(a.Y,a,a.g),a.P)),d=a.V,h=a.g,g=a.ba;var D="readystatechange";Array.isArray(D)||(D&&(zv[0]=D.toString()),D=zv);for(let S=0;S<D.length;S++){let k=Vv(h,D[S],g||d.handleEvent,!1,d.h||d);if(!k)break;d.g[k.key]=k}d=a.J?kv(a.J):{},a.u?(a.v||(a.v="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.B,a.v,a.u,d)):(a.v="GET",a.g.ea(a.B,a.v,null,d)),Ds(),kS(a.i,a.v,a.B,a.l,a.S,a.u)}sr.prototype.ba=function(a){a=a.target;let d=this.O;d&&ur(a)==3?d.j():this.Y(a)},sr.prototype.Y=function(a){try{if(a==this.g)e:{let se=ur(this.g),qe=this.g.ya(),be=this.g.ca();if(!(se<3)&&(se!=3||this.g&&(this.h.h||this.g.la()||I_(this.g)))){this.K||se!=4||qe==7||(qe==8||be<=0?Ds(3):Ds(2)),Vf(this);var d=this.g.ca();this.X=d;var h=BS(this);if(this.o=d==200,FS(this.i,this.v,this.B,this.l,this.S,se,d),this.o){if(this.U&&!this.L){t:{if(this.g){var g,D=this.g;if((g=D.g?D.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(g)){var S=g;break t}}S=null}if(a=S)Li(this.i,this.l,a,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,jf(this,a);else{this.o=!1,this.m=3,ft(12),Fr(this),As(this);break e}}if(this.R){a=!0;let Ye;for(;!this.K&&this.C<h.length;)if(Ye=US(this,h),Ye==Ff){se==4&&(this.m=4,ft(14),a=!1),Li(this.i,this.l,null,"[Incomplete Response]");break}else if(Ye==t_){this.m=4,ft(15),Li(this.i,this.l,h,"[Invalid Chunk]"),a=!1;break}else Li(this.i,this.l,Ye,null),jf(this,Ye);if(r_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),se!=4||h.length!=0||this.h.h||(this.m=1,ft(16),a=!1),this.o=this.o&&a,!a)Li(this.i,this.l,h,"[Invalid Chunked Response]"),Fr(this),As(this);else if(h.length>0&&!this.W){this.W=!0;var k=this.j;k.g==this&&k.aa&&!k.P&&(k.j.info("Great, no buffering proxy detected. Bytes received: "+h.length),Gf(k),k.P=!0,ft(11))}}else Li(this.i,this.l,h,null),jf(this,h);se==4&&Fr(this),this.o&&!this.K&&(se==4?x_(this.j,this):(this.o=!1,Mc(this)))}else tA(this.g),d==400&&h.indexOf("Unknown SID")>0?(this.m=3,ft(12)):(this.m=0,ft(13)),Fr(this),As(this)}}}catch{}finally{}};function BS(a){if(!r_(a))return a.g.la();let d=I_(a.g);if(d==="")return"";let h="",g=d.length,D=ur(a.g)==4;if(!a.h.i){if(typeof TextDecoder>"u")return Fr(a),As(a),"";a.h.i=new s.TextDecoder}for(let S=0;S<g;S++)a.h.h=!0,h+=a.h.i.decode(d[S],{stream:!(D&&S==g-1)});return d.length=0,a.h.g+=h,a.C=0,a.h.g}function r_(a){return a.g?a.v=="GET"&&a.M!=2&&a.j.Aa:!1}function US(a,d){var h=a.C,g=d.indexOf(`
`,h);return g==-1?Ff:(h=Number(d.substring(h,g)),isNaN(h)?t_:(g+=1,g+h>d.length?Ff:(d=d.slice(g,g+h),a.C=g+h,d)))}sr.prototype.cancel=function(){this.K=!0,Fr(this)};function Mc(a){a.T=Date.now()+a.H,i_(a,a.H)}function i_(a,d){if(a.D!=null)throw Error("WatchDog timer not null");a.D=Ts(l(a.aa,a),d)}function Vf(a){a.D&&(s.clearTimeout(a.D),a.D=null)}sr.prototype.aa=function(){this.D=null;let a=Date.now();a-this.T>=0?(LS(this.i,this.B),this.M!=2&&(Ds(),ft(17)),Fr(this),this.m=2,As(this)):i_(this,this.T-a)};function As(a){a.j.I==0||a.K||x_(a.j,a)}function Fr(a){Vf(a);var d=a.O;d&&typeof d.dispose=="function"&&d.dispose(),a.O=null,qv(a.V),a.g&&(d=a.g,a.g=null,d.abort(),d.dispose())}function jf(a,d){try{var h=a.j;if(h.I!=0&&(h.g==a||Bf(h.h,a))){if(!a.L&&Bf(h.h,a)&&h.I==3){try{var g=h.Ba.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var D=g;if(D[0]==0){e:if(!h.v){if(h.g)if(h.g.F+3e3<a.F)Vc(h),Fc(h);else break e;qf(h),ft(18)}}else h.xa=D[1],0<h.xa-h.K&&D[2]<37500&&h.F&&h.A==0&&!h.C&&(h.C=Ts(l(h.Va,h),6e3));a_(h.h)<=1&&h.ta&&(h.ta=void 0)}else Vr(h,11)}else if((a.L||h.g==a)&&Vc(h),!_(d))for(D=h.Ba.g.parse(d),d=0;d<D.length;d++){let be=D[d],Ye=be[0];if(!(Ye<=h.K))if(h.K=Ye,be=be[1],h.I==2)if(be[0]=="c"){h.M=be[1],h.ba=be[2];let an=be[3];an!=null&&(h.ka=an,h.j.info("VER="+h.ka));let jr=be[4];jr!=null&&(h.za=jr,h.j.info("SVER="+h.za));let lr=be[5];lr!=null&&typeof lr=="number"&&lr>0&&(g=1.5*lr,h.O=g,h.j.info("backChannelRequestTimeoutMs_="+g)),g=h;let dr=a.g;if(dr){let Bc=dr.g?dr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bc){var S=g.h;S.g||Bc.indexOf("spdy")==-1&&Bc.indexOf("quic")==-1&&Bc.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(Uf(S,S.h),S.h=null))}if(g.G){let Wf=dr.g?dr.g.getResponseHeader("X-HTTP-Session-Id"):null;Wf&&(g.wa=Wf,Se(g.J,g.G,Wf))}}h.I=3,h.l&&h.l.ra(),h.aa&&(h.T=Date.now()-a.F,h.j.info("Handshake RTT: "+h.T+"ms")),g=h;var k=a;if(g.na=N_(g,g.L?g.ba:null,g.W),k.L){c_(g.h,k);var se=k,qe=g.O;qe&&(se.H=qe),se.D&&(Vf(se),Mc(se)),g.g=k}else S_(g);h.i.length>0&&Lc(h)}else be[0]!="stop"&&be[0]!="close"||Vr(h,7);else h.I==3&&(be[0]=="stop"||be[0]=="close"?be[0]=="stop"?Vr(h,7):zf(h):be[0]!="noop"&&h.l&&h.l.qa(be),h.A=0)}}Ds(4)}catch{}}var $S=class{constructor(a,d){this.g=a,this.map=d}};function o_(a){this.l=a||10,s.PerformanceNavigationTiming?(a=s.performance.getEntriesByType("navigation"),a=a.length>0&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function s_(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function a_(a){return a.h?1:a.g?a.g.size:0}function Bf(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function Uf(a,d){a.g?a.g.add(d):a.h=d}function c_(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}o_.prototype.cancel=function(){if(this.i=u_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function u_(a){if(a.h!=null)return a.i.concat(a.h.G);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let h of a.g.values())d=d.concat(h.G);return d}return y(a.i)}var l_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function HS(a,d){if(a){a=a.split("&");for(let h=0;h<a.length;h++){let g=a[h].indexOf("="),D,S=null;g>=0?(D=a[h].substring(0,g),S=a[h].substring(g+1)):D=a[h],d(D,S?decodeURIComponent(S.replace(/\+/g," ")):"")}}}function ar(a){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let d;a instanceof ar?(this.l=a.l,xs(this,a.j),this.o=a.o,this.g=a.g,Rs(this,a.u),this.h=a.h,$f(this,m_(a.i)),this.m=a.m):a&&(d=String(a).match(l_))?(this.l=!1,xs(this,d[1]||"",!0),this.o=Ms(d[2]||""),this.g=Ms(d[3]||"",!0),Rs(this,d[4]),this.h=Ms(d[5]||"",!0),$f(this,d[6]||"",!0),this.m=Ms(d[7]||"")):(this.l=!1,this.i=new Ps(null,this.l))}ar.prototype.toString=function(){let a=[];var d=this.j;d&&a.push(Ns(d,d_,!0),":");var h=this.g;return(h||d=="file")&&(a.push("//"),(d=this.o)&&a.push(Ns(d,d_,!0),"@"),a.push(Ss(h).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.u,h!=null&&a.push(":",String(h))),(h=this.h)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(Ns(h,h.charAt(0)=="/"?GS:qS,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",Ns(h,KS)),a.join("")},ar.prototype.resolve=function(a){let d=sn(this),h=!!a.j;h?xs(d,a.j):h=!!a.o,h?d.o=a.o:h=!!a.g,h?d.g=a.g:h=a.u!=null;var g=a.h;if(h)Rs(d,a.u);else if(h=!!a.h){if(g.charAt(0)!="/")if(this.g&&!this.h)g="/"+g;else{var D=d.h.lastIndexOf("/");D!=-1&&(g=d.h.slice(0,D+1)+g)}if(D=g,D==".."||D==".")g="";else if(D.indexOf("./")!=-1||D.indexOf("/.")!=-1){g=D.lastIndexOf("/",0)==0,D=D.split("/");let S=[];for(let k=0;k<D.length;){let se=D[k++];se=="."?g&&k==D.length&&S.push(""):se==".."?((S.length>1||S.length==1&&S[0]!="")&&S.pop(),g&&k==D.length&&S.push("")):(S.push(se),g=!0)}g=S.join("/")}else g=D}return h?d.h=g:h=a.i.toString()!=="",h?$f(d,m_(a.i)):h=!!a.m,h&&(d.m=a.m),d};function sn(a){return new ar(a)}function xs(a,d,h){a.j=h?Ms(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function Rs(a,d){if(d){if(d=Number(d),isNaN(d)||d<0)throw Error("Bad port number "+d);a.u=d}else a.u=null}function $f(a,d,h){d instanceof Ps?(a.i=d,QS(a.i,a.l)):(h||(d=Ns(d,WS)),a.i=new Ps(d,a.l))}function Se(a,d,h){a.i.set(d,h)}function Nc(a){return Se(a,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),a}function Ms(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Ns(a,d,h){return typeof a=="string"?(a=encodeURI(a).replace(d,zS),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function zS(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var d_=/[#\/\?@]/g,qS=/[#\?:]/g,GS=/[#\?]/g,WS=/[#\?@]/g,KS=/#/g;function Ps(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function Lr(a){a.g||(a.g=new Map,a.h=0,a.i&&HS(a.i,function(d,h){a.add(decodeURIComponent(d.replace(/\+/g," ")),h)}))}t=Ps.prototype,t.add=function(a,d){Lr(this),this.i=null,a=Vi(this,a);let h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(d),this.h+=1,this};function f_(a,d){Lr(a),d=Vi(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function h_(a,d){return Lr(a),d=Vi(a,d),a.g.has(d)}t.forEach=function(a,d){Lr(this),this.g.forEach(function(h,g){h.forEach(function(D){a.call(d,D,g,this)},this)},this)};function p_(a,d){Lr(a);let h=[];if(typeof d=="string")h_(a,d)&&(h=h.concat(a.g.get(Vi(a,d))));else for(a=Array.from(a.g.values()),d=0;d<a.length;d++)h=h.concat(a[d]);return h}t.set=function(a,d){return Lr(this),this.i=null,a=Vi(this,a),h_(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},t.get=function(a,d){return a?(a=p_(this,a),a.length>0?String(a[0]):d):d};function g_(a,d,h){f_(a,d),h.length>0&&(a.i=null,a.g.set(Vi(a,d),y(h)),a.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(let g=0;g<d.length;g++){var h=d[g];let D=Ss(h);h=p_(this,h);for(let S=0;S<h.length;S++){let k=D;h[S]!==""&&(k+="="+Ss(h[S])),a.push(k)}}return this.i=a.join("&")};function m_(a){let d=new Ps;return d.i=a.i,a.g&&(d.g=new Map(a.g),d.h=a.h),d}function Vi(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function QS(a,d){d&&!a.j&&(Lr(a),a.i=null,a.g.forEach(function(h,g){let D=g.toLowerCase();g!=D&&(f_(this,g),g_(this,D,h))},a)),a.j=d}function YS(a,d){let h=new Cs;if(s.Image){let g=new Image;g.onload=f(cr,h,"TestLoadImage: loaded",!0,d,g),g.onerror=f(cr,h,"TestLoadImage: error",!1,d,g),g.onabort=f(cr,h,"TestLoadImage: abort",!1,d,g),g.ontimeout=f(cr,h,"TestLoadImage: timeout",!1,d,g),s.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=a}else d(!1)}function ZS(a,d){let h=new Cs,g=new AbortController,D=setTimeout(()=>{g.abort(),cr(h,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:g.signal}).then(S=>{clearTimeout(D),S.ok?cr(h,"TestPingServer: ok",!0,d):cr(h,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(D),cr(h,"TestPingServer: error",!1,d)})}function cr(a,d,h,g,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),g(h)}catch{}}function JS(){this.g=new OS}function Pc(a){this.i=a.Sb||null,this.h=a.ab||!1}p(Pc,Gv),Pc.prototype.g=function(){return new Oc(this.i,this.h)};function Oc(a,d){at.call(this),this.H=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(Oc,at),t=Oc.prototype,t.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=a,this.D=d,this.readyState=1,ks(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;let d={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};a&&(d.body=a),(this.H||s).fetch(new Request(this.D,d)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Os(this)),this.readyState=0},t.Pa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,ks(this)),this.g&&(this.readyState=3,ks(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;y_(this)}else a.text().then(this.Oa.bind(this),this.ga.bind(this))};function y_(a){a.j.read().then(a.Ma.bind(a)).catch(a.ga.bind(a))}t.Ma=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.B.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?Os(this):ks(this),this.readyState==3&&y_(this)}},t.Oa=function(a){this.g&&(this.response=this.responseText=a,Os(this))},t.Na=function(a){this.g&&(this.response=a,Os(this))},t.ga=function(){this.g&&Os(this)};function Os(a){a.readyState=4,a.l=null,a.j=null,a.B=null,ks(a)}t.setRequestHeader=function(a,d){this.A.append(a,d)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var h=d.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=d.next();return a.join(`\r
`)};function ks(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Oc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function v_(a){let d="";return Cc(a,function(h,g){d+=g,d+=":",d+=h,d+=`\r
`}),d}function Hf(a,d,h){e:{for(g in h){var g=!1;break e}g=!0}g||(h=v_(h),typeof a=="string"?h!=null&&Ss(h):Se(a,d,h))}function Pe(a){at.call(this),this.headers=new Map,this.L=a||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(Pe,at);var XS=/^https?$/i,eA=["POST","PUT"];t=Pe.prototype,t.Fa=function(a){this.H=a},t.ea=function(a,d,h,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Xv.g(),this.g.onreadystatechange=m(l(this.Ca,this));try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(S){__(this,S);return}if(a=h||"",h=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var D in g)h.set(D,g[D]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let S of g.keys())h.set(S,g.get(S));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(h.keys()).find(S=>S.toLowerCase()=="content-type"),D=s.FormData&&a instanceof s.FormData,!(Array.prototype.indexOf.call(eA,d,void 0)>=0)||g||D||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,k]of h)this.g.setRequestHeader(S,k);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(a),this.v=!1}catch(S){__(this,S)}};function __(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.o=5,w_(a),kc(a)}function w_(a){a.A||(a.A=!0,dt(a,"complete"),dt(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=a||7,dt(this,"complete"),dt(this,"abort"),kc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),kc(this,!0)),Pe.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?E_(this):this.Xa())},t.Xa=function(){E_(this)};function E_(a){if(a.h&&typeof o<"u"){if(a.v&&ur(a)==4)setTimeout(a.Ca.bind(a),0);else if(dt(a,"readystatechange"),ur(a)==4){a.h=!1;try{let S=a.ca();e:switch(S){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var h;if(!(h=d)){var g;if(g=S===0){let k=String(a.D).match(l_)[1]||null;!k&&s.self&&s.self.location&&(k=s.self.location.protocol.slice(0,-1)),g=!XS.test(k?k.toLowerCase():"")}h=g}if(h)dt(a,"complete"),dt(a,"success");else{a.o=6;try{var D=ur(a)>2?a.g.statusText:""}catch{D=""}a.l=D+" ["+a.ca()+"]",w_(a)}}finally{kc(a)}}}}function kc(a,d){if(a.g){a.m&&(clearTimeout(a.m),a.m=null);let h=a.g;a.g=null,d||dt(a,"ready");try{h.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ur(a){return a.g?a.g.readyState:0}t.ca=function(){try{return ur(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),PS(d)}};function I_(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.F){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function tA(a){let d={};a=(a.g&&ur(a)>=2&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<a.length;g++){if(_(a[g]))continue;var h=jS(a[g]);let D=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let S=d[D]||[];d[D]=S,S.push(h)}AS(d,function(g){return g.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fs(a,d,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||d}function b_(a){this.za=0,this.i=[],this.j=new Cs,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Fs("failFast",!1,a),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Fs("baseRetryDelayMs",5e3,a),this.Za=Fs("retryDelaySeedMs",1e4,a),this.Ta=Fs("forwardChannelMaxRetries",2,a),this.va=Fs("forwardChannelRequestTimeoutMs",2e4,a),this.ma=a&&a.xmlHttpFactory||void 0,this.Ua=a&&a.Rb||void 0,this.Aa=a&&a.useFetchStreams||!1,this.O=void 0,this.L=a&&a.supportsCrossDomainXhr||!1,this.M="",this.h=new o_(a&&a.concurrentRequestLimit),this.Ba=new JS,this.S=a&&a.fastHandshake||!1,this.R=a&&a.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=a&&a.Pb||!1,a&&a.ua&&this.j.ua(),a&&a.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&a&&a.detectBufferingProxy||!1,this.ia=void 0,a&&a.longPollingTimeout&&a.longPollingTimeout>0&&(this.ia=a.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=b_.prototype,t.ka=8,t.I=1,t.connect=function(a,d,h,g){ft(0),this.W=a,this.H=d||{},h&&g!==void 0&&(this.H.OSID=h,this.H.OAID=g),this.F=this.X,this.J=N_(this,null,this.W),Lc(this)};function zf(a){if(D_(a),a.I==3){var d=a.V++,h=sn(a.J);if(Se(h,"SID",a.M),Se(h,"RID",d),Se(h,"TYPE","terminate"),Ls(a,h),d=new sr(a,a.j,d),d.M=2,d.A=Nc(sn(h)),h=!1,s.navigator&&s.navigator.sendBeacon)try{h=s.navigator.sendBeacon(d.A.toString(),"")}catch{}!h&&s.Image&&(new Image().src=d.A,h=!0),h||(d.g=P_(d.j,null),d.g.ea(d.A)),d.F=Date.now(),Mc(d)}M_(a)}function Fc(a){a.g&&(Gf(a),a.g.cancel(),a.g=null)}function D_(a){Fc(a),a.v&&(s.clearTimeout(a.v),a.v=null),Vc(a),a.h.cancel(),a.m&&(typeof a.m=="number"&&s.clearTimeout(a.m),a.m=null)}function Lc(a){if(!s_(a.h)&&!a.m){a.m=!0;var d=a.Ea;Qe||v(),Ne||(Qe(),Ne=!0),I.add(d,a),a.D=0}}function nA(a,d){return a_(a.h)>=a.h.j-(a.m?1:0)?!1:a.m?(a.i=d.G.concat(a.i),!0):a.I==1||a.I==2||a.D>=(a.Sa?0:a.Ta)?!1:(a.m=Ts(l(a.Ea,a,d),R_(a,a.D)),a.D++,!0)}t.Ea=function(a){if(this.m)if(this.m=null,this.I==1){if(!a){this.V=Math.floor(Math.random()*1e5),a=this.V++;let D=new sr(this,this.j,a),S=this.o;if(this.U&&(S?(S=kv(S),Lv(S,this.U)):S=this.U),this.u!==null||this.R||(D.J=S,S=null),this.S)e:{for(var d=0,h=0;h<this.i.length;h++){t:{var g=this.i[h];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,d>4096){d=h;break e}if(d===4096||h===this.i.length-1){d=h+1;break e}}d=1e3}else d=1e3;d=C_(this,D,d),h=sn(this.J),Se(h,"RID",a),Se(h,"CVER",22),this.G&&Se(h,"X-HTTP-Session-Id",this.G),Ls(this,h),S&&(this.R?d="headers="+Ss(v_(S))+"&"+d:this.u&&Hf(h,this.u,S)),Uf(this.h,D),this.Ra&&Se(h,"TYPE","init"),this.S?(Se(h,"$req",d),Se(h,"SID","null"),D.U=!0,Lf(D,h,null)):Lf(D,h,d),this.I=2}}else this.I==3&&(a?T_(this,a):this.i.length==0||s_(this.h)||T_(this))};function T_(a,d){var h;d?h=d.l:h=a.V++;let g=sn(a.J);Se(g,"SID",a.M),Se(g,"RID",h),Se(g,"AID",a.K),Ls(a,g),a.u&&a.o&&Hf(g,a.u,a.o),h=new sr(a,a.j,h,a.D+1),a.u===null&&(h.J=a.o),d&&(a.i=d.G.concat(a.i)),d=C_(a,h,1e3),h.H=Math.round(a.va*.5)+Math.round(a.va*.5*Math.random()),Uf(a.h,h),Lf(h,g,d)}function Ls(a,d){a.H&&Cc(a.H,function(h,g){Se(d,g,h)}),a.l&&Cc({},function(h,g){Se(d,g,h)})}function C_(a,d,h){h=Math.min(a.i.length,h);let g=a.l?l(a.l.Ka,a.l,a):null;e:{var D=a.i;let se=-1;for(;;){let qe=["count="+h];se==-1?h>0?(se=D[0].g,qe.push("ofs="+se)):se=0:qe.push("ofs="+se);let be=!0;for(let Ye=0;Ye<h;Ye++){var S=D[Ye].g;let an=D[Ye].map;if(S-=se,S<0)se=Math.max(0,D[Ye].g-100),be=!1;else try{S="req"+S+"_"||"";try{var k=an instanceof Map?an:Object.entries(an);for(let[jr,lr]of k){let dr=lr;c(lr)&&(dr=Nf(lr)),qe.push(S+jr+"="+encodeURIComponent(dr))}}catch(jr){throw qe.push(S+"type="+encodeURIComponent("_badmap")),jr}}catch{g&&g(an)}}if(be){k=qe.join("&");break e}}k=void 0}return a=a.i.splice(0,h),d.G=a,k}function S_(a){if(!a.g&&!a.v){a.Y=1;var d=a.Da;Qe||v(),Ne||(Qe(),Ne=!0),I.add(d,a),a.A=0}}function qf(a){return a.g||a.v||a.A>=3?!1:(a.Y++,a.v=Ts(l(a.Da,a),R_(a,a.A)),a.A++,!0)}t.Da=function(){if(this.v=null,A_(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var a=4*this.T;this.j.info("BP detection timer enabled: "+a),this.B=Ts(l(this.Wa,this),a)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ft(10),Fc(this),A_(this))};function Gf(a){a.B!=null&&(s.clearTimeout(a.B),a.B=null)}function A_(a){a.g=new sr(a,a.j,"rpc",a.Y),a.u===null&&(a.g.J=a.o),a.g.P=0;var d=sn(a.na);Se(d,"RID","rpc"),Se(d,"SID",a.M),Se(d,"AID",a.K),Se(d,"CI",a.F?"0":"1"),!a.F&&a.ia&&Se(d,"TO",a.ia),Se(d,"TYPE","xmlhttp"),Ls(a,d),a.u&&a.o&&Hf(d,a.u,a.o),a.O&&(a.g.H=a.O);var h=a.g;a=a.ba,h.M=1,h.A=Nc(sn(d)),h.u=null,h.R=!0,n_(h,a)}t.Va=function(){this.C!=null&&(this.C=null,Fc(this),qf(this),ft(19))};function Vc(a){a.C!=null&&(s.clearTimeout(a.C),a.C=null)}function x_(a,d){var h=null;if(a.g==d){Vc(a),Gf(a),a.g=null;var g=2}else if(Bf(a.h,d))h=d.G,c_(a.h,d),g=1;else return;if(a.I!=0){if(d.o)if(g==1){h=d.u?d.u.length:0,d=Date.now()-d.F;var D=a.D;g=xc(),dt(g,new Zv(g,h)),Lc(a)}else S_(a);else if(D=d.m,D==3||D==0&&d.X>0||!(g==1&&nA(a,d)||g==2&&qf(a)))switch(h&&h.length>0&&(d=a.h,d.i=d.i.concat(h)),D){case 1:Vr(a,5);break;case 4:Vr(a,10);break;case 3:Vr(a,6);break;default:Vr(a,2)}}}function R_(a,d){let h=a.Qa+Math.floor(Math.random()*a.Za);return a.isActive()||(h*=2),h*d}function Vr(a,d){if(a.j.info("Error code "+d),d==2){var h=l(a.bb,a),g=a.Ua;let D=!g;g=new ar(g||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||xs(g,"https"),Nc(g),D?YS(g.toString(),h):ZS(g.toString(),h)}else ft(2);a.I=0,a.l&&a.l.pa(d),M_(a),D_(a)}t.bb=function(a){a?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function M_(a){if(a.I=0,a.ja=[],a.l){let d=u_(a.h);(d.length!=0||a.i.length!=0)&&(C(a.ja,d),C(a.ja,a.i),a.h.i.length=0,y(a.i),a.i.length=0),a.l.oa()}}function N_(a,d,h){var g=h instanceof ar?sn(h):new ar(h);if(g.g!="")d&&(g.g=d+"."+g.g),Rs(g,g.u);else{var D=s.location;g=D.protocol,d=d?d+"."+D.hostname:D.hostname,D=+D.port;let S=new ar(null);g&&xs(S,g),d&&(S.g=d),D&&Rs(S,D),h&&(S.h=h),g=S}return h=a.G,d=a.wa,h&&d&&Se(g,h,d),Se(g,"VER",a.ka),Ls(a,g),g}function P_(a,d,h){if(d&&!a.L)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Aa&&!a.ma?new Pe(new Pc({ab:h})):new Pe(a.ma),d.Fa(a.L),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function O_(){}t=O_.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function jc(){}jc.prototype.g=function(a,d){return new Ct(a,d)};function Ct(a,d){at.call(this),this.g=new b_(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.sa&&(a?a["X-WebChannel-Client-Profile"]=d.sa:a={"X-WebChannel-Client-Profile":d.sa}),this.g.U=a,(a=d&&d.Qb)&&!_(a)&&(this.g.u=a),this.A=d&&d.supportsCrossDomainXhr||!1,this.v=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!_(d)&&(this.g.G=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new ji(this)}p(Ct,at),Ct.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ct.prototype.close=function(){zf(this.g)},Ct.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.v&&(h={},h.__data__=Nf(a),a=h);d.i.push(new $S(d.Ya++,a)),d.I==3&&Lc(d)},Ct.prototype.N=function(){this.g.l=null,delete this.j,zf(this.g),delete this.g,Ct.Z.N.call(this)};function k_(a){Pf.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let h in d){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}p(k_,Pf);function F_(){Of.call(this),this.status=1}p(F_,Of);function ji(a){this.g=a}p(ji,O_),ji.prototype.ra=function(){dt(this.g,"a")},ji.prototype.qa=function(a){dt(this.g,new k_(a))},ji.prototype.pa=function(a){dt(this.g,new F_)},ji.prototype.oa=function(){dt(this.g,"b")},jc.prototype.createWebChannel=jc.prototype.g,Ct.prototype.send=Ct.prototype.o,Ct.prototype.open=Ct.prototype.m,Ct.prototype.close=Ct.prototype.close,bm=Kn.createWebChannelTransport=function(){return new jc},Im=Kn.getStatEventTarget=function(){return xc()},Em=Kn.Event=kr,yd=Kn.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Rc.NO_ERROR=0,Rc.TIMEOUT=8,Rc.HTTP_ERROR=6,ec=Kn.ErrorCode=Rc,Jv.COMPLETE="complete",wm=Kn.EventType=Jv,Wv.EventType=bs,bs.OPEN="a",bs.CLOSE="b",bs.ERROR="c",bs.MESSAGE="d",at.prototype.listen=at.prototype.J,Go=Kn.WebChannel=Wv,LF=Kn.FetchXmlHttpFactory=Pc,Pe.prototype.listenOnce=Pe.prototype.K,Pe.prototype.getLastError=Pe.prototype.Ha,Pe.prototype.getLastErrorCode=Pe.prototype.ya,Pe.prototype.getStatus=Pe.prototype.ca,Pe.prototype.getResponseJson=Pe.prototype.La,Pe.prototype.getResponseText=Pe.prototype.la,Pe.prototype.send=Pe.prototype.ea,Pe.prototype.setWithCredentials=Pe.prototype.Fa,_m=Kn.XhrIo=Pe}).apply(typeof md<"u"?md:typeof self<"u"?self:typeof window<"u"?window:{});var tt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};tt.UNAUTHENTICATED=new tt(null),tt.GOOGLE_CREDENTIALS=new tt("google-credentials-uid"),tt.FIRST_PARTY=new tt("first-party-uid"),tt.MOCK_USER=new tt("mock-user");var ds="12.9.0";function ET(t){ds=t}var wi=new qo("@firebase/firestore");function Wo(){return wi.logLevel}function j(t,...e){if(wi.logLevel<=fe.DEBUG){let n=e.map(Xy);wi.debug(`Firestore (${ds}): ${t}`,...n)}}function Zn(t,...e){if(wi.logLevel<=fe.ERROR){let n=e.map(Xy);wi.error(`Firestore (${ds}): ${t}`,...n)}}function Jn(t,...e){if(wi.logLevel<=fe.WARN){let n=e.map(Xy);wi.warn(`Firestore (${ds}): ${t}`,...n)}}function Xy(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function Q(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,IT(t,r,n)}function IT(t,e,n){let r=`FIRESTORE (${ds}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Zn(r),new Error(r)}function Ee(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||IT(e,i,r)}function X(t,e){return t}var R={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},L=class extends Xt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var nn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Dd=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Td=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(tt.UNAUTHENTICATED))}shutdown(){}},xm=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Cd=class{constructor(e){this.t=e,this.currentUser=tt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ee(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new nn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new nn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>O(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},c=u=>{j("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(j("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new nn)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(j("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ee(typeof r.accessToken=="string",31837,{l:r}),new Dd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Ee(e===null||typeof e=="string",2055,{h:e}),new tt(e)}},Rm=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=tt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);let e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}},Mm=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Rm(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(tt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Sd=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Ad=class{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,hd(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ee(this.o===void 0,3512);let r=o=>{o.error!=null&&j("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,j("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{j("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):j("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Sd(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ee(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Sd(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function VF(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Ei=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=VF(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}};function ue(t,e){return t<e?-1:t>e?1:0}function Nm(t,e){let n=Math.min(t.length,e.length);for(let r=0;r<n;r++){let i=t.charAt(r),o=e.charAt(r);if(i!==o)return Dm(i)===Dm(o)?ue(i,o):Dm(i)?1:-1}return ue(t.length,e.length)}var jF=55296,BF=57343;function Dm(t){let e=t.charCodeAt(0);return e>=jF&&e<=BF}function es(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var FD="__name__",xd=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&Q(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Q(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=t.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return ue(e.length,n.length)}static compareSegments(e,n){let r=t.isNumericId(e),i=t.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?t.extractNumericId(e).compare(t.extractNumericId(n)):Nm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Wn.fromString(e.substring(4,e.length-2))}},xe=class t extends xd{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new L(R.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},UF=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Tt=class t extends xd{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return UF.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===FD}static keyField(){return new t([FD])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new L(R.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new L(R.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new L(R.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(s=!s,i++):c!=="."||s?(r+=c,i++):(o(),i++)}if(o(),s)throw new L(R.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var G=class t{constructor(e){this.path=e}static fromPath(e){return new t(xe.fromString(e))}static fromName(e){return new t(xe.fromString(e).popFirst(5))}static empty(){return new t(xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return xe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new xe(e.slice()))}};function bT(t,e,n){if(!n)throw new L(R.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function DT(t,e,n,r){if(e===!0&&r===!0)throw new L(R.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function LD(t){if(!G.isDocumentKey(t))throw new L(R.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function VD(t){if(G.isDocumentKey(t))throw new L(R.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function TT(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function vc(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Q(12329,{type:typeof t})}function on(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new L(R.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=vc(t);throw new L(R.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Be(t,e){let n={typeString:t};return e&&(n.value=e),n}function fs(t,e){if(!TT(t))throw new L(R.INVALID_ARGUMENT,"JSON must be an object");let n;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}let s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new L(R.INVALID_ARGUMENT,n);return!0}var jD=-62135596800,BD=1e6,Re=class t{static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*BD);return new t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new L(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new L(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<jD)throw new L(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new L(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/BD}_compareTo(e){return this.seconds===e.seconds?ue(this.nanoseconds,e.nanoseconds):ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(fs(e,t._jsonSchema))return new t(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-jD;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};Re._jsonSchemaVersion="firestore/timestamp/1.0",Re._jsonSchema={type:Be("string",Re._jsonSchemaVersion),seconds:Be("number"),nanoseconds:Be("number")};var ne=class t{static fromTimestamp(e){return new t(e)}static min(){return new t(new Re(0,0))}static max(){return new t(new Re(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var sc=-1,Rd=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Rd.UNKNOWN_ID=-1;function $F(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ne.fromTimestamp(r===1e9?new Re(n+1,0):new Re(n,r));return new Ii(i,G.empty(),e)}function HF(t){return new Ii(t.readTime,t.key,sc)}var Ii=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ne.min(),G.empty(),sc)}static max(){return new t(ne.max(),G.empty(),sc)}};function zF(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=G.comparator(t.documentKey,e.documentKey),n!==0?n:ue(t.largestBatchId,e.largestBatchId))}var qF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Pm=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function hs(t){return O(this,null,function*(){if(t.code!==R.FAILED_PRECONDITION||t.message!==qF)throw t;j("LocalStore","Unexpectedly lost primary lease")})}var M=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Q(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(c=>{++i,c.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),c=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(f=>{s[l]=f,++c,c===o&&r(s)},f=>i(f))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function GF(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ps(t){return t.name==="IndexedDbTransactionError"}var ev=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>r.writeSequenceNumber(i))}ae(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.ue&&this.ue(n),n}}t.ce=-1;return t})(),tv=-1;function cf(t){return t==null}function ac(t){return t===0&&1/t==-1/0}function WF(t){return typeof t=="number"&&Number.isInteger(t)&&!ac(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var CT="";function KF(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=UD(e)),e=QF(t.get(n),e);return UD(e)}function QF(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let o=t.charAt(i);switch(o){case"\0":n+="";break;case CT:n+="";break;default:n+=o}}return n}function UD(t){return t+CT+""}var YF="remoteDocuments",ST="owner";var AT="mutationQueues";var xT="mutations";var RT="documentMutations",ZF="remoteDocumentsV14";var MT="remoteDocumentGlobal";var NT="targets";var PT="targetDocuments";var OT="targetGlobal",kT="collectionParents";var FT="clientMetadata";var LT="bundles";var VT="namedQueries";var JF="indexConfiguration";var XF="indexState";var eL="indexEntries";var jT="documentOverlays";var tL="globals";var nL=[AT,xT,RT,YF,NT,ST,OT,PT,FT,MT,kT,LT,VT],j5=[...nL,jT],rL=[AT,xT,RT,ZF,NT,ST,OT,PT,FT,MT,kT,LT,VT,jT],iL=rL,oL=[...iL,JF,XF,eL];var B5=[...oL,tL];function $D(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Pr(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function BT(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Fe=class t{constructor(e,n){this.comparator=e,this.root=n||Dn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Dn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zo(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zo(this.root,e,this.comparator,!0)}},Zo=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Dn=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Q(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Q(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw Q(27949);return e+(this.isRed()?0:1)}};Dn.EMPTY=null,Dn.RED=!0,Dn.BLACK=!1;Dn.EMPTY=new class{constructor(){this.size=0}get key(){throw Q(57766)}get value(){throw Q(16141)}get color(){throw Q(16727)}get left(){throw Q(29726)}get right(){throw Q(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Dn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var nt=class t{constructor(e){this.comparator=e,this.data=new Fe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Md(this.data.getIterator())}getIteratorFrom(e){return new Md(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Md=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Bt=class t{constructor(e){this.fields=e,e.sort(Tt.comparator)}static empty(){return new t([])}unionWith(e){let n=new nt(Tt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return es(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Nd=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var st=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Nd("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};st.EMPTY_BYTE_STRING=new st("");var sL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xn(t){if(Ee(!!t,39018),typeof t=="string"){let e=0,n=sL.exec(t);if(Ee(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Me(t.seconds),nanos:Me(t.nanos)}}function Me(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function er(t){return typeof t=="string"?st.fromBase64String(t):st.fromUint8Array(t)}var UT="server_timestamp",$T="__type__",HT="__previous_value__",zT="__local_write_time__";function uf(t){return(t?.mapValue?.fields||{})[$T]?.stringValue===UT}function lf(t){let e=t.mapValue.fields[HT];return uf(e)?lf(e):e}function cc(t){let e=Xn(t.mapValue.fields[zT].timestampValue);return new Re(e.seconds,e.nanos)}var Om=class{constructor(e,n,r,i,o,s,c,u,l,f,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=f,this.apiKey=p}},Pd="(default)",uc=class t{constructor(e,n){this.projectId=e,this.database=n||Pd}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===Pd}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};function qT(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new L(R.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uc(t.options.projectId,e)}var nv="__type__",GT="__max__",vd={mapValue:{fields:{__type__:{stringValue:GT}}}},rv="__vector__",ts="value";function xr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?uf(t)?4:KT(t)?9007199254740991:WT(t)?10:11:Q(28295,{value:t})}function Rn(t,e){if(t===e)return!0;let n=xr(t);if(n!==xr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return cc(t).isEqual(cc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Xn(i.timestampValue),c=Xn(o.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return er(i.bytesValue).isEqual(er(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Me(i.geoPointValue.latitude)===Me(o.geoPointValue.latitude)&&Me(i.geoPointValue.longitude)===Me(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Me(i.integerValue)===Me(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Me(i.doubleValue),c=Me(o.doubleValue);return s===c?ac(s)===ac(c):isNaN(s)&&isNaN(c)}return!1}(t,e);case 9:return es(t.arrayValue.values||[],e.arrayValue.values||[],Rn);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},c=o.mapValue.fields||{};if($D(s)!==$D(c))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(c[u]===void 0||!Rn(s[u],c[u])))return!1;return!0}(t,e);default:return Q(52216,{left:t})}}function lc(t,e){return(t.values||[]).find(n=>Rn(n,e))!==void 0}function ns(t,e){if(t===e)return 0;let n=xr(t),r=xr(e);if(n!==r)return ue(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ue(t.booleanValue,e.booleanValue);case 2:return function(o,s){let c=Me(o.integerValue||o.doubleValue),u=Me(s.integerValue||s.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(t,e);case 3:return HD(t.timestampValue,e.timestampValue);case 4:return HD(cc(t),cc(e));case 5:return Nm(t.stringValue,e.stringValue);case 6:return function(o,s){let c=er(o),u=er(s);return c.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let c=o.split("/"),u=s.split("/");for(let l=0;l<c.length&&l<u.length;l++){let f=ue(c[l],u[l]);if(f!==0)return f}return ue(c.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let c=ue(Me(o.latitude),Me(s.latitude));return c!==0?c:ue(Me(o.longitude),Me(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return zD(t.arrayValue,e.arrayValue);case 10:return function(o,s){let c=o.fields||{},u=s.fields||{},l=c[ts]?.arrayValue,f=u[ts]?.arrayValue,p=ue(l?.values?.length||0,f?.values?.length||0);return p!==0?p:zD(l,f)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===vd.mapValue&&s===vd.mapValue)return 0;if(o===vd.mapValue)return 1;if(s===vd.mapValue)return-1;let c=o.fields||{},u=Object.keys(c),l=s.fields||{},f=Object.keys(l);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){let m=Nm(u[p],f[p]);if(m!==0)return m;let y=ns(c[u[p]],l[f[p]]);if(y!==0)return y}return ue(u.length,f.length)}(t.mapValue,e.mapValue);default:throw Q(23264,{he:n})}}function HD(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ue(t,e);let n=Xn(t),r=Xn(e),i=ue(n.seconds,r.seconds);return i!==0?i:ue(n.nanos,r.nanos)}function zD(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=ns(n[i],r[i]);if(o)return o}return ue(n.length,r.length)}function rs(t){return km(t)}function km(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Xn(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return er(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return G.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=km(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${km(n.fields[s])}`;return i+"}"}(t.mapValue):Q(61005,{value:t})}function Ed(t){switch(xr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=lf(t);return e?16+Ed(e):16;case 5:return 2*t.stringValue.length;case 6:return er(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Ed(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Pr(r.fields,(o,s)=>{i+=o.length+Ed(s)}),i}(t.mapValue);default:throw Q(13486,{value:t})}}function iv(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Fm(t){return!!t&&"integerValue"in t}function ov(t){return!!t&&"arrayValue"in t}function qD(t){return!!t&&"nullValue"in t}function GD(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Id(t){return!!t&&"mapValue"in t}function WT(t){return(t?.mapValue?.fields||{})[nv]?.stringValue===rv}function rc(t){if(t.geoPointValue)return{geoPointValue:P({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:P({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Pr(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=rc(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=rc(t.arrayValue.values[n]);return e}return P({},t)}function KT(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===GT}var $5={mapValue:{fields:{[nv]:{stringValue:rv},[ts]:{arrayValue:{}}}}};var Dt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Id(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=rc(n)}setAll(e){let n=Tt.emptyPath(),r={},i=[];e.forEach((s,c)=>{if(!n.isImmediateParentOf(c)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=c.popLast()}s?r[c.lastSegment()]=rc(s):i.push(c.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());Id(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Rn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Id(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Pr(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(rc(this.value))}};function QT(t){let e=[];return Pr(t.fields,(n,r)=>{let i=new Tt([n]);if(Id(r)){let o=QT(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Bt(e)}var rn=class t{constructor(e,n,r,i,o,s,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=c}static newInvalidDocument(e){return new t(e,0,ne.min(),ne.min(),ne.min(),Dt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,ne.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,ne.min(),ne.min(),Dt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ne.min(),ne.min(),Dt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var bi=class{constructor(e,n){this.position=e,this.inclusive=n}};function WD(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=G.comparator(G.fromName(s.referenceValue),n.key):r=ns(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function KD(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Rn(t.position[n],e.position[n]))return!1;return!0}var Di=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function aL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Od=class{},je=class t extends Od{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Vm(e,n,r):n==="array-contains"?new Um(e,r):n==="in"?new $m(e,r):n==="not-in"?new Hm(e,r):n==="array-contains-any"?new zm(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new jm(e,r):new Bm(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ns(n,this.value)):n!==null&&xr(this.value)===xr(n)&&this.matchesComparison(ns(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Q(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Ut=class t extends Od{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new t(e,n)}matches(e){return YT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}};function YT(t){return t.op==="and"}function ZT(t){return cL(t)&&YT(t)}function cL(t){for(let e of t.filters)if(e instanceof Ut)return!1;return!0}function Lm(t){if(t instanceof je)return t.field.canonicalString()+t.op.toString()+rs(t.value);if(ZT(t))return t.filters.map(e=>Lm(e)).join(",");{let e=t.filters.map(n=>Lm(n)).join(",");return`${t.op}(${e})`}}function JT(t,e){return t instanceof je?function(r,i){return i instanceof je&&r.op===i.op&&r.field.isEqual(i.field)&&Rn(r.value,i.value)}(t,e):t instanceof Ut?function(r,i){return i instanceof Ut&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,c)=>o&&JT(s,i.filters[c]),!0):!1}(t,e):void Q(19439)}function XT(t){return t instanceof je?function(n){return`${n.field.canonicalString()} ${n.op} ${rs(n.value)}`}(t):t instanceof Ut?function(n){return n.op.toString()+" {"+n.getFilters().map(XT).join(" ,")+"}"}(t):"Filter"}var Vm=class extends je{constructor(e,n,r){super(e,n,r),this.key=G.fromName(r.referenceValue)}matches(e){let n=G.comparator(e.key,this.key);return this.matchesComparison(n)}},jm=class extends je{constructor(e,n){super(e,"in",n),this.keys=eC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Bm=class extends je{constructor(e,n){super(e,"not-in",n),this.keys=eC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function eC(t,e){return(e.arrayValue?.values||[]).map(n=>G.fromName(n.referenceValue))}var Um=class extends je{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return ov(n)&&lc(n.arrayValue,this.value)}},$m=class extends je{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&lc(this.value.arrayValue,n)}},Hm=class extends je{constructor(e,n){super(e,"not-in",n)}matches(e){if(lc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!lc(this.value.arrayValue,n)}},zm=class extends je{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!ov(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>lc(this.value.arrayValue,r))}};var qm=class{constructor(e,n=null,r=[],i=[],o=null,s=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=c,this.Te=null}};function QD(t,e=null,n=[],r=[],i=null,o=null,s=null){return new qm(t,e,n,r,i,o,s)}function sv(t){let e=X(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Lm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),cf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>rs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>rs(r)).join(",")),e.Te=n}return e.Te}function av(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!aL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!JT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!KD(t.startAt,e.startAt)&&KD(t.endAt,e.endAt)}function Gm(t){return G.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Ti=class{constructor(e,n=null,r=[],i=[],o=null,s="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=c,this.endAt=u,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}};function uL(t,e,n,r,i,o,s,c){return new Ti(t,e,n,r,i,o,s,c)}function df(t){return new Ti(t)}function YD(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function lL(t){return G.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function cv(t){return t.collectionGroup!==null}function Jo(t){let e=X(t);if(e.Ie===null){e.Ie=[];let n=new Set;for(let o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let c=new nt(Tt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(c=c.add(l.field))})}),c})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Di(o,r))}),n.has(Tt.keyField().canonicalString())||e.Ie.push(new Di(Tt.keyField(),r))}return e.Ie}function Tn(t){let e=X(t);return e.Ee||(e.Ee=dL(e,Jo(t))),e.Ee}function dL(t,e){if(t.limitType==="F")return QD(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Di(i.field,o)});let n=t.endAt?new bi(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new bi(t.startAt.position,t.startAt.inclusive):null;return QD(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ff(t,e){let n=t.filters.concat([e]);return new Ti(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function kd(t,e,n){return new Ti(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function hf(t,e){return av(Tn(t),Tn(e))&&t.limitType===e.limitType}function tC(t){return`${sv(Tn(t))}|lt:${t.limitType}`}function Ko(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>XT(i)).join(", ")}]`),cf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>rs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>rs(i)).join(",")),`Target(${r})`}(Tn(t))}; limitType=${t.limitType})`}function pf(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):G.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of Jo(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,c,u){let l=WD(s,c,u);return s.inclusive?l<=0:l<0}(r.startAt,Jo(r),i)||r.endAt&&!function(s,c,u){let l=WD(s,c,u);return s.inclusive?l>=0:l>0}(r.endAt,Jo(r),i))}(t,e)}function fL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function nC(t){return(e,n)=>{let r=!1;for(let i of Jo(t)){let o=hL(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function hL(t,e,n){let r=t.field.isKeyField()?G.comparator(e.key,n.key):function(o,s,c){let u=s.data.field(o),l=c.data.field(o);return u!==null&&l!==null?ns(u,l):Q(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Q(19790,{direction:t.dir})}}var tr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Pr(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return BT(this.inner)}size(){return this.innerSize}};var pL=new Fe(G.comparator);function nr(){return pL}var rC=new Fe(G.comparator);function nc(...t){let e=rC;for(let n of t)e=e.insert(n.key,n);return e}function iC(t){let e=rC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function vi(){return ic()}function oC(){return ic()}function ic(){return new tr(t=>t.toString(),(t,e)=>t.isEqual(e))}var gL=new Fe(G.comparator),mL=new nt(G.comparator);function ce(...t){let e=mL;for(let n of t)e=e.add(n);return e}var yL=new nt(ue);function vL(){return yL}function uv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ac(e)?"-0":e}}function sC(t){return{integerValue:""+t}}function _L(t,e){return WF(e)?sC(e):uv(t,e)}var is=class{constructor(){this._=void 0}};function wL(t,e,n){return t instanceof os?function(i,o){let s={fields:{[$T]:{stringValue:UT},[zT]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&uf(o)&&(o=lf(o)),o&&(s.fields[HT]=o),{mapValue:s}}(n,e):t instanceof Ci?cC(t,e):t instanceof Si?uC(t,e):function(i,o){let s=aC(i,o),c=ZD(s)+ZD(i.Ae);return Fm(s)&&Fm(i.Ae)?sC(c):uv(i.serializer,c)}(t,e)}function EL(t,e,n){return t instanceof Ci?cC(t,e):t instanceof Si?uC(t,e):n}function aC(t,e){return t instanceof ss?function(r){return Fm(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var os=class extends is{},Ci=class extends is{constructor(e){super(),this.elements=e}};function cC(t,e){let n=lC(e);for(let r of t.elements)n.some(i=>Rn(i,r))||n.push(r);return{arrayValue:{values:n}}}var Si=class extends is{constructor(e){super(),this.elements=e}};function uC(t,e){let n=lC(e);for(let r of t.elements)n=n.filter(i=>!Rn(i,r));return{arrayValue:{values:n}}}var ss=class extends is{constructor(e,n){super(),this.serializer=e,this.Ae=n}};function ZD(t){return Me(t.integerValue||t.doubleValue)}function lC(t){return ov(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function IL(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ci&&i instanceof Ci||r instanceof Si&&i instanceof Si?es(r.elements,i.elements,Rn):r instanceof ss&&i instanceof ss?Rn(r.Ae,i.Ae):r instanceof os&&i instanceof os}(t.transform,e.transform)}var Wm=class{constructor(e,n){this.version=e,this.transformResults=n}},Cn=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function bd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var as=class{};function dC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new cs(t.key,Cn.none()):new Ai(t.key,t.data,Cn.none());{let n=t.data,r=Dt.empty(),i=new nt(Tt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Mn(t.key,r,new Bt(i.toArray()),Cn.none())}}function bL(t,e,n){t instanceof Ai?function(i,o,s){let c=i.value.clone(),u=XD(i.fieldTransforms,o,s.transformResults);c.setAll(u),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):t instanceof Mn?function(i,o,s){if(!bd(i.precondition,o))return void o.convertToUnknownDocument(s.version);let c=XD(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(fC(i)),u.setAll(c),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function oc(t,e,n,r){return t instanceof Ai?function(o,s,c,u){if(!bd(o.precondition,s))return c;let l=o.value.clone(),f=eT(o.fieldTransforms,u,s);return l.setAll(f),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Mn?function(o,s,c,u){if(!bd(o.precondition,s))return c;let l=eT(o.fieldTransforms,u,s),f=s.data;return f.setAll(fC(o)),f.setAll(l),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,c){return bd(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c}(t,e,n)}function DL(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=aC(r.transform,i||null);o!=null&&(n===null&&(n=Dt.empty()),n.set(r.field,o))}return n||null}function JD(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&es(r,i,(o,s)=>IL(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Ai=class extends as{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Mn=class extends as{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function fC(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function XD(t,e,n){let r=new Map;Ee(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,c=e.data.field(o.field);r.set(o.field,EL(s,c,n[i]))}return r}function eT(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,wL(o,s,e))}return r}var cs=class extends as{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Km=class extends as{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Qm=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&bL(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=oc(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=oc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=oC();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,c=this.applyToLocalView(s,o.mutatedFields);c=n.has(i.key)?null:c;let u=dC(s,c);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ne.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ce())}isEqual(e){return this.batchId===e.batchId&&es(this.mutations,e.mutations,(n,r)=>JD(n,r))&&es(this.baseMutations,e.baseMutations,(n,r)=>JD(n,r))}},Ym=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ee(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return gL}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var Zm=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Jm=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var He,he;function TL(t){switch(t){case R.OK:return Q(64938);case R.CANCELLED:case R.UNKNOWN:case R.DEADLINE_EXCEEDED:case R.RESOURCE_EXHAUSTED:case R.INTERNAL:case R.UNAVAILABLE:case R.UNAUTHENTICATED:return!1;case R.INVALID_ARGUMENT:case R.NOT_FOUND:case R.ALREADY_EXISTS:case R.PERMISSION_DENIED:case R.FAILED_PRECONDITION:case R.ABORTED:case R.OUT_OF_RANGE:case R.UNIMPLEMENTED:case R.DATA_LOSS:return!0;default:return Q(15467,{code:t})}}function hC(t){if(t===void 0)return Zn("GRPC error has no .code"),R.UNKNOWN;switch(t){case He.OK:return R.OK;case He.CANCELLED:return R.CANCELLED;case He.UNKNOWN:return R.UNKNOWN;case He.DEADLINE_EXCEEDED:return R.DEADLINE_EXCEEDED;case He.RESOURCE_EXHAUSTED:return R.RESOURCE_EXHAUSTED;case He.INTERNAL:return R.INTERNAL;case He.UNAVAILABLE:return R.UNAVAILABLE;case He.UNAUTHENTICATED:return R.UNAUTHENTICATED;case He.INVALID_ARGUMENT:return R.INVALID_ARGUMENT;case He.NOT_FOUND:return R.NOT_FOUND;case He.ALREADY_EXISTS:return R.ALREADY_EXISTS;case He.PERMISSION_DENIED:return R.PERMISSION_DENIED;case He.FAILED_PRECONDITION:return R.FAILED_PRECONDITION;case He.ABORTED:return R.ABORTED;case He.OUT_OF_RANGE:return R.OUT_OF_RANGE;case He.UNIMPLEMENTED:return R.UNIMPLEMENTED;case He.DATA_LOSS:return R.DATA_LOSS;default:return Q(39323,{code:t})}}(he=He||(He={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";var CL=null;function SL(){return new TextEncoder}var AL=new Wn([4294967295,4294967295],0);function tT(t){let e=SL().encode(t),n=new vm;return n.update(e),new Uint8Array(n.digest())}function nT(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Wn([n,r],0),new Wn([i,o],0)]}var Xm=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new _i(`Invalid padding: ${n}`);if(r<0)throw new _i(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new _i(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new _i(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Wn.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Wn.fromNumber(r)));return i.compare(AL)===1&&(i=new Wn([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;let n=tT(e),[r,i]=nT(n);for(let o=0;o<this.hashCount;o++){let s=this.ye(r,i,o);if(!this.we(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(c=>s.insert(c)),s}insert(e){if(this.ge===0)return;let n=tT(e),[r,i]=nT(n);for(let o=0;o<this.hashCount;o++){let s=this.ye(r,i,o);this.be(s)}}be(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},_i=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Fd=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,dc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ne.min(),i,new Fe(ue),nr(),ce())}},dc=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,ce(),ce(),ce())}};var Xo=class{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=i}},Ld=class{constructor(e,n){this.targetId=e,this.Ce=n}},Vd=class{constructor(e,n,r=st.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},jd=class{constructor(){this.ve=0,this.Fe=rT(),this.Me=st.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ce(),n=ce(),r=ce();return this.Fe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Q(38017,{changeType:o})}}),new dc(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=rT()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ee(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}},ey=class{constructor(e){this.Ge=e,this.ze=new Map,this.je=nr(),this.He=_d(),this.Je=_d(),this.Ze=new Fe(ue)}Xe(e){for(let n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(let n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{let r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Q(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){let n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){let o=i.target;if(Gm(o))if(r===0){let s=new G(o.path);this.et(n,s,rn.newNoDocument(s,ne.min()))}else Ee(r===1,20013,{expectedCount:r});else{let s=this._t(n);if(s!==r){let c=this.ut(e),u=c?this.ct(c,e,s):1;if(u!==0){this.it(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,l)}CL?.lt(function(f,p,m,y,C){let A={localCacheCount:f,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},x=p.unchangedNames;return x&&(A.bloomFilter={applied:C===0,hashCount:x?.hashCount??0,bitmapLength:x?.bits?.bitmap?.length??0,padding:x?.bits?.padding??0,mightContain:B=>y?.mightContain(B)??!1}),A}(s,e.Ce,this.Ge.ht(),c,u))}}}}ut(e){let n=e.Ce.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,c;try{s=er(r).toUint8Array()}catch(u){if(u instanceof Nd)return Jn("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new Xm(s,i,o)}catch(u){return Jn(u instanceof _i?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){let r=this.Ge.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Ge.ht(),c=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.et(n,o,null),i++)}),i}Tt(e){let n=new Map;this.ze.forEach((o,s)=>{let c=this.ot(s);if(c){if(o.current&&Gm(c.target)){let u=new G(c.target.path);this.It(u).has(s)||this.Et(s,u)||this.et(s,u,rn.newNoDocument(u,e))}o.Be&&(n.set(s,o.ke()),o.Ke())}});let r=ce();this.Je.forEach((o,s)=>{let c=!0;s.forEachWhile(u=>{let l=this.ot(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.je.forEach((o,s)=>s.setReadTime(e));let i=new Fd(e,n,this.Ze,this.je,r);return this.je=nr(),this.He=_d(),this.Je=_d(),this.Ze=new Fe(ue),i}Ye(e,n){if(!this.rt(e))return;let r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;let i=this.nt(e);this.Et(e,n)?i.qe(n,1):i.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){let n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new jd,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new nt(ue),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new nt(ue),this.He=this.He.insert(e,n)),n}rt(e){let n=this.ot(e)!==null;return n||j("WatchChangeAggregator","Detected inactive target",e),n}ot(e){let n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new jd),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}};function _d(){return new Fe(G.comparator)}function rT(){return new Fe(G.comparator)}var xL={asc:"ASCENDING",desc:"DESCENDING"},RL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ML={and:"AND",or:"OR"},ty=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function ny(t,e){return t.useProto3Json||cf(e)?e:{value:e}}function Bd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function NL(t,e){return Bd(t,e.toTimestamp())}function Sn(t){return Ee(!!t,49232),ne.fromTimestamp(function(n){let r=Xn(n);return new Re(r.seconds,r.nanos)}(t))}function lv(t,e){return ry(t,e).canonicalString()}function ry(t,e){let n=function(i){return new xe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function gC(t){let e=xe.fromString(t);return Ee(wC(e),10190,{key:e.toString()}),e}function iy(t,e){return lv(t.databaseId,e.path)}function Tm(t,e){let n=gC(e);if(n.get(1)!==t.databaseId.projectId)throw new L(R.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new L(R.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new G(yC(n))}function mC(t,e){return lv(t.databaseId,e)}function PL(t){let e=gC(t);return e.length===4?xe.emptyPath():yC(e)}function oy(t){return new xe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function yC(t){return Ee(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function iT(t,e,n){return{name:iy(t,e),fields:n.value.mapValue.fields}}function OL(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Q(39313,{state:l})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,f){return l.useProto3Json?(Ee(f===void 0||typeof f=="string",58123),st.fromBase64String(f||"")):(Ee(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),st.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,c=s&&function(l){let f=l.code===void 0?R.UNKNOWN:hC(l.code);return new L(f,l.message||"")}(s);n=new Vd(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Tm(t,r.document.name),o=Sn(r.document.updateTime),s=r.document.createTime?Sn(r.document.createTime):ne.min(),c=new Dt({mapValue:{fields:r.document.fields}}),u=rn.newFoundDocument(i,o,s,c),l=r.targetIds||[],f=r.removedTargetIds||[];n=new Xo(l,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Tm(t,r.document),o=r.readTime?Sn(r.readTime):ne.min(),s=rn.newNoDocument(i,o),c=r.removedTargetIds||[];n=new Xo([],c,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Tm(t,r.document),o=r.removedTargetIds||[];n=new Xo([],o,i,null)}else{if(!("filter"in e))return Q(11601,{Vt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new Jm(i,o),c=r.targetId;n=new Ld(c,s)}}return n}function kL(t,e){let n;if(e instanceof Ai)n={update:iT(t,e.key,e.value)};else if(e instanceof cs)n={delete:iy(t,e.key)};else if(e instanceof Mn)n={update:iT(t,e.key,e.data),updateMask:zL(e.fieldMask)};else{if(!(e instanceof Km))return Q(16599,{dt:e.type});n={verify:iy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let c=s.transform;if(c instanceof os)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Ci)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Si)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof ss)return{fieldPath:s.field.canonicalString(),increment:c.Ae};throw Q(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:NL(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Q(27497)}(t,e.precondition)),n}function FL(t,e){return t&&t.length>0?(Ee(e!==void 0,14353),t.map(n=>function(i,o){let s=i.updateTime?Sn(i.updateTime):Sn(o);return s.isEqual(ne.min())&&(s=Sn(o)),new Wm(s,i.transformResults||[])}(n,e))):[]}function LL(t,e){return{documents:[mC(t,e.path)]}}function VL(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=mC(t,i);let o=function(l){if(l.length!==0)return _C(Ut.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(f=>function(m){return{field:Qo(m.field),direction:UL(m.dir)}}(f))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let c=ny(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{ft:n,parent:i}}function jL(t){let e=PL(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ee(r===1,65062);let f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];n.where&&(o=function(p){let m=vC(p);return m instanceof Ut&&ZT(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(m=>function(C){return new Di(Yo(C.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(m))}(n.orderBy));let c=null;n.limit&&(c=function(p){let m;return m=typeof p=="object"?p.value:p,cf(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){let m=!!p.before,y=p.values||[];return new bi(y,m)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let m=!p.before,y=p.values||[];return new bi(y,m)}(n.endAt)),uL(e,i,s,o,c,"F",u,l)}function BL(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function vC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Yo(n.unaryFilter.field);return je.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Yo(n.unaryFilter.field);return je.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Yo(n.unaryFilter.field);return je.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Yo(n.unaryFilter.field);return je.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Q(61313);default:return Q(60726)}}(t):t.fieldFilter!==void 0?function(n){return je.create(Yo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Q(58110);default:return Q(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ut.create(n.compositeFilter.filters.map(r=>vC(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Q(1026)}}(n.compositeFilter.op))}(t):Q(30097,{filter:t})}function UL(t){return xL[t]}function $L(t){return RL[t]}function HL(t){return ML[t]}function Qo(t){return{fieldPath:t.canonicalString()}}function Yo(t){return Tt.fromServerFormat(t.fieldPath)}function _C(t){return t instanceof je?function(n){if(n.op==="=="){if(GD(n.value))return{unaryFilter:{field:Qo(n.field),op:"IS_NAN"}};if(qD(n.value))return{unaryFilter:{field:Qo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(GD(n.value))return{unaryFilter:{field:Qo(n.field),op:"IS_NOT_NAN"}};if(qD(n.value))return{unaryFilter:{field:Qo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qo(n.field),op:$L(n.op),value:n.value}}}(t):t instanceof Ut?function(n){let r=n.getFilters().map(i=>_C(i));return r.length===1?r[0]:{compositeFilter:{op:HL(n.op),filters:r}}}(t):Q(54877,{filter:t})}function zL(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function wC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function EC(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}var fc=class t{constructor(e,n,r,i,o=ne.min(),s=ne.min(),c=st.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var sy=class{constructor(e){this.yt=e}};function IC(t){let e=jL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?kd(e,e.limit,"L"):e}var Ud=class{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(Me(e.integerValue));else if("doubleValue"in e){let r=Me(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),ac(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=Xn(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(er(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?KT(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):WT(e)?this.kt(e.mapValue,n):(this.Kt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.qt(e.arrayValue,n),this.Nt(n)):Q(19022,{Ut:e})}Ot(e,n){this.Ft(n,25),this.$t(e,n)}$t(e,n){n.xt(e)}Kt(e,n){let r=e.fields||{};this.Ft(n,55);for(let i of Object.keys(r))this.Ot(i,n),this.Ct(r[i],n)}kt(e,n){let r=e.fields||{};this.Ft(n,53);let i=ts,o=r[i].arrayValue?.values?.length||0;this.Ft(n,15),n.Mt(Me(o)),this.Ot(i,n),this.Ct(r[i],n)}qt(e,n){let r=e.values||[];this.Ft(n,50);for(let i of r)this.Ct(i,n)}Lt(e,n){this.Ft(n,37),G.fromName(e).path.forEach(r=>{this.Ft(n,60),this.$t(r,n)})}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}};Ud.Wt=new Ud;var ay=class{constructor(){this.Sn=new cy}addToCollectionParentIndex(e,n){return this.Sn.add(n),M.resolve()}getCollectionParents(e,n){return M.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return M.resolve()}deleteFieldIndex(e,n){return M.resolve()}deleteAllFieldIndexes(e){return M.resolve()}createTargetIndexes(e,n){return M.resolve()}getDocumentsMatchingTarget(e,n){return M.resolve(null)}getIndexType(e,n){return M.resolve(0)}getFieldIndexes(e,n){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,n){return M.resolve(Ii.min())}getMinOffsetFromCollectionGroup(e,n){return M.resolve(Ii.min())}updateCollectionGroup(e,n,r){return M.resolve()}updateIndexEntries(e,n){return M.resolve()}},cy=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new nt(xe.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new nt(xe.comparator)).toArray()}};var H5=new Uint8Array(0);var oT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bC=41943040,jt=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}};jt.DEFAULT_COLLECTION_PERCENTILE=10,jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jt.DEFAULT=new jt(bC,jt.DEFAULT_COLLECTION_PERCENTILE,jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jt.DISABLED=new jt(-1,0,0);var hc=class t{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new t(0)}static ar(){return new t(-1)}};var sT="LruGarbageCollector",qL=1048576;function aT([t,e],[n,r]){let i=ue(t,n);return i===0?ue(e,r):i}var uy=class{constructor(e){this.Pr=e,this.buffer=new nt(aT),this.Tr=0}Ir(){return++this.Tr}Er(e){let n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();aT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},ly=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){j(sT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>O(this,null,function*(){this.Rr=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(n){ps(n)?j(sT,"Ignoring IndexedDB error during garbage collection: ",n):yield hs(n)}yield this.Ar(3e5)}))}},dy=class{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return M.resolve(ev.ce);let r=new uy(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.mr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(j("LruGarbageCollector","Garbage collection skipped; disabled"),M.resolve(oT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(j("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),oT):this.gr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,i,o,s,c,u,l,f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(j("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,c=Date.now(),this.removeTargets(e,r,n))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),Wo()<=fe.DEBUG&&j("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-f}ms
	Determined least recently used ${i} in `+(c-s)+`ms
	Removed ${o} targets in `+(u-c)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-f}ms`),M.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function GL(t,e){return new dy(t,e)}var fy=class{constructor(){this.changes=new tr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,rn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?M.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var hy=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var py=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&oc(r.mutation,i,Bt.empty(),Re.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ce()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ce()){let i=vi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=nc();return o.forEach((c,u)=>{s=s.insert(c,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=vi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ce()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,c)=>{n.set(s,c)})})}computeViews(e,n,r,i){let o=nr(),s=ic(),c=function(){return ic()}();return n.forEach((u,l)=>{let f=r.get(l.key);i.has(l.key)&&(f===void 0||f.mutation instanceof Mn)?o=o.insert(l.key,l):f!==void 0?(s.set(l.key,f.mutation.getFieldMask()),oc(f.mutation,l,f.mutation.getFieldMask(),Re.now())):s.set(l.key,Bt.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,f)=>s.set(l,f)),n.forEach((l,f)=>c.set(l,new hy(f,s.get(l)??null))),c))}recalculateAndSaveOverlays(e,n){let r=ic(),i=new Fe((s,c)=>s-c),o=ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let c of s)c.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let f=r.get(u)||Bt.empty();f=c.applyToLocalView(l,f),r.set(u,f);let p=(i.get(c.batchId)||ce()).add(u);i=i.insert(c.batchId,p)})}).next(()=>{let s=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),l=u.key,f=u.value,p=oC();f.forEach(m=>{if(!o.has(m)){let y=dC(n.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return M.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return lL(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):cv(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):M.resolve(vi()),c=sc,u=o;return s.next(l=>M.forEach(l,(f,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),o.get(f)?M.resolve():this.remoteDocumentCache.getEntry(e,f).next(m=>{u=u.insert(f,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,ce())).next(f=>({batchId:c,changes:iC(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new G(n)).next(r=>{let i=nc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=nc();return this.indexManager.getCollectionParents(e,o).next(c=>M.forEach(c,u=>{let l=function(p,m){return new Ti(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(f=>{f.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let f=l.getKey();s.get(f)===null&&(s=s.insert(f,rn.newInvalidDocument(f)))});let c=nc();return s.forEach((u,l)=>{let f=o.get(u);f!==void 0&&oc(f.mutation,l,Bt.empty(),Re.now()),pf(n,l)&&(c=c.insert(u,l))}),c})}};var gy=class{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return M.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Sn(i.createTime)}}(n)),M.resolve()}getNamedQuery(e,n){return M.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,function(i){return{name:i.name,query:IC(i.bundledQuery),readTime:Sn(i.readTime)}}(n)),M.resolve()}};var my=class{constructor(){this.overlays=new Fe(G.comparator),this.Lr=new Map}getOverlay(e,n){return M.resolve(this.overlays.get(n))}getOverlays(e,n){let r=vi();return M.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.bt(e,n,o)}),M.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Lr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Lr.delete(r)),M.resolve()}getOverlaysForCollection(e,n,r){let i=vi(),o=n.length+1,s=new G(n.child("")),c=this.overlays.getIteratorFrom(s);for(;c.hasNext();){let u=c.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return M.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Fe((l,f)=>l-f),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let f=o.get(l.largestBatchId);f===null&&(f=vi(),o=o.insert(l.largestBatchId,f)),f.set(l.getKey(),l)}}let c=vi(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,f)=>c.set(l,f)),!(c.size()>=i)););return M.resolve(c)}bt(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Zm(n,r));let o=this.Lr.get(n);o===void 0&&(o=ce(),this.Lr.set(n,o)),this.Lr.set(n,o.add(r.key))}};var yy=class{constructor(){this.sessionToken=st.EMPTY_BYTE_STRING}getSessionToken(e){return M.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,M.resolve()}};var pc=class{constructor(){this.kr=new nt(ze.Kr),this.qr=new nt(ze.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){let r=new ze(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new ze(e,n))}Qr(e,n){e.forEach(r=>this.removeReference(r,n))}Gr(e){let n=new G(new xe([])),r=new ze(n,e),i=new ze(n,e+1),o=[];return this.qr.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}zr(){this.kr.forEach(e=>this.Wr(e))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){let n=new G(new xe([])),r=new ze(n,e),i=new ze(n,e+1),o=ce();return this.qr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new ze(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},ze=class{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return G.comparator(e.key,n.key)||ue(e.Hr,n.Hr)}static Ur(e,n){return ue(e.Hr,n.Hr)||G.comparator(e.key,n.key)}};var vy=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new nt(ze.Kr)}checkEmpty(e){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Qm(o,n,r,i);this.mutationQueue.push(s);for(let c of i)this.Jr=this.Jr.add(new ze(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return M.resolve(s)}lookupMutationBatch(e,n){return M.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.Xr(r),o=i<0?0:i;return M.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?tv:this.Yn-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new ze(n,0),i=new ze(n,Number.POSITIVE_INFINITY),o=[];return this.Jr.forEachInRange([r,i],s=>{let c=this.Zr(s.Hr);o.push(c)}),M.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new nt(ue);return n.forEach(i=>{let o=new ze(i,0),s=new ze(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([o,s],c=>{r=r.add(c.Hr)})}),M.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;G.isDocumentKey(o)||(o=o.child(""));let s=new ze(new G(o),0),c=new nt(ue);return this.Jr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(c=c.add(u.Hr)),!0)},s),M.resolve(this.Yr(c))}Yr(e){let n=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ee(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return M.forEach(n.mutations,i=>{let o=new ze(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Jr=r})}nr(e){}containsKey(e,n){let r=new ze(n,0),i=this.Jr.firstAfterOrEqual(r);return M.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,M.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var _y=class{constructor(e){this.ti=e,this.docs=function(){return new Fe(G.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return M.resolve(r?r.document.mutableCopy():rn.newInvalidDocument(n))}getEntries(e,n){let r=nr();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():rn.newInvalidDocument(i))}),M.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=nr(),s=n.path,c=new G(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:l,value:{document:f}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||zF(HF(f),r)<=0||(i.has(f.key)||pf(n,f))&&(o=o.insert(f.key,f.mutableCopy()))}return M.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Q(9500)}ni(e,n){return M.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new wy(this)}getSize(e){return M.resolve(this.size)}},wy=class extends fy{constructor(e){super(),this.Mr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(r)}),M.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}};var Ey=class{constructor(e){this.persistence=e,this.ri=new tr(n=>sv(n),av),this.lastRemoteSnapshotVersion=ne.min(),this.highestTargetId=0,this.ii=0,this.si=new pc,this.targetCount=0,this.oi=hc._r()}forEachTarget(e,n){return this.ri.forEach((r,i)=>n(i)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),M.resolve()}lr(e){this.ri.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.oi=new hc(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,M.resolve()}updateTargetData(e,n){return this.lr(n),M.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.ri.forEach((s,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.ri.delete(s),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),M.waitFor(o).next(()=>i)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,n){let r=this.ri.get(n)||null;return M.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),M.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),M.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),M.resolve()}getMatchingKeysForTargetId(e,n){let r=this.si.jr(n);return M.resolve(r)}containsKey(e,n){return M.resolve(this.si.containsKey(n))}};var $d=class{constructor(e,n){this._i={},this.overlays={},this.ai=new ev(0),this.ui=!1,this.ui=!0,this.ci=new yy,this.referenceDelegate=e(this),this.li=new Ey(this),this.indexManager=new ay,this.remoteDocumentCache=function(i){return new _y(i)}(r=>this.referenceDelegate.hi(r)),this.serializer=new sy(n),this.Pi=new gy(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new my,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new vy(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){j("MemoryPersistence","Starting transaction:",e);let i=new Iy(this.ai.next());return this.referenceDelegate.Ti(),r(i).next(o=>this.referenceDelegate.Ii(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,n){return M.or(Object.values(this._i).map(r=>()=>r.containsKey(e,n)))}},Iy=class extends Pm{constructor(e){super(),this.currentSequenceNumber=e}},by=class t{constructor(e){this.persistence=e,this.Ri=new pc,this.Ai=null}static Vi(e){return new t(e)}get di(){if(this.Ai)return this.Ai;throw Q(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),M.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),M.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),M.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach(i=>this.di.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.di.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ti(){this.Ai=new Set}Ii(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.di,r=>{let i=G.fromPath(r);return this.mi(e,i).next(o=>{o||n.removeEntry(i,ne.min())})}).next(()=>(this.Ai=null,n.apply(e)))}updateLimboDocument(e,n){return this.mi(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}hi(e){return 0}mi(e,n){return M.or([()=>M.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}},Hd=class t{constructor(e,n){this.persistence=e,this.fi=new tr(r=>KF(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=GL(this,n)}static Vi(e,n){return new t(e,n)}Ti(){}Ii(e){return M.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){let n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}pr(e){let n=0;return this.mr(e,r=>{n++}).next(()=>n)}mr(e,n){return M.forEach(this.fi,(r,i)=>this.wr(e,r,i).next(o=>o?M.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ni(e,s=>this.wr(e,s,n).next(c=>{c||(r++,o.removeEntry(s,ne.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),M.resolve()}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),M.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),M.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),M.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ed(e.data.value)),n}wr(e,n,r){return M.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{let i=this.fi.get(n);return M.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var Dy=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=i}static Es(e,n){let r=ce(),i=ce();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var Ty=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Cy=class{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return vD()?8:GF(yD())>0?6:4}()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.gs(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ps(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Ty;return this.ys(e,n,s).next(c=>{if(o.result=c,this.As)return this.ws(e,n,s,c.size)})}).next(()=>o.result)}ws(e,n,r,i){return r.documentReadCount<this.Vs?(Wo()<=fe.DEBUG&&j("QueryEngine","SDK will not create cache indexes for query:",Ko(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),M.resolve()):(Wo()<=fe.DEBUG&&j("QueryEngine","Query:",Ko(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(Wo()<=fe.DEBUG&&j("QueryEngine","The SDK decides to create cache indexes for query:",Ko(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Tn(n))):M.resolve())}gs(e,n){if(YD(n))return M.resolve(null);let r=Tn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=kd(n,null,"F"),r=Tn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ce(...o);return this.fs.getDocuments(e,s).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.bs(n,c);return this.Ss(n,l,s,u.readTime)?this.gs(e,kd(n,null,"F")):this.Ds(e,l,n,u)}))})))}ps(e,n,r,i){return YD(n)||i.isEqual(ne.min())?M.resolve(null):this.fs.getDocuments(e,r).next(o=>{let s=this.bs(n,o);return this.Ss(n,s,r,i)?M.resolve(null):(Wo()<=fe.DEBUG&&j("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ko(n)),this.Ds(e,s,n,$F(i,sc)).next(c=>c))})}bs(e,n){let r=new nt(nC(e));return n.forEach((i,o)=>{pf(e,o)&&(r=r.add(o))}),r}Ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ys(e,n,r){return Wo()<=fe.DEBUG&&j("QueryEngine","Using full collection scan to execute query:",Ko(n)),this.fs.getDocumentsMatchingQuery(e,n,Ii.min(),r)}Ds(e,n,r,i){return this.fs.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var dv="LocalStore",WL=3e8,Sy=class{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.vs=new Fe(ue),this.Fs=new tr(o=>sv(o),av),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new py(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.vs))}};function KL(t,e,n,r){return new Sy(t,e,n,r)}function DC(t,e){return O(this,null,function*(){let n=X(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Os(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],c=[],u=ce();for(let l of i){s.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}for(let l of o){c.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(l=>({Ns:l,removedBatchIds:s,addedBatchIds:c}))})})})}function QL(t,e){let n=X(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.xs.newChangeBuffer({trackRemovals:!0});return function(c,u,l,f){let p=l.batch,m=p.keys(),y=M.resolve();return m.forEach(C=>{y=y.next(()=>f.getEntry(u,C)).next(A=>{let x=l.docVersions.get(C);Ee(x!==null,48541),A.version.compareTo(x)<0&&(p.applyToRemoteDocument(A,l),A.isValidDocument()&&(A.setReadTime(l.commitVersion),f.addEntry(A)))})}),y.next(()=>c.mutationQueue.removeMutationBatch(u,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let u=ce();for(let l=0;l<c.mutationResults.length;++l)c.mutationResults[l].transformResults.length>0&&(u=u.add(c.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function TC(t){let e=X(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.li.getLastRemoteSnapshotVersion(n))}function YL(t,e){let n=X(t),r=e.snapshotVersion,i=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;let c=[];e.targetChanges.forEach((f,p)=>{let m=i.get(p);if(!m)return;c.push(n.li.removeMatchingKeys(o,f.removedDocuments,p).next(()=>n.li.addMatchingKeys(o,f.addedDocuments,p)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(st.EMPTY_BYTE_STRING,ne.min()).withLastLimboFreeSnapshotVersion(ne.min()):f.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(f.resumeToken,r)),i=i.insert(p,y),function(A,x,B){return A.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=WL?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0}(m,y,f)&&c.push(n.li.updateTargetData(o,y))});let u=nr(),l=ce();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,f))}),c.push(ZL(o,s,e.documentUpdates).next(f=>{u=f.Bs,l=f.Ls})),!r.isEqual(ne.min())){let f=n.li.getLastRemoteSnapshotVersion(o).next(p=>n.li.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(f)}return M.waitFor(c).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.vs=i,o))}function ZL(t,e,n){let r=ce(),i=ce();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=nr();return n.forEach((c,u)=>{let l=o.get(c);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(ne.min())?(e.removeEntry(c,u.readTime),s=s.insert(c,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(c,u)):j(dv,"Ignoring outdated watch update for ",c,". Current version:",l.version," Watch version:",u.version)}),{Bs:s,Ls:i}})}function JL(t,e){let n=X(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=tv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function XL(t,e){let n=X(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.li.getTargetData(r,e).next(o=>o?(i=o,M.resolve(i)):n.li.allocateTargetId(r).next(s=>(i=new fc(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r})}function Ay(t,e,n){return O(this,null,function*(){let r=X(t),i=r.vs.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!ps(s))throw s;j(dv,`Failed to update sequence numbers for target ${e}: ${s}`)}r.vs=r.vs.remove(e),r.Fs.delete(i.target)})}function cT(t,e,n){let r=X(t),i=ne.min(),o=ce();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,f){let p=X(u),m=p.Fs.get(f);return m!==void 0?M.resolve(p.vs.get(m)):p.li.getTargetData(l,f)}(r,s,Tn(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(s,c.targetId).next(u=>{o=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,n?i:ne.min(),n?o:ce())).next(c=>(eV(r,fL(e),c),{documents:c,ks:o})))}function eV(t,e,n){let r=t.Ms.get(e)||ne.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Ms.set(e,r)}var zd=class{constructor(){this.activeTargetIds=vL()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var xy=class{constructor(){this.vo=new zd,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new zd,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Ry=class{Mo(e){}shutdown(){}};var uT="ConnectivityMonitor",qd=class{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){j(uT,"Network connectivity changed: AVAILABLE");for(let e of this.Lo)e(0)}Bo(){j(uT,"Network connectivity changed: UNAVAILABLE");for(let e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var wd=null;function My(){return wd===null?wd=function(){return 268435456+Math.round(2147483648*Math.random())}():wd++,"0x"+wd.toString(16)}var Cm="RestConnection",tV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"},Ny=class{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===Pd?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,o){let s=My(),c=this.Qo(e,n.toUriEncodedString());j(Cm,`Sending RPC '${e}' ${s}:`,c,r);let u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(u,i,o);let{host:l}=new URL(c),f=zo(l);return this.zo(e,c,u,r,f).then(p=>(j(Cm,`Received RPC '${e}' ${s}: `,p),p),p=>{throw Jn(Cm,`RPC '${e}' ${s} failed with error: `,p,"url: ",c,"request:",r),p})}jo(e,n,r,i,o,s){return this.Wo(e,n,r,i,o)}Go(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ds}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Qo(e,n){let r=tV[e],i=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}};var Py=class{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}};var lt="WebChannelConnection",tc=(t,e,n)=>{t.listen(e,r=>{try{n(r)}catch(i){setTimeout(()=>{throw i},0)}})},Gd=class t extends Ny{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!t.c_){let e=Im();tc(e,Em.STAT_EVENT,n=>{n.stat===yd.PROXY?j(lt,"STAT_EVENT: detected buffering proxy"):n.stat===yd.NOPROXY&&j(lt,"STAT_EVENT: detected no buffering proxy")}),t.c_=!0}}zo(e,n,r,i,o){let s=My();return new Promise((c,u)=>{let l=new _m;l.setWithCredentials(!0),l.listenOnce(wm.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case ec.NO_ERROR:let p=l.getResponseJson();j(lt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),c(p);break;case ec.TIMEOUT:j(lt,`RPC '${e}' ${s} timed out`),u(new L(R.DEADLINE_EXCEEDED,"Request time out"));break;case ec.HTTP_ERROR:let m=l.getStatus();if(j(lt,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let C=y?.error;if(C&&C.status&&C.message){let A=function(B){let ae=B.toLowerCase().replace(/_/g,"-");return Object.values(R).indexOf(ae)>=0?ae:R.UNKNOWN}(C.status);u(new L(A,C.message))}else u(new L(R.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new L(R.UNAVAILABLE,"Connection failed."));break;default:Q(9055,{l_:e,streamId:s,h_:l.getLastErrorCode(),P_:l.getLastError()})}}finally{j(lt,`RPC '${e}' ${s} completed.`)}});let f=JSON.stringify(i);j(lt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",f,r,15)})}T_(e,n,r){let i=My(),o=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=this.createWebChannelTransport(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Go(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let l=o.join("");j(lt,`Creating RPC '${e}' stream ${i}: ${l}`,c);let f=s.createWebChannel(l,c);this.I_(f);let p=!1,m=!1,y=new Py({Ho:C=>{m?j(lt,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(p||(j(lt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),p=!0),j(lt,`RPC '${e}' stream ${i} sending:`,C),f.send(C))},Jo:()=>f.close()});return tc(f,Go.EventType.OPEN,()=>{m||(j(lt,`RPC '${e}' stream ${i} transport opened.`),y.i_())}),tc(f,Go.EventType.CLOSE,()=>{m||(m=!0,j(lt,`RPC '${e}' stream ${i} transport closed`),y.o_(),this.E_(f))}),tc(f,Go.EventType.ERROR,C=>{m||(m=!0,Jn(lt,`RPC '${e}' stream ${i} transport errored. Name:`,C.name,"Message:",C.message),y.o_(new L(R.UNAVAILABLE,"The operation could not be completed")))}),tc(f,Go.EventType.MESSAGE,C=>{if(!m){let A=C.data[0];Ee(!!A,16349);let x=A,B=x?.error||x[0]?.error;if(B){j(lt,`RPC '${e}' stream ${i} received error:`,B);let ae=B.status,W=function(Ne){let I=He[Ne];if(I!==void 0)return hC(I)}(ae),me=B.message;ae==="NOT_FOUND"&&me.includes("database")&&me.includes("does not exist")&&me.includes(this.databaseId.database)&&Jn(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),W===void 0&&(W=R.INTERNAL,me="Unknown error status: "+ae+" with message "+B.message),m=!0,y.o_(new L(W,me)),f.close()}else j(lt,`RPC '${e}' stream ${i} received:`,A),y.__(A)}}),t.u_(),setTimeout(()=>{y.s_()},0),y}terminate(){this.a_.forEach(e=>e.close()),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter(n=>n===e)}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return bm()}};function nV(t){return new Gd(t)}function Sm(){return typeof document<"u"?document:null}function _c(t){return new ty(t,!0)}Gd.c_=!1;var Wd=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=i,this.V_=o,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();let n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&j("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}};var lT="PersistentStream",Kd=class{constructor(e,n,r,i,o,s,c,u){this.Ci=e,this.b_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Wd(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}stop(){return O(this,null,function*(){this.x_()&&(yield this.close(0))})}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(e){this.q_(),this.stream.send(e)}k_(){return O(this,null,function*(){if(this.O_())return this.close(0)})}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,n){return O(this,null,function*(){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===R.RESOURCE_EXHAUSTED?(Zn(n.toString()),Zn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===R.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.t_(n)})}W_(){}auth(){this.state=1;let e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{let i=new L(R.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){let r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.Yo(()=>{r(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.H_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(()=>O(this,null,function*(){this.state=0,this.start()}))}z_(e){return j(lT,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget(()=>this.D_===e?n():(j(lT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Oy=class extends Kd{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();let n=OL(this.serializer,e),r=function(o){if(!("targetChange"in o))return ne.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ne.min():s.readTime?Sn(s.readTime):ne.min()}(e);return this.listener.J_(n,r)}Z_(e){let n={};n.database=oy(this.serializer),n.addTarget=function(o,s){let c,u=s.target;if(c=Gm(u)?{documents:LL(o,u)}:{query:VL(o,u).ft},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){c.resumeToken=pC(o,s.resumeToken);let l=ny(o,s.expectedCount);l!==null&&(c.expectedCount=l)}else if(s.snapshotVersion.compareTo(ne.min())>0){c.readTime=Bd(o,s.snapshotVersion.toTimestamp());let l=ny(o,s.expectedCount);l!==null&&(c.expectedCount=l)}return c}(this.serializer,e);let r=BL(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){let n={};n.database=oy(this.serializer),n.removeTarget=e,this.K_(n)}},ky=class extends Kd{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Ee(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ee(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ee(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();let n=FL(e.writeResults,e.commitTime),r=Sn(e.commitTime);return this.listener.na(r,n)}ra(){let e={};e.database=oy(this.serializer),this.K_(e)}ea(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>kL(this.serializer,r))};this.K_(n)}};var Fy=class{},Ly=class extends Fy{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new L(R.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,ry(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new L(R.UNKNOWN,o.toString())})}jo(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.jo(e,ry(n,r),i,s,c,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new L(R.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}};function rV(t,e,n,r){return new Ly(t,e,n,r)}var Vy=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Zn(n),this.aa=!1):j("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}};var xi="RemoteStore",jy=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=o,this.Aa.Mo(s=>{r.enqueueAndForget(()=>O(this,null,function*(){Pi(this)&&(j(xi,"Restarting streams for network reachability change."),yield function(u){return O(this,null,function*(){let l=X(u);l.Ea.add(4),yield wc(l),l.Va.set("Unknown"),l.Ea.delete(4),yield gf(l)})}(this))}))}),this.Va=new Vy(r,i)}};function gf(t){return O(this,null,function*(){if(Pi(t))for(let e of t.Ra)yield e(!0)})}function wc(t){return O(this,null,function*(){for(let e of t.Ra)yield e(!1)})}function CC(t,e){let n=X(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),gv(n)?pv(n):gs(n).O_()&&hv(n,e))}function fv(t,e){let n=X(t),r=gs(n);n.Ia.delete(e),r.O_()&&SC(n,e),n.Ia.size===0&&(r.O_()?r.L_():Pi(n)&&n.Va.set("Unknown"))}function hv(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ne.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}gs(t).Z_(e)}function SC(t,e){t.da.$e(e),gs(t).X_(e)}function pv(t){t.da=new ey({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),gs(t).start(),t.Va.ua()}function gv(t){return Pi(t)&&!gs(t).x_()&&t.Ia.size>0}function Pi(t){return X(t).Ea.size===0}function AC(t){t.da=void 0}function iV(t){return O(this,null,function*(){t.Va.set("Online")})}function oV(t){return O(this,null,function*(){t.Ia.forEach((e,n)=>{hv(t,e)})})}function sV(t,e){return O(this,null,function*(){AC(t),gv(t)?(t.Va.ha(e),pv(t)):t.Va.set("Unknown")})}function aV(t,e,n){return O(this,null,function*(){if(t.Va.set("Online"),e instanceof Vd&&e.state===2&&e.cause)try{yield function(i,o){return O(this,null,function*(){let s=o.cause;for(let c of o.targetIds)i.Ia.has(c)&&(yield i.remoteSyncer.rejectListen(c,s),i.Ia.delete(c),i.da.removeTarget(c))})}(t,e)}catch(r){j(xi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Qd(t,r)}else if(e instanceof Xo?t.da.Xe(e):e instanceof Ld?t.da.st(e):t.da.tt(e),!n.isEqual(ne.min()))try{let r=yield TC(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let c=o.da.Tt(s);return c.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let f=o.Ia.get(l);f&&o.Ia.set(l,f.withResumeToken(u.resumeToken,s))}}),c.targetMismatches.forEach((u,l)=>{let f=o.Ia.get(u);if(!f)return;o.Ia.set(u,f.withResumeToken(st.EMPTY_BYTE_STRING,f.snapshotVersion)),SC(o,u);let p=new fc(f.target,u,l,f.sequenceNumber);hv(o,p)}),o.remoteSyncer.applyRemoteEvent(c)}(t,n))}catch(r){j(xi,"Failed to raise snapshot:",r),yield Qd(t,r)}})}function Qd(t,e,n){return O(this,null,function*(){if(!ps(e))throw e;t.Ea.add(1),yield wc(t),t.Va.set("Offline"),n||(n=()=>TC(t.localStore)),t.asyncQueue.enqueueRetryable(()=>O(null,null,function*(){j(xi,"Retrying IndexedDB access"),yield n(),t.Ea.delete(1),yield gf(t)}))})}function xC(t,e){return e().catch(n=>Qd(t,n,e))}function mf(t){return O(this,null,function*(){let e=X(t),n=Rr(e),r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:tv;for(;cV(e);)try{let i=yield JL(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,uV(e,i)}catch(i){yield Qd(e,i)}RC(e)&&MC(e)})}function cV(t){return Pi(t)&&t.Ta.length<10}function uV(t,e){t.Ta.push(e);let n=Rr(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function RC(t){return Pi(t)&&!Rr(t).x_()&&t.Ta.length>0}function MC(t){Rr(t).start()}function lV(t){return O(this,null,function*(){Rr(t).ra()})}function dV(t){return O(this,null,function*(){let e=Rr(t);for(let n of t.Ta)e.ea(n.mutations)})}function fV(t,e,n){return O(this,null,function*(){let r=t.Ta.shift(),i=Ym.from(r,e,n);yield xC(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield mf(t)})}function hV(t,e){return O(this,null,function*(){e&&Rr(t).Y_&&(yield function(r,i){return O(this,null,function*(){if(function(s){return TL(s)&&s!==R.ABORTED}(i.code)){let o=r.Ta.shift();Rr(r).B_(),yield xC(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield mf(r)}})}(t,e)),RC(t)&&MC(t)})}function dT(t,e){return O(this,null,function*(){let n=X(t);n.asyncQueue.verifyOperationInProgress(),j(xi,"RemoteStore received new credentials");let r=Pi(n);n.Ea.add(3),yield wc(n),r&&n.Va.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),yield gf(n)})}function pV(t,e){return O(this,null,function*(){let n=X(t);e?(n.Ea.delete(2),yield gf(n)):e||(n.Ea.add(2),yield wc(n),n.Va.set("Unknown"))})}function gs(t){return t.ma||(t.ma=function(n,r,i){let o=X(n);return o.sa(),new Oy(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Zo:iV.bind(null,t),Yo:oV.bind(null,t),t_:sV.bind(null,t),J_:aV.bind(null,t)}),t.Ra.push(e=>O(null,null,function*(){e?(t.ma.B_(),gv(t)?pv(t):t.Va.set("Unknown")):(yield t.ma.stop(),AC(t))}))),t.ma}function Rr(t){return t.fa||(t.fa=function(n,r,i){let o=X(n);return o.sa(),new ky(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:lV.bind(null,t),t_:hV.bind(null,t),ta:dV.bind(null,t),na:fV.bind(null,t)}),t.Ra.push(e=>O(null,null,function*(){e?(t.fa.B_(),yield mf(t)):(yield t.fa.stop(),t.Ta.length>0&&(j(xi,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}var By=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new nn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,c=new t(e,n,s,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new L(R.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function mv(t,e){if(Zn("AsyncQueue",`${e}: ${t}`),ps(t))return new L(R.UNAVAILABLE,`${e}: ${t}`);throw t}var gc=class t{static emptySet(e){return new t(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||G.comparator(n.key,r.key):(n,r)=>G.comparator(n.key,r.key),this.keyedMap=nc(),this.sortedSet=new Fe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Yd=class{constructor(){this.ga=new Fe(G.comparator)}track(e){let n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Q(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){let e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}},Ri=class t{constructor(e,n,r,i,o,s,c,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(c=>{s.push({type:0,doc:c})}),new t(e,n,gc.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var Uy=class{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(e=>e.Da())}},$y=class{constructor(){this.queries=fT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){let i=X(n),o=i.queries;i.queries=fT(),o.forEach((s,c)=>{for(let u of c.ba)u.onError(r)})})(this,new L(R.ABORTED,"Firestore shutting down"))}};function fT(){return new tr(t=>tC(t),hf)}function NC(t,e){return O(this,null,function*(){let n=X(t),r=3,i=e.query,o=n.queries.get(i);o?!o.Sa()&&e.Da()&&(r=2):(o=new Uy,r=e.Da()?0:1);try{switch(r){case 0:o.wa=yield n.onListen(i,!0);break;case 1:o.wa=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let c=mv(s,`Initialization of query '${Ko(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,o),o.ba.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&yv(n)})}function PC(t,e){return O(this,null,function*(){let n=X(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.ba.indexOf(e);s>=0&&(o.ba.splice(s,1),o.ba.length===0?i=e.Da()?0:1:!o.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function gV(t,e){let n=X(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let c of s.ba)c.Fa(i)&&(r=!0);s.wa=i}}r&&yv(n)}function mV(t,e,n){let r=X(t),i=r.queries.get(e);if(i)for(let o of i.ba)o.onError(n);r.queries.delete(e)}function yv(t){t.Ca.forEach(e=>{e.next()})}var Hy,hT;(hT=Hy||(Hy={})).Ma="default",hT.Cache="cache";var Zd=class{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Ri(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;let r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;let n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ri.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Hy.Cache}};var Jd=class{constructor(e){this.key=e}},Xd=class{constructor(e){this.key=e}},zy=class{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ce(),this.mutatedKeys=ce(),this.eu=nC(e),this.tu=new gc(this.eu)}get nu(){return this.Za}ru(e,n){let r=n?n.iu:new Yd,i=n?n.tu:this.tu,o=n?n.mutatedKeys:this.mutatedKeys,s=i,c=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,p)=>{let m=i.get(f),y=pf(this.query,p)?p:null,C=!!m&&this.mutatedKeys.has(m.key),A=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),x=!1;m&&y?m.data.isEqual(y.data)?C!==A&&(r.track({type:3,doc:y}),x=!0):this.su(m,y)||(r.track({type:2,doc:y}),x=!0,(u&&this.eu(y,u)>0||l&&this.eu(y,l)<0)&&(c=!0)):!m&&y?(r.track({type:0,doc:y}),x=!0):m&&!y&&(r.track({type:1,doc:m}),x=!0,(u||l)&&(c=!0)),x&&(y?(s=s.add(y),o=A?o.add(f):o.delete(f)):(s=s.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),o=o.delete(f.key),r.track({type:1,doc:f})}return{tu:s,iu:r,Ss:c,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;let s=e.iu.ya();s.sort((f,p)=>function(y,C){let A=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q(20277,{Vt:x})}};return A(y)-A(C)}(f.type,p.type)||this.eu(f.doc,p.doc)),this.ou(r),i=i??!1;let c=n&&!i?this._u():[],u=this.Ya.size===0&&this.current&&!i?1:0,l=u!==this.Xa;return this.Xa=u,s.length!==0||l?{snapshot:new Ri(this.query,e.tu,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Yd,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Za=this.Za.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Za=this.Za.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];let e=this.Ya;this.Ya=ce(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))});let n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new Xd(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new Jd(r))}),n}cu(e){this.Za=e.ks,this.Ya=ce();let n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ri.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}},vv="SyncEngine",qy=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},Gy=class{constructor(e){this.key=e,this.hu=!1}},Wy=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new tr(c=>tC(c),hf),this.Iu=new Map,this.Eu=new Set,this.Ru=new Fe(G.comparator),this.Au=new Map,this.Vu=new pc,this.du={},this.mu=new Map,this.fu=hc.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}};function yV(t,e,n=!0){return O(this,null,function*(){let r=jC(t),i,o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=yield OC(r,e,n,!0),i})}function vV(t,e){return O(this,null,function*(){let n=jC(t);yield OC(n,e,!0,!1)})}function OC(t,e,n,r){return O(this,null,function*(){let i=yield XL(t.localStore,Tn(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),c;return r&&(c=yield _V(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&CC(t.remoteStore,i),c})}function _V(t,e,n,r,i){return O(this,null,function*(){t.pu=(p,m,y)=>function(A,x,B,ae){return O(this,null,function*(){let W=x.view.ru(B);W.Ss&&(W=yield cT(A.localStore,x.query,!1).then(({documents:I})=>x.view.ru(I,W)));let me=ae&&ae.targetChanges.get(x.targetId),Qe=ae&&ae.targetMismatches.get(x.targetId)!=null,Ne=x.view.applyChanges(W,A.isPrimaryClient,me,Qe);return gT(A,x.targetId,Ne.au),Ne.snapshot})}(t,p,m,y);let o=yield cT(t.localStore,e,!0),s=new zy(e,o.ks),c=s.ru(o.documents),u=dc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(c,t.isPrimaryClient,u);gT(t,n,l.au);let f=new qy(e,n,s);return t.Tu.set(e,f),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),l.snapshot})}function wV(t,e,n){return O(this,null,function*(){let r=X(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter(s=>!hf(s,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Ay(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&fv(r.remoteStore,i.targetId),Ky(r,i.targetId)}).catch(hs))):(Ky(r,i.targetId),yield Ay(r.localStore,i.targetId,!0))})}function EV(t,e){return O(this,null,function*(){let n=X(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),fv(n.remoteStore,r.targetId))})}function IV(t,e,n){return O(this,null,function*(){let r=xV(t);try{let i=yield function(s,c){let u=X(s),l=Re.now(),f=c.reduce((y,C)=>y.add(C.key),ce()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let C=nr(),A=ce();return u.xs.getEntries(y,f).next(x=>{C=x,C.forEach((B,ae)=>{ae.isValidDocument()||(A=A.add(B))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,C)).next(x=>{p=x;let B=[];for(let ae of c){let W=DL(ae,p.get(ae.key).overlayedDocument);W!=null&&B.push(new Mn(ae.key,W,QT(W.value.mapValue),Cn.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,B,c)}).next(x=>{m=x;let B=x.applyToLocalDocumentSet(p,A);return u.documentOverlayCache.saveOverlays(y,x.batchId,B)})}).then(()=>({batchId:m.batchId,changes:iC(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,c,u){let l=s.du[s.currentUser.toKey()];l||(l=new Fe(ue)),l=l.insert(c,u),s.du[s.currentUser.toKey()]=l}(r,i.batchId,n),yield Ec(r,i.changes),yield mf(r.remoteStore)}catch(i){let o=mv(i,"Failed to persist write");n.reject(o)}})}function kC(t,e){return O(this,null,function*(){let n=X(t);try{let r=yield YL(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Au.get(o);s&&(Ee(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?Ee(s.hu,14607):i.removedDocuments.size>0&&(Ee(s.hu,42227),s.hu=!1))}),yield Ec(n,r,e)}catch(r){yield hs(r)}})}function pT(t,e,n){let r=X(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Tu.forEach((o,s)=>{let c=s.view.va(e);c.snapshot&&i.push(c.snapshot)}),function(s,c){let u=X(s);u.onlineState=c;let l=!1;u.queries.forEach((f,p)=>{for(let m of p.ba)m.va(c)&&(l=!0)}),l&&yv(u)}(r.eventManager,e),i.length&&r.Pu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function bV(t,e,n){return O(this,null,function*(){let r=X(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Au.get(e),o=i&&i.key;if(o){let s=new Fe(G.comparator);s=s.insert(o,rn.newNoDocument(o,ne.min()));let c=ce().add(o),u=new Fd(ne.min(),new Map,new Fe(ue),s,c);yield kC(r,u),r.Ru=r.Ru.remove(o),r.Au.delete(e),_v(r)}else yield Ay(r.localStore,e,!1).then(()=>Ky(r,e,n)).catch(hs)})}function DV(t,e){return O(this,null,function*(){let n=X(t),r=e.batch.batchId;try{let i=yield QL(n.localStore,e);LC(n,r,null),FC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Ec(n,i)}catch(i){yield hs(i)}})}function TV(t,e,n){return O(this,null,function*(){let r=X(t);try{let i=yield function(s,c){let u=X(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let f;return u.mutationQueue.lookupMutationBatch(l,c).next(p=>(Ee(p!==null,37113),f=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,f,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,f)).next(()=>u.localDocuments.getDocuments(l,f))})}(r.localStore,e);LC(r,e,n),FC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Ec(r,i)}catch(i){yield hs(i)}})}function FC(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function LC(t,e,n){let r=X(t),i=r.du[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.du[r.currentUser.toKey()]=i}}function Ky(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach(r=>{t.Vu.containsKey(r)||VC(t,r)})}function VC(t,e){t.Eu.delete(e.path.canonicalString());let n=t.Ru.get(e);n!==null&&(fv(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),_v(t))}function gT(t,e,n){for(let r of n)r instanceof Jd?(t.Vu.addReference(r.key,e),CV(t,r)):r instanceof Xd?(j(vv,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||VC(t,r.key)):Q(19791,{wu:r})}function CV(t,e){let n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(j(vv,"New document in limbo: "+n),t.Eu.add(r),_v(t))}function _v(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){let e=t.Eu.values().next().value;t.Eu.delete(e);let n=new G(xe.fromString(e)),r=t.fu.next();t.Au.set(r,new Gy(n)),t.Ru=t.Ru.insert(n,r),CC(t.remoteStore,new fc(Tn(df(n.path)),r,"TargetPurposeLimboResolution",ev.ce))}}function Ec(t,e,n){return O(this,null,function*(){let r=X(t),i=[],o=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((c,u)=>{s.push(r.pu(u,e,n).then(l=>{if((l||n)&&r.isPrimaryClient){let f=l?!l.fromCache:n?.targetChanges.get(u.targetId)?.current;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(l){i.push(l);let f=Dy.Es(u.targetId,l);o.push(f)}}))}),yield Promise.all(s),r.Pu.J_(i),yield function(u,l){return O(this,null,function*(){let f=X(u);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>M.forEach(l,m=>M.forEach(m.Ts,y=>f.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>M.forEach(m.Is,y=>f.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!ps(p))throw p;j(dv,"Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=f.vs.get(m),C=y.snapshotVersion,A=y.withLastLimboFreeSnapshotVersion(C);f.vs=f.vs.insert(m,A)}}})}(r.localStore,o))})}function SV(t,e){return O(this,null,function*(){let n=X(t);if(!n.currentUser.isEqual(e)){j(vv,"User change. New user:",e.toKey());let r=yield DC(n.localStore,e);n.currentUser=e,function(o,s){o.mu.forEach(c=>{c.forEach(u=>{u.reject(new L(R.CANCELLED,s))})}),o.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ec(n,r.Ns)}})}function AV(t,e){let n=X(t),r=n.Au.get(e);if(r&&r.hu)return ce().add(r.key);{let i=ce(),o=n.Iu.get(e);if(!o)return i;for(let s of o){let c=n.Tu.get(s);i=i.unionWith(c.view.nu)}return i}}function jC(t){let e=X(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=kC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=AV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bV.bind(null,e),e.Pu.J_=gV.bind(null,e.eventManager),e.Pu.yu=mV.bind(null,e.eventManager),e}function xV(t){let e=X(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=DV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=TV.bind(null,e),e}var wv=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return O(this,null,function*(){this.serializer=_c(n.databaseInfo.databaseId),this.sharedClientState=this.Du(n),this.persistence=this.Cu(n),yield this.persistence.start(),this.localStore=this.vu(n),this.gcScheduler=this.Fu(n,this.localStore),this.indexBackfillerScheduler=this.Mu(n,this.localStore)})}Fu(n,r){return null}Mu(n,r){return null}vu(n){return KL(this.persistence,new Cy,n.initialUser,this.serializer)}Cu(n){return new $d(by.Vi,this.serializer)}Du(n){return new xy}terminate(){return O(this,null,function*(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})(),ef=class extends wv{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ee(this.persistence.referenceDelegate instanceof Hd,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new ly(r,e.asyncQueue,n)}Cu(e){let n=this.cacheSizeBytes!==void 0?jt.withCacheSize(this.cacheSizeBytes):jt.DEFAULT;return new $d(r=>Hd.Vi(r,n),this.serializer)}};var BC=(()=>{class t{initialize(n,r){return O(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>pT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=SV.bind(null,this.syncEngine),yield pV(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new $y}()}createDatastore(n){let r=_c(n.databaseInfo.databaseId),i=nV(n.databaseInfo);return rV(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,o,s,c,u){return new jy(i,o,s,c,u)}(this.localStore,this.datastore,n.asyncQueue,r=>pT(this.syncEngine,r,0),function(){return qd.v()?new qd:new Ry}())}createSyncEngine(n,r){return function(o,s,c,u,l,f,p){let m=new Wy(o,s,c,u,l,f);return p&&(m.gu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return O(this,null,function*(){yield function(r){return O(this,null,function*(){let i=X(r);j(xi,"RemoteStore shutting down."),i.Ea.add(5),yield wc(i),i.Aa.shutdown(),i.Va.set("Unknown")})}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()})}}return t.provider={build:()=>new t},t})();var tf=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Zn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var Mr="FirestoreClient",Qy=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=i,this.user=tt.UNAUTHENTICATED,this.clientId=Ei.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>O(this,null,function*(){j(Mr,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(j(Mr,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new nn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>O(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=mv(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Am(t,e){return O(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),j(Mr,"Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>O(null,null,function*(){r.isEqual(i)||(yield DC(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function mT(t,e){return O(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield RV(t);j(Mr,"Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>dT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>dT(e.remoteStore,i)),t._onlineComponents=e})}function RV(t){return O(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){j(Mr,"Using user provided OfflineComponentProvider");try{yield Am(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===R.FAILED_PRECONDITION||i.code===R.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Jn("Error using user provided cache. Falling back to memory cache: "+n),yield Am(t,new wv)}}else j(Mr,"Using default OfflineComponentProvider"),yield Am(t,new ef(void 0));return t._offlineComponents})}function UC(t){return O(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(j(Mr,"Using user provided OnlineComponentProvider"),yield mT(t,t._uninitializedComponentsProvider._online)):(j(Mr,"Using default OnlineComponentProvider"),yield mT(t,new BC))),t._onlineComponents})}function MV(t){return UC(t).then(e=>e.syncEngine)}function $C(t){return O(this,null,function*(){let e=yield UC(t),n=e.eventManager;return n.onListen=yV.bind(null,e.syncEngine),n.onUnlisten=wV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=vV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=EV.bind(null,e.syncEngine),n})}function HC(t,e,n={}){let r=new nn;return t.asyncQueue.enqueueAndForget(()=>O(null,null,function*(){return function(o,s,c,u,l){let f=new tf({next:m=>{f.Nu(),s.enqueueAndForget(()=>PC(o,p));let y=m.docs.has(c);!y&&m.fromCache?l.reject(new L(R.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&u&&u.source==="server"?l.reject(new L(R.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new Zd(df(c.path),f,{includeMetadataChanges:!0,Ka:!0});return NC(o,p)}(yield $C(t),t.asyncQueue,e,n,r)})),r.promise}function zC(t,e,n={}){let r=new nn;return t.asyncQueue.enqueueAndForget(()=>O(null,null,function*(){return function(o,s,c,u,l){let f=new tf({next:m=>{f.Nu(),s.enqueueAndForget(()=>PC(o,p)),m.fromCache&&u.source==="server"?l.reject(new L(R.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new Zd(c,f,{includeMetadataChanges:!0,Ka:!0});return NC(o,p)}(yield $C(t),t.asyncQueue,e,n,r)})),r.promise}function qC(t,e){let n=new nn;return t.asyncQueue.enqueueAndForget(()=>O(null,null,function*(){return IV(yield MV(t),e,n)})),n.promise}function GC(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var NV="ComponentProvider",yT=new Map;function PV(t,e,n,r,i){return new Om(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,GC(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}var WC="firestore.googleapis.com",vT=!0,nf=class{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new L(R.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=WC,this.ssl=vT}else this.host=e.host,this.ssl=e.ssl??vT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=bC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<qL)throw new L(R.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}DT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=GC(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new L(R.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new L(R.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new L(R.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},us=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nf({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new L(R.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new L(R.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nf(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Td;switch(r.type){case"firstParty":return new Mm(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new L(R.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return O(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=yT.get(n);r&&(j(NV,"Removing Datastore"),yT.delete(n),r.terminate())}(this),Promise.resolve()}};function KC(t,e,n,r={}){t=on(t,us);let i=zo(e),o=t._getSettings(),s=ye(P({},o),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${n}`;i&&(sd(`https://${c}`),cd("Firestore",!0)),o.host!==WC&&o.host!==c&&Jn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let u=ye(P({},o),{host:c,ssl:i,emulatorOptions:r});if(!gi(u,s)&&(t._setSettings(u),r.mockUserToken)){let l,f;if(typeof r.mockUserToken=="string")l=r.mockUserToken,f=tt.MOCK_USER;else{l=ad(r.mockUserToken,t._app?.options.projectId);let p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new L(R.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new tt(p)}t._authCredentials=new xm(new Dd(l,f))}}var Nr=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Ke=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}toJSON(){return{type:t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(fs(n,t._jsonSchema))return new t(e,r||null,new G(xe.fromString(n.referencePath)))}};Ke._jsonSchemaVersion="firestore/documentReference/1.0",Ke._jsonSchema={type:Be("string",Ke._jsonSchemaVersion),referencePath:Be("string")};var Qn=class t extends Nr{constructor(e,n,r){super(e,n,df(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Ke(this.firestore,null,new G(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function ms(t,e,...n){if(t=Mt(t),bT("collection","path",e),t instanceof us){let r=xe.fromString(e,...n);return VD(r),new Qn(t,null,r)}{if(!(t instanceof Ke||t instanceof Qn))throw new L(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(xe.fromString(e,...n));return VD(r),new Qn(t.firestore,null,r)}}function Oi(t,e,...n){if(t=Mt(t),arguments.length===1&&(e=Ei.newId()),bT("doc","path",e),t instanceof us){let r=xe.fromString(e,...n);return LD(r),new Ke(t,null,new G(r))}{if(!(t instanceof Ke||t instanceof Qn))throw new L(R.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(xe.fromString(e,...n));return LD(r),new Ke(t.firestore,t instanceof Qn?t.converter:null,new G(r))}}var _T="AsyncQueue",rf=class{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Wd(this,"async_queue_retry"),this._c=()=>{let r=Sm();r&&j(_T,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;let n=Sm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;let n=Sm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});let n=new nn;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Yu.push(e),this.lc()))}lc(){return O(this,null,function*(){if(this.Yu.length!==0){try{yield this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!ps(e))throw e;j(_T,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}})}cc(e){let n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Zn("INTERNAL UNHANDLED ERROR: ",wT(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);let i=By.createAndSchedule(this,e,n,r,o=>this.hc(o));return this.tc.push(i),i}uc(){this.nc&&Q(47125,{Pc:wT(this.nc)})}verifyOperationInProgress(){}Tc(){return O(this,null,function*(){let e;do e=this.ac,yield e;while(e!==this.ac)})}Ic(e){for(let n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}Rc(e){this.oc.push(e)}hc(e){let n=this.tc.indexOf(e);this.tc.splice(n,1)}};function wT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}var Nn=class extends us{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new rf,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return O(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new rf(e),this._firestoreClient=void 0,yield e}})}};function Ev(t,e){let n=typeof t=="object"?t:gd(),r=typeof t=="string"?t:e||Pd,i=fd(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=od("firestore");o&&KC(i,...o)}return i}function Ic(t){if(t._terminated)throw new L(R.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||OV(t),t._firestoreClient}function OV(t){let e=t._freezeSettings(),n=PV(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Qy(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(i){let o=i?._online.build();return{_offline:i?._offline.build(o),_online:o}}(t._componentsProvider))}var An=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(st.fromBase64String(e))}catch(n){throw new L(R.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(st.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:t._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(fs(e,t._jsonSchema))return t.fromBase64String(e.bytes)}};An._jsonSchemaVersion="firestore/bytes/1.0",An._jsonSchema={type:Be("string",An._jsonSchemaVersion),bytes:Be("string")};var Mi=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new L(R.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var ls=class{constructor(e){this._methodName=e}};var Yn=class t{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new L(R.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new L(R.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ue(this._lat,e._lat)||ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:t._jsonSchemaVersion}}static fromJSON(e){if(fs(e,t._jsonSchema))return new t(e.latitude,e.longitude)}};Yn._jsonSchemaVersion="firestore/geoPoint/1.0",Yn._jsonSchema={type:Be("string",Yn._jsonSchemaVersion),latitude:Be("number"),longitude:Be("number")};var xn=class t{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:t._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(fs(e,t._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new t(e.vectorValues);throw new L(R.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};xn._jsonSchemaVersion="firestore/vectorValue/1.0",xn._jsonSchema={type:Be("string",xn._jsonSchemaVersion),vectorValues:Be("object")};var kV=/^__.*__$/,Yy=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Mn(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ai(e,this.data,n,this.fieldTransforms)}},of=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Mn(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function QC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q(40011,{dataSource:t})}}var Zy=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.validatePath(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new t(P(P({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){let n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){let n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return af(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(QC(this.dataSource)&&kV.test(e))throw this.createError('Document fields cannot begin and end with "__"')}},Jy=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||_c(e)}createContext(e,n,r,i=!1){return new Zy({dataSource:e,methodName:n,targetDoc:r,path:Tt.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function yf(t){let e=t._freezeSettings(),n=_c(t._databaseId);return new Jy(t._databaseId,!!e.ignoreUndefinedProperties,n)}function YC(t,e,n,r,i,o={}){let s=t.createContext(o.merge||o.mergeFields?2:0,e,n,i);Iv("Data must be an object, but it was:",s,r);let c=eS(r,s),u,l;if(o.merge)u=new Bt(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let f=[];for(let p of o.mergeFields){let m=Ni(e,p,n);if(!s.contains(m))throw new L(R.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);nS(f,m)||f.push(m)}u=new Bt(f),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new Yy(new Dt(c),u,l)}var sf=class t extends ls{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function ZC(t,e,n,r){let i=t.createContext(1,e,n);Iv("Data must be an object, but it was:",i,r);let o=[],s=Dt.empty();Pr(r,(u,l)=>{let f=bv(e,u,n);l=Mt(l);let p=i.childContextForFieldPath(f);if(l instanceof sf)o.push(f);else{let m=bc(l,p);m!=null&&(o.push(f),s.set(f,m))}});let c=new Bt(o);return new of(s,c,i.fieldTransforms)}function JC(t,e,n,r,i,o){let s=t.createContext(1,e,n),c=[Ni(e,r,n)],u=[i];if(o.length%2!=0)throw new L(R.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)c.push(Ni(e,o[m])),u.push(o[m+1]);let l=[],f=Dt.empty();for(let m=c.length-1;m>=0;--m)if(!nS(l,c[m])){let y=c[m],C=u[m];C=Mt(C);let A=s.childContextForFieldPath(y);if(C instanceof sf)l.push(y);else{let x=bc(C,A);x!=null&&(l.push(y),f.set(y,x))}}let p=new Bt(l);return new of(f,p,s.fieldTransforms)}function XC(t,e,n,r=!1){return bc(n,t.createContext(r?4:3,e))}function bc(t,e){if(tS(t=Mt(t)))return Iv("Unsupported field value:",e,t),eS(t,e);if(t instanceof ls)return function(r,i){if(!QC(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let c of r){let u=bc(c,i.childContextForArray(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Mt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return _L(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Re.fromDate(r);return{timestampValue:Bd(i.serializer,o)}}if(r instanceof Re){let o=new Re(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Bd(i.serializer,o)}}if(r instanceof Yn)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof An)return{bytesValue:pC(i.serializer,r._byteString)};if(r instanceof Ke){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.createError(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:lv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof xn)return function(s,c){let u=s instanceof xn?s.toArray():s;return{mapValue:{fields:{[nv]:{stringValue:rv},[ts]:{arrayValue:{values:u.map(f=>{if(typeof f!="number")throw c.createError("VectorValues must only contain numeric values.");return uv(c.serializer,f)})}}}}}}(r,i);if(EC(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${vc(r)}`)}(t,e)}function eS(t,e){let n={};return BT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Pr(t,(r,i)=>{let o=bc(i,e.childContextForField(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function tS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Re||t instanceof Yn||t instanceof An||t instanceof Ke||t instanceof ls||t instanceof xn||EC(t))}function Iv(t,e,n){if(!tS(n)||!TT(n)){let r=vc(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function Ni(t,e,n){if((e=Mt(e))instanceof Mi)return e._internalPath;if(typeof e=="string")return bv(t,e);throw af("Field path arguments must be of type string or ",t,!1,void 0,n)}var FV=new RegExp("[~\\*/\\[\\]]");function bv(t,e,n){if(e.search(FV)>=0)throw af(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Mi(...e.split("."))._internalPath}catch{throw af(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function af(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new L(R.INVALID_ARGUMENT,c+t+u)}function nS(t,e){return t.some(n=>n.isEqual(e))}var mc=class{convertValue(e,n="none"){switch(xr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Me(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(er(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Q(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Pr(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){let n=e.fields?.[ts].arrayValue?.values?.map(r=>Me(r.doubleValue));return new xn(n)}convertGeoPoint(e){return new Yn(Me(e.latitude),Me(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=lf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(cc(e));default:return null}}convertTimestamp(e){let n=Xn(e);return new Re(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=xe.fromString(e);Ee(wC(r),9688,{name:e});let i=new uc(r.get(1),r.get(3)),o=new G(r.popFirst(5));return i.isEqual(n)||Zn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};var yc=class extends mc{constructor(e){super(),this.firestore=e}convertBytes(e){return new An(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ke(this.firestore,null,n)}};var rS="@firebase/firestore",iS="4.11.0";var vf=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ke(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Dv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){let n=this._document.data.field(Ni("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},Dv=class extends vf{data(){return super.data()}};function BV(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new L(R.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Dc=class{},Tv=class extends Dc{};function Sv(t,e,...n){let r=[];e instanceof Dc&&r.push(e),r=r.concat(n),function(o){let s=o.filter(u=>u instanceof Cv).length,c=o.filter(u=>u instanceof _f).length;if(s>1||s>0&&c>0)throw new L(R.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var _f=class t extends Tv{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return cS(e._query,n),new Nr(e.firestore,e.converter,ff(e._query,n))}_parse(e){let n=yf(e.firestore);return function(o,s,c,u,l,f,p){let m;if(l.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new L(R.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){sS(p,f);let C=[];for(let A of p)C.push(oS(u,o,A));m={arrayValue:{values:C}}}else m=oS(u,o,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||sS(p,f),m=XC(c,s,p,f==="in"||f==="not-in");return je.create(l,f,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function aS(t,e,n){let r=e,i=Ni("where",t);return _f._create(i,r,n)}var Cv=class t extends Dc{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ut.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i,c=o.getFlattenedFilters();for(let u of c)cS(s,u),s=ff(s,u)}(e._query,n),new Nr(e.firestore,e.converter,ff(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function oS(t,e,n){if(typeof(n=Mt(n))=="string"){if(n==="")throw new L(R.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cv(e)&&n.indexOf("/")!==-1)throw new L(R.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(xe.fromString(n));if(!G.isDocumentKey(r))throw new L(R.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return iv(t,new G(r))}if(n instanceof Ke)return iv(t,n._key);throw new L(R.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vc(n)}.`)}function sS(t,e){if(!Array.isArray(t)||t.length===0)throw new L(R.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function cS(t,e){let n=function(i,o){for(let s of i)for(let c of s.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new L(R.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new L(R.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function UV(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var ki=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Fi=class t extends vf{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new ys(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(Ni("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new L(R.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,n={};return n.type=t._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}};Fi._jsonSchemaVersion="firestore/documentSnapshot/1.0",Fi._jsonSchema={type:Be("string",Fi._jsonSchemaVersion),bundleSource:Be("string","DocumentSnapshot"),bundleName:Be("string"),bundle:Be("string")};var ys=class extends Fi{data(e={}){return super.data(e)}},vs=class t{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ki(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ys(this._firestore,this._userDataWriter,r.key,r,new ki(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new L(R.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>{let u=new ys(i._firestore,i._userDataWriter,c.doc.key,c.doc,new ki(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{let u=new ys(i._firestore,i._userDataWriter,c.doc.key,c.doc,new ki(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,f=-1;return c.type!==0&&(l=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),c.type!==1&&(s=s.add(c.doc),f=s.indexOf(c.doc.key)),{type:$V(c.type),doc:u,oldIndex:l,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new L(R.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=t._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ei.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function $V(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q(61501,{type:t})}}vs._jsonSchemaVersion="firestore/querySnapshot/1.0",vs._jsonSchema={type:Be("string",vs._jsonSchemaVersion),bundleSource:Be("string","QuerySnapshot"),bundleName:Be("string"),bundle:Be("string")};function uS(t){t=on(t,Ke);let e=on(t.firestore,Nn),n=Ic(e);return HC(n,t._key).then(r=>HV(e,t,r))}function wf(t){t=on(t,Nr);let e=on(t.firestore,Nn),n=Ic(e),r=new yc(e);return BV(t._query),zC(n,t._query).then(i=>new vs(e,r,t,i))}function lS(t,e,n,...r){t=on(t,Ke);let i=on(t.firestore,Nn),o=yf(i),s;return s=typeof(e=Mt(e))=="string"||e instanceof Mi?JC(o,"updateDoc",t._key,e,n,r):ZC(o,"updateDoc",t._key,e),Av(i,[s.toMutation(t._key,Cn.exists(!0))])}function dS(t){return Av(on(t.firestore,Nn),[new cs(t._key,Cn.none())])}function fS(t,e){let n=on(t.firestore,Nn),r=Oi(t),i=UV(t.converter,e),o=yf(t.firestore);return Av(n,[YC(o,"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Cn.exists(!1))]).then(()=>r)}function Av(t,e){let n=Ic(t);return qC(n,e)}function HV(t,e,n){let r=n.docs.get(e._key),i=new yc(t);return new Fi(t,i,e._key,r,new ki(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){ET(pd),yi(new en("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),c=new Nn(new Cd(r.getProvider("auth-internal")),new Ad(s,r.getProvider("app-check-internal")),qT(s,i),s);return o=P({useFetchStreams:n},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),tn(rS,iS,e),tn(rS,iS,"esm2020")})();var zV="firebase",qV="12.9.0";tn(zV,qV,"app");var vS="firebasestorage.googleapis.com",GV="storageBucket",WV=2*60*1e3,KV=10*60*1e3;var Pn=class t extends Xt{constructor(e,n,r=0){super(xv(e),`Firebase Storage: ${n} (${xv(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return xv(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},ir=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(ir||{});function xv(t){return"storage/"+t}function QV(){let t="An unknown error occurred, please check the error payload for server response.";return new Pn(ir.UNKNOWN,t)}function YV(){return new Pn(ir.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function ZV(){return new Pn(ir.CANCELED,"User canceled the upload/download.")}function JV(t){return new Pn(ir.INVALID_URL,"Invalid URL '"+t+"'.")}function XV(t){return new Pn(ir.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function hS(t){return new Pn(ir.INVALID_ARGUMENT,t)}function _S(){return new Pn(ir.APP_DELETED,"The Firebase app was deleted.")}function e2(t){return new Pn(ir.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}var rr=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(r.path==="")return r;throw XV(e)}static makeFromUrl(e,n){let r=null,i="([A-Za-z0-9.\\-_]+)";function o(me){me.path.charAt(me.path.length-1)==="/"&&(me.path_=me.path_.slice(0,-1))}let s="(/(.*))?$",c=new RegExp("^gs://"+i+s,"i"),u={bucket:1,path:3};function l(me){me.path_=decodeURIComponent(me.path)}let f="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",y=new RegExp(`^https?://${p}/${f}/b/${i}/o${m}`,"i"),C={bucket:1,path:3},A=n===vS?"(?:storage.googleapis.com|storage.cloud.google.com)":n,x="([^?#]*)",B=new RegExp(`^https?://${A}/${i}/${x}`,"i"),W=[{regex:c,indices:u,postModify:o},{regex:y,indices:C,postModify:l},{regex:B,indices:{bucket:1,path:2},postModify:l}];for(let me=0;me<W.length;me++){let Qe=W[me],Ne=Qe.regex.exec(e);if(Ne){let I=Ne[Qe.indices.bucket],v=Ne[Qe.indices.path];v||(v=""),r=new t(I,v),Qe.postModify(r);break}}if(r==null)throw JV(e);return r}},Rv=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function t2(t,e,n){let r=1,i=null,o=null,s=!1,c=0;function u(){return c===2}let l=!1;function f(...x){l||(l=!0,e.apply(null,x))}function p(x){i=setTimeout(()=>{i=null,t(y,u())},x)}function m(){o&&clearTimeout(o)}function y(x,...B){if(l){m();return}if(x){m(),f.call(null,x,...B);return}if(u()||s){m(),f.call(null,x,...B);return}r<64&&(r*=2);let W;c===1?(c=2,W=0):W=(r+Math.random())*1e3,p(W)}let C=!1;function A(x){C||(C=!0,m(),!l&&(i!==null?(x||(c=2),clearTimeout(i),p(0)):x||(c=1)))}return p(0),o=setTimeout(()=>{s=!0,A(!0)},n),A}function n2(t){t(!1)}function r2(t){return t!==void 0}function pS(t,e,n,r){if(r<e)throw hS(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw hS(`Invalid value for '${t}'. Expected ${n} or less.`)}function i2(t){let e=encodeURIComponent,n="?";for(let r in t)if(t.hasOwnProperty(r)){let i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Mv=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(Mv||{});function o2(t,e){let n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}var Nv=class{constructor(e,n,r,i,o,s,c,u,l,f,p,m=!0,y=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=c,this.errorCallback_=u,this.timeout_=l,this.progressCallback_=f,this.connectionFactory_=p,this.retry=m,this.isUsingEmulator=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,A)=>{this.resolve_=C,this.reject_=A,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new _s(!1,null,!0));return}let o=this.connectionFactory_();this.pendingConnection_=o;let s=c=>{let u=c.loaded,l=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,l)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;let c=o.getErrorCode()===Mv.NO_ERROR,u=o.getStatus();if(!c||o2(u,this.additionalRetryCodes_)&&this.retry){let f=o.getErrorCode()===Mv.ABORT;r(!1,new _s(!1,null,f));return}let l=this.successCodes_.indexOf(u)!==-1;r(!0,new _s(l,o))})},n=(r,i)=>{let o=this.resolve_,s=this.reject_,c=i.connection;if(i.wasSuccessCode)try{let u=this.callback_(c,c.getResponse());r2(u)?o(u):o()}catch(u){s(u)}else if(c!==null){let u=QV();u.serverResponse=c.getErrorText(),this.errorCallback_?s(this.errorCallback_(c,u)):s(u)}else if(i.canceled){let u=this.appDelete_?_S():ZV();s(u)}else{let u=YV();s(u)}};this.canceled_?n(!1,new _s(!1,null,!0)):this.backoffId_=t2(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&n2(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},_s=class{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}};function s2(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function a2(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function c2(t,e){e&&(t["X-Firebase-GMPID"]=e)}function u2(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function l2(t,e,n,r,i,o,s=!0,c=!1){let u=i2(t.urlParams),l=t.url+u,f=Object.assign({},t.headers);return c2(f,e),s2(f,n),a2(f,o),u2(f,r),new Nv(l,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s,c)}function d2(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function f2(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}var i9=256*1024;var Pv=class t{constructor(e,n){this._service=e,n instanceof rr?this._location=n:this._location=rr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new rr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return f2(this._location.path)}get storage(){return this._service}get parent(){let e=d2(this._location.path);if(e===null)return null;let n=new rr(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw e2(e)}};function gS(t,e){let n=e?.[GV];return n==null?null:rr.makeFromBucketSpec(n,t)}function h2(t,e,n,r={}){t.host=`${e}:${n}`;let i=zo(e);i&&(sd(`https://${t.host}/b`),cd("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";let{mockUserToken:o}=r;o&&(t._overrideAuthToken=typeof o=="string"?o:ad(o,t.app.options.projectId))}var Ov=class{constructor(e,n,r,i,o,s=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._isUsingEmulator=s,this._bucket=null,this._host=vS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=WV,this._maxUploadRetryTime=KV,this._requests=new Set,i!=null?this._bucket=rr.makeFromBucketSpec(i,this._host):this._bucket=gS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=rr.makeFromBucketSpec(this._url,e):this._bucket=gS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){pS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){pS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return O(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=yield e.getToken();if(n!==null)return n.accessToken}return null})}_getAppCheckToken(){return O(this,null,function*(){if(hd(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Pv(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new Rv(_S());{let s=l2(e,this._appId,r,i,n,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,n){return O(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()})}},mS="@firebase/storage",yS="0.14.0";var wS="storage";function ES(t=gd(),e){t=Mt(t);let r=fd(t,wS).getImmediate({identifier:e}),i=od("storage");return i&&p2(r,...i),r}function p2(t,e,n,r={}){h2(t,e,n,r)}function g2(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Ov(n,r,i,e,pd)}function m2(){yi(new en(wS,g2,"PUBLIC").setMultipleInstances(!0)),tn(mS,yS,""),tn(mS,yS,"esm2020")}m2();var y2={apiKey:"AIzaSyAkl64Rjuabs7BwCNTxYdJevbryAon9R5I",authDomain:"game-portfolio-e922f.firebaseapp.com",projectId:"game-portfolio-e922f",storageBucket:"game-portfolio-e922f.firebasestorage.app",messagingSenderId:"654613936705",appId:"1:654613936705:web:a0215cd64670f09c1724c0"},IS=ym(y2),Or=Ev(IS),f9=ES(IS);var ws=class t{collectionName="projects";getAll(){return ve(wf(ms(Or,this.collectionName))).pipe(Z(e=>e.docs.map(n=>P({id:n.id},n.data()))))}getById(e){return ve(uS(Oi(Or,this.collectionName,e))).pipe(Z(n=>n.exists()?P({id:n.id},n.data()):void 0))}getByCategory(e){return ve(wf(Sv(ms(Or,this.collectionName),aS("category","array-contains",e)))).pipe(Z(n=>n.docs.map(r=>P({id:r.id},r.data()))))}getGroupedByCategory(){return this.getAll().pipe(Z(e=>{let n=new Map;return e.forEach(r=>{(Array.isArray(r.category)?r.category:[r.category]).forEach(o=>{n.has(o)||n.set(o,[]),n.get(o).push(r)})}),n}))}create(e){return ve(fS(ms(Or,this.collectionName),ye(P({},e),{createdAt:Re.now(),updatedAt:Re.now()}))).pipe(Z(n=>n.id))}update(e,n){return ve(lS(Oi(Or,this.collectionName,e),ye(P({},n),{updatedAt:Re.now()})))}delete(e){return ve(dS(Oi(Or,this.collectionName,e)))}search(e){return ve(wf(Sv(ms(Or,this.collectionName),...e))).pipe(Z(n=>n.docs.map(r=>P({id:r.id},r.data()))))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})};var Es=class t{constructor(e,n){this.httpService=e;this.firestoreService=n}USE_FIRESTORE=!0;getAll(){return this.USE_FIRESTORE?this.firestoreService.getAll():this.httpService.getAll()}getById(e){return this.USE_FIRESTORE?this.firestoreService.getById(e):this.httpService.getById(e)}getByCategory(e){return this.USE_FIRESTORE?this.firestoreService.getByCategory(e):this.httpService.getByCategory(e)}getGroupedByCategory(){return this.USE_FIRESTORE?this.firestoreService.getGroupedByCategory():this.httpService.getGroupedByCategory()}static \u0275fac=function(n){return new(n||t)(q(rd),q(ws))};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})};var v2=t=>["/project",t];function _2(t,e){if(t&1&&ke(0,"button"),t&2){let n=e.index,r=Ce().$implicit;Co("active",n===0),vn("data-bs-target","#carousel-"+r)("data-bs-slide-to",n)("aria-label","Diapositiva "+(n+1))}}function w2(t,e){if(t&1&&ke(0,"img",36),t&2){let n=Ce().$implicit;J("src",n.images[0],mn)("alt",n.title)}}function E2(t,e){t&1&&(F(0,"div",37),ri(),F(1,"svg",38),ke(2,"rect",39)(3,"circle",40)(4,"path",41),V()())}function I2(t,e){if(t&1&&(F(0,"span",44),K(1),V()),t&2){let n=e.$implicit;H(),et(n)}}function b2(t,e){if(t&1&&(F(0,"div",42),Oe(1,I2,2,1,"span",43),V()),t&2){let n=Ce().$implicit;H(),J("ngForOf",n.tags)}}function D2(t,e){if(t&1&&(F(0,"div",26)(1,"a",27)(2,"div",28),Oe(3,w2,1,2,"img",29)(4,E2,5,0,"div",30),V(),F(5,"div",31)(6,"h3",32),K(7),V(),F(8,"p",33),K(9),V(),F(10,"p",34),K(11),V(),Oe(12,b2,2,1,"div",35),V()()()),t&2){let n=e.$implicit;H(),J("routerLink",xb(8,v2,n.id)),H(2),J("ngIf",n.images&&n.images[0]),H(),J("ngIf",!n.images||n.images.length===0),H(3),et(n.title),H(2),pa("",n.engine," \xB7 ",n.year,""),H(2),et(n.shortDescription),H(),J("ngIf",n.tags)}}function T2(t,e){if(t&1&&(F(0,"div",23)(1,"div",24),Oe(2,D2,13,10,"div",25),V()()),t&2){let n=e.$implicit,r=e.index;Co("active",r===0),H(2),J("ngForOf",n)}}function C2(t,e){if(t&1&&(F(0,"div",11)(1,"h2",12),K(2),V(),F(3,"div",13)(4,"div",14)(5,"div",15),Oe(6,_2,1,5,"button",16),V(),F(7,"div",17),Oe(8,T2,3,3,"div",18),V(),F(9,"button",19),ke(10,"span",20),V(),F(11,"button",21),ke(12,"span",22),V()()()()),t&2){let n=e.$implicit,r=Ce(2);vn("id",n),H(2),et(r.getCategoryLabel(n)),H(2),J("id","carousel-"+n),H(2),J("ngForOf",r.getProjectGroups(n)),H(2),J("ngForOf",r.getProjectGroups(n)),H(),vn("data-bs-target","#carousel-"+n)("aria-label","Anterior: "+r.getCategoryLabel(n)),H(2),vn("data-bs-target","#carousel-"+n)("aria-label","Siguiente: "+r.getCategoryLabel(n))}}function S2(t,e){if(t&1&&(la(0),Oe(1,C2,13,9,"div",10),da()),t&2){let n=Ce();H(),J("ngForOf",n.getVisibleCategories())}}function A2(t,e){t&1&&(F(0,"p",45),K(1,"Cargando proyectos..."),V())}var Ef=class t{constructor(e){this.projectsService=e}categories=new Map;categoryOrder=["proyecto","vr","gamejam"];categoryLabels={proyecto:"Proyectos",vr:"Realidad Virtual",gamejam:"Game Jam"};ngOnInit(){this.projectsService.getAll().subscribe(e=>{this.categoryOrder.forEach(n=>{let r=e.filter(i=>Array.isArray(i.category)?i.category.includes(n):i.category===n);r.length>0&&this.categories.set(n,r)})})}getCategoryLabel(e){return this.categoryLabels[e]||e}getVisibleCategories(){return this.categoryOrder.filter(e=>this.categories.has(e))}getProjectsByCategory(e){return this.categories.get(e)||[]}getProjectGroups(e){let n=this.getProjectsByCategory(e),r=[];for(let i=0;i<n.length;i+=3)r.push(n.slice(i,i+3));return r}static \u0275fac=function(n){return new(n||t)(Ae(Es))};static \u0275cmp=Ft({type:t,selectors:[["app-home"]],decls:23,vars:2,consts:[["noProjects",""],[1,"projects-section"],[4,"ngIf","ngIfElse"],["id","about",1,"about-section"],[1,"about-container"],[1,"about-title"],[1,"about-content"],[1,"about-text"],[1,"about-skills"],[1,"skills-list"],["class","category-section",4,"ngFor","ngForOf"],[1,"category-section"],[1,"category-title"],[1,"carousel-container"],["data-bs-ride","carousel",1,"carousel","slide",3,"id"],[1,"carousel-indicators"],[3,"active",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item",3,"active",4,"ngFor","ngForOf"],["data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],["data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],[1,"carousel-item"],[1,"projects-grid"],["class","card-wrapper",4,"ngFor","ngForOf"],[1,"card-wrapper"],[1,"card","card-link",3,"routerLink"],[1,"card-image"],[3,"src","alt",4,"ngIf"],["class","card-placeholder",4,"ngIf"],[1,"card-body"],[1,"card-title"],[1,"card-meta"],[1,"card-description"],["class","card-tags",4,"ngIf"],[3,"src","alt"],[1,"card-placeholder"],["viewBox","0 0 200 200","xmlns","http://www.w3.org/2000/svg"],["width","200","height","200","fill","#e9ecef"],["cx","100","cy","60","r","25","fill","#adb5bd"],["d","M 50 200 Q 100 150 150 200","fill","#adb5bd"],[1,"card-tags"],["class","tag",4,"ngFor","ngForOf"],[1,"tag"],[1,"loading"]],template:function(n,r){if(n&1&&(F(0,"section",1),Oe(1,S2,2,1,"ng-container",2)(2,A2,2,0,"ng-template",null,0,ga),V(),F(4,"section",3)(5,"div",4)(6,"h2",5),K(7,"Sobre m\xED"),V(),F(8,"div",6)(9,"p",7),K(10," Soy un desarrollador de videojuegos apasionado por crear experiencias interactivas y emocionantes. Con experiencia en m\xFAltiples motores de juego y lenguajes de programaci\xF3n, me especializo en dise\xF1o de mec\xE1nicas de juego, programaci\xF3n de sistemas y optimizaci\xF3n de rendimiento. "),V(),F(11,"p",7),K(12," Mi creatividad y dedicaci\xF3n al detalle me permiten transformar ideas en juegos funcionales y pulidos. Disfruto colaborando en game jams, donde experimento con nuevas tecnolog\xEDas y conceptos creativos bajo presi\xF3n. "),V(),F(13,"div",8)(14,"h3"),K(15,"Habilidades t\xE9cnicas"),V(),F(16,"ul",9)(17,"li"),K(18,"Motores: Unity, Unreal Engine, Godot"),V(),F(19,"li"),K(20,"Lenguajes: C#, C++, GDScript"),V(),F(21,"li"),K(22,"Conceptos: Programaci\xF3n orientada a objetos, Sistemas de juego, IA, Optimizaci\xF3n"),V()()()()()()),n&2){let i=ha(3);H(),J("ngIf",r.getVisibleCategories().length>0)("ngIfElse",i)}},dependencies:[Er,wr,oi,Ka,Ho],styles:['@charset "UTF-8";.projects-section[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:80px 20px;background:#f0f4f8}@media (max-width: 768px){.projects-section[_ngcontent-%COMP%]{padding:60px 20px}}.category-section[_ngcontent-%COMP%]{margin-bottom:100px}.category-section[_ngcontent-%COMP%]:last-child{margin-bottom:0}@media (max-width: 768px){.category-section[_ngcontent-%COMP%]{margin-bottom:70px}}.category-title[_ngcontent-%COMP%]{text-align:center;font-size:2.2rem;margin-bottom:60px;color:#3a4a5a;font-weight:600;letter-spacing:-.5px}@media (max-width: 768px){.category-title[_ngcontent-%COMP%]{font-size:1.8rem;margin-bottom:40px}}.carousel-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:50px}.carousel[_ngcontent-%COMP%]{position:relative;width:100%;padding:0 70px}@media (max-width: 1024px){.carousel[_ngcontent-%COMP%]{padding:0 60px}}@media (max-width: 768px){.carousel[_ngcontent-%COMP%]{padding:0}}.carousel[_ngcontent-%COMP%]   .carousel-inner[_ngcontent-%COMP%]{border-radius:12px;overflow:hidden}.carousel[_ngcontent-%COMP%]   .carousel-item[_ngcontent-%COMP%]{padding:20px 0;display:none;transition:opacity .6s ease-in-out}@media (max-width: 768px){.carousel[_ngcontent-%COMP%]   .carousel-item[_ngcontent-%COMP%]{padding:16px 0}}.carousel[_ngcontent-%COMP%]   .carousel-item.active[_ngcontent-%COMP%]{display:flex;opacity:1}.carousel[_ngcontent-%COMP%]   .carousel-item.carousel-item-next[_ngcontent-%COMP%], .carousel[_ngcontent-%COMP%]   .carousel-item.carousel-item-prev[_ngcontent-%COMP%]{display:flex}.carousel[_ngcontent-%COMP%]   .carousel-indicators[_ngcontent-%COMP%]{position:relative;margin:30px 0 0;bottom:auto;display:flex;justify-content:center;gap:8px}.carousel[_ngcontent-%COMP%]   .carousel-indicators[_ngcontent-%COMP%]   [data-bs-slide-to][_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%;border:2px solid #d4dce5;background:#fafbfc;padding:0;box-sizing:border-box;transition:all .3s ease}.carousel[_ngcontent-%COMP%]   .carousel-indicators[_ngcontent-%COMP%]   [data-bs-slide-to].active[_ngcontent-%COMP%]{background:#5b7fbf;border-color:#5b7fbf;width:28px;border-radius:5px;box-shadow:0 0 12px #5b7fbf66}.carousel[_ngcontent-%COMP%]   .carousel-indicators[_ngcontent-%COMP%]   [data-bs-slide-to][_ngcontent-%COMP%]:hover{border-color:#5b7fbf}.carousel[_ngcontent-%COMP%]   .carousel-indicators[_ngcontent-%COMP%]   [data-bs-slide-to][_ngcontent-%COMP%]:focus{outline:2px solid #5b7fbf;outline-offset:2px}.carousel[_ngcontent-%COMP%]   .carousel-control-prev[_ngcontent-%COMP%], .carousel[_ngcontent-%COMP%]   .carousel-control-next[_ngcontent-%COMP%]{width:48px;height:48px;top:50%;transform:translateY(-50%);background:#fafbfc;border:2px solid #d4dce5;border-radius:8px;opacity:1;box-shadow:0 2px 8px #0000000a;position:absolute;transition:all .3s ease}@media (max-width: 768px){.carousel[_ngcontent-%COMP%]   .carousel-control-prev[_ngcontent-%COMP%], .carousel[_ngcontent-%COMP%]   .carousel-control-next[_ngcontent-%COMP%]{width:40px;height:40px}}.carousel[_ngcontent-%COMP%]   .carousel-control-prev[_ngcontent-%COMP%]:hover, .carousel[_ngcontent-%COMP%]   .carousel-control-next[_ngcontent-%COMP%]:hover{background:#f0f4f8;border-color:#5b7fbf;box-shadow:0 4px 12px #5b7fbf33}.carousel[_ngcontent-%COMP%]   .carousel-control-prev[_ngcontent-%COMP%]:focus, .carousel[_ngcontent-%COMP%]   .carousel-control-next[_ngcontent-%COMP%]:focus{outline:2px solid #5b7fbf;outline-offset:2px}.carousel[_ngcontent-%COMP%]   .carousel-control-prev[_ngcontent-%COMP%]:disabled, .carousel[_ngcontent-%COMP%]   .carousel-control-next[_ngcontent-%COMP%]:disabled{opacity:.3;cursor:not-allowed}.carousel[_ngcontent-%COMP%]   .carousel-control-prev[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .carousel[_ngcontent-%COMP%]   .carousel-control-next[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{filter:brightness(.4)}.carousel[_ngcontent-%COMP%]   .carousel-control-prev[_ngcontent-%COMP%]{left:0}@media (max-width: 768px){.carousel[_ngcontent-%COMP%]   .carousel-control-prev[_ngcontent-%COMP%]{left:10px}}.carousel[_ngcontent-%COMP%]   .carousel-control-next[_ngcontent-%COMP%]{right:0}@media (max-width: 768px){.carousel[_ngcontent-%COMP%]   .carousel-control-next[_ngcontent-%COMP%]{right:10px}}.card[_ngcontent-%COMP%]{background:#fafbfc;border-radius:8px;overflow:hidden;box-shadow:0 4px 12px #0000000f;transition:all .3s ease;border:1px solid #d4dce5;display:flex;flex-direction:column;height:100%;width:100%}.card[_ngcontent-%COMP%]:hover{box-shadow:0 12px 24px #5b7fbf1f;border-color:#5b7fbf}.card-link[_ngcontent-%COMP%]{text-decoration:none;color:inherit;cursor:pointer}.card-link[_ngcontent-%COMP%]:hover{transform:translateY(-4px)}.projects-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:24px;width:100%;max-width:1050px;margin:0 auto}@media (max-width: 1200px){.projects-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);max-width:700px}}@media (max-width: 768px){.projects-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:16px;padding:0 20px;box-sizing:border-box;max-width:100%}}.card-wrapper[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center}.card-image[_ngcontent-%COMP%]{width:100%;height:160px;background:linear-gradient(135deg,#e2e8f0,#cbd5e1);overflow:hidden;display:flex;align-items:center;justify-content:center}.card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}@media (max-width: 768px){.card-image[_ngcontent-%COMP%]{height:140px}}.card-placeholder[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center}.card-placeholder[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:60%;height:60%;opacity:.12}.card-placeholder[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   rect[_ngcontent-%COMP%]{fill:#d4dce5}.card-placeholder[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%], .card-placeholder[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#a8b5c5}.card-body[_ngcontent-%COMP%]{padding:16px;display:flex;flex-direction:column;gap:6px;flex-grow:1}@media (max-width: 768px){.card-body[_ngcontent-%COMP%]{padding:14px;gap:5px}}.card-title[_ngcontent-%COMP%]{margin:0;font-size:1.15rem;color:#3a4a5a;font-weight:600}@media (max-width: 768px){.card-title[_ngcontent-%COMP%]{font-size:1rem}}.card-meta[_ngcontent-%COMP%]{margin:0;font-size:.75rem;color:#8a9aaa;font-weight:500}.card-description[_ngcontent-%COMP%]{margin:0;font-size:.8rem;color:#6a7a8a;line-height:1.3;flex-grow:1}.card-tags[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;margin-top:8px}.tag[_ngcontent-%COMP%]{background:#e8f0ff;color:#2d5aa8;padding:4px 10px;border-radius:4px;font-size:.8rem;font-weight:500;border:1px solid #c5dff8;transition:all .2s ease}.tag[_ngcontent-%COMP%]:hover{background:#5b7fbf;color:#fff;border-color:#5b7fbf}.loading[_ngcontent-%COMP%]{text-align:center;font-size:1rem;color:#8a9aaa;padding:60px 20px}.about-section[_ngcontent-%COMP%]{background:#fafbfc;border-top:1px solid #d4dce5;padding:80px 20px}@media (max-width: 768px){.about-section[_ngcontent-%COMP%]{padding:60px 20px}}.about-container[_ngcontent-%COMP%]{max-width:900px;margin:0 auto}.about-title[_ngcontent-%COMP%]{text-align:center;font-size:2.2rem;margin-bottom:60px;color:#3a4a5a;font-weight:600;letter-spacing:-.5px}@media (max-width: 768px){.about-title[_ngcontent-%COMP%]{font-size:1.8rem;margin-bottom:40px}}.about-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:24px}.about-text[_ngcontent-%COMP%]{font-size:1rem;line-height:1.8;color:#6a7a8a;margin:0;text-align:justify}@media (max-width: 768px){.about-text[_ngcontent-%COMP%]{font-size:.95rem;text-align:left}}.about-skills[_ngcontent-%COMP%]{margin-top:24px;padding:24px;background:#f0f4f8;border-radius:8px;border-left:4px solid #5b7fbf;box-shadow:0 4px 16px #5b7fbf0d}.about-skills[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 16px;font-size:1.2rem;color:#3a4a5a;font-weight:600}@media (max-width: 768px){.about-skills[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.05rem}}.skills-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:12px}.skills-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:.95rem;color:#6a7a8a;padding-left:24px;position:relative}.skills-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"\\2192";position:absolute;left:0;color:#5b7fbf;font-weight:600}@media (max-width: 768px){.skills-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:.9rem}}']})};function x2(t,e){if(t&1&&ke(0,"video",21),t&2){let n=Ce(3);J("src",n.getMediaUrl(n.project.images[n.selectedImageIndex]),mn)}}function R2(t,e){if(t&1&&ke(0,"img",22),t&2){let n=Ce(3);J("src",n.getMediaUrl(n.project.images[n.selectedImageIndex]),mn)("alt",n.project.title)}}function M2(t,e){if(t&1&&(la(0),Oe(1,x2,1,1,"video",19)(2,R2,1,2,"img",20),da()),t&2){let n=Ce(2);H(),J("ngIf",n.isVideo(n.project.images[n.selectedImageIndex])),H(),J("ngIf",!n.isVideo(n.project.images[n.selectedImageIndex]))}}function N2(t,e){t&1&&(F(0,"div",23),ri(),F(1,"svg",24),ke(2,"rect",25),F(3,"text",26),K(4,"No hay contenido"),V()()())}function P2(t,e){if(t&1&&ke(0,"img",34),t&2){let n=Ce(),r=n.$implicit,i=n.index,o=Ce(3);J("src",o.getMediaUrl(r),mn)("alt","Miniatura "+(i+1))}}function O2(t,e){t&1&&(F(0,"div",35),ri(),F(1,"svg",36),ke(2,"rect",37)(3,"polygon",38),V()())}function k2(t,e){if(t&1){let n=fa();F(0,"button",30),vr("click",function(){let i=ia(n).index,o=Ce(3);return oa(o.selectImage(i))}),F(1,"div",31),Oe(2,P2,1,2,"img",32)(3,O2,4,0,"div",33),V()()}if(t&2){let n=e.$implicit,r=e.index,i=Ce(3);Co("active",i.selectedImageIndex===r),vn("aria-label",(i.isVideo(n)?"Ver video ":"Ver imagen ")+(r+1)),H(2),J("ngIf",!i.isVideo(n)),H(),J("ngIf",i.isVideo(n))}}function F2(t,e){if(t&1&&(F(0,"div",27)(1,"div",28),Oe(2,k2,4,5,"button",29),V()()),t&2){let n=Ce(2);H(2),J("ngForOf",n.project.images)}}function L2(t,e){if(t&1&&(F(0,"span",39),K(1),V()),t&2){let n=e.$implicit;H(),et(n)}}function V2(t,e){if(t&1&&(F(0,"a",40),K(1,"GitHub"),V()),t&2){let n=Ce(2);J("href",n.project.links.github,mn)}}function j2(t,e){if(t&1&&(F(0,"a",40),K(1,"Itch"),V()),t&2){let n=Ce(2);J("href",n.project.links.itch,mn)}}function B2(t,e){if(t&1&&(F(0,"a",40),K(1,"Demo"),V()),t&2){let n=Ce(2);J("href",n.project.links.demo,mn)}}function U2(t,e){if(t&1&&(F(0,"section",3)(1,"div",4)(2,"div",5)(3,"div",6),Oe(4,M2,3,2,"ng-container",7)(5,N2,5,0,"ng-template",null,1,ga),V(),Oe(7,F2,3,1,"div",8),F(8,"div",9)(9,"h1",10),K(10),V(),F(11,"span",11),K(12),V()(),F(13,"p",12),K(14),V()(),F(15,"aside",13)(16,"div",14)(17,"strong"),K(18,"Motor:"),V(),K(19),V(),F(20,"div",14)(21,"strong"),K(22,"Lenguaje:"),V(),K(23),V(),F(24,"div",14)(25,"strong"),K(26,"A\xF1o:"),V(),K(27),V(),F(28,"div",14)(29,"strong"),K(30,"Etiquetas:"),V(),F(31,"div",15),Oe(32,L2,2,1,"span",16),V()(),F(33,"div",17),Oe(34,V2,2,1,"a",18)(35,j2,2,1,"a",18)(36,B2,2,1,"a",18),V()()()()),t&2){let n=ha(6),r=Ce();H(4),J("ngIf",r.project.images&&r.project.images.length>0)("ngIfElse",n),H(3),J("ngIf",r.project.images&&r.project.images.length>1),H(3),et(r.project.title),H(),J("ngClass","status-"+r.project.status),H(),et(r.getStatusLabel(r.project.status)),H(2),et(r.project.longDescription),H(5),Hn(" ",r.project.engine,""),H(4),Hn(" ",r.project.language,""),H(4),Hn(" ",r.project.year,""),H(5),J("ngForOf",r.project.tags),H(2),J("ngIf",r.project.links.github),H(),J("ngIf",r.project.links.itch),H(),J("ngIf",r.project.links.demo)}}function $2(t,e){t&1&&(F(0,"p"),K(1,"Proyecto no encontrado"),V())}var If=class t{constructor(e,n){this.route=e;this.projectsService=n}project;selectedImageIndex=0;ngOnInit(){let e=this.route.snapshot.paramMap.get("id");e&&this.projectsService.getById(e).subscribe(n=>{this.project=n,this.selectedImageIndex=0})}selectImage(e){this.selectedImageIndex=e}isVideo(e){return typeof e=="object"&&e.type==="video"}getMediaUrl(e){return typeof e=="string"?e:e.url}getStatusLabel(e){return{terminado:"Terminado","en-desarrollo":"En Desarrollo",pausado:"Pausado",prototipo:"Prototipo"}[e]||e}static \u0275fac=function(n){return new(n||t)(Ae(Lt),Ae(Es))};static \u0275cmp=Ft({type:t,selectors:[["app-project-detail"]],decls:3,vars:2,consts:[["notFound",""],["placeholder",""],["class","project-detail",4,"ngIf","ngIfElse"],[1,"project-detail"],[1,"content"],[1,"main"],[1,"media-wrap"],[4,"ngIf","ngIfElse"],["class","thumbnails-carousel",4,"ngIf"],[1,"header-with-status"],[1,"title"],[1,"status-badge",3,"ngClass"],[1,"description"],[1,"sidebar"],[1,"meta"],[1,"tags"],["class","tag",4,"ngFor","ngForOf"],[1,"links"],["target","_blank","rel","noopener",3,"href",4,"ngIf"],["controls","","controlsList","nodownload","class","main-video",3,"src",4,"ngIf"],["class","main-image",3,"src","alt",4,"ngIf"],["controls","","controlsList","nodownload",1,"main-video",3,"src"],[1,"main-image",3,"src","alt"],[1,"placeholder"],["viewBox","0 0 600 360","xmlns","http://www.w3.org/2000/svg"],["width","100%","height","100%","fill","#eef3fb"],["x","50%","y","50%","dominant-baseline","middle","text-anchor","middle","fill","#a3b3d1","font-size","28"],[1,"thumbnails-carousel"],[1,"thumbnails-container"],["class","thumbnail",3,"active","click",4,"ngFor","ngForOf"],[1,"thumbnail",3,"click"],[1,"thumbnail-content"],[3,"src","alt",4,"ngIf"],["class","video-thumbnail",4,"ngIf"],[3,"src","alt"],[1,"video-thumbnail"],["viewBox","0 0 100 100","xmlns","http://www.w3.org/2000/svg"],["width","100","height","100","fill","#333"],["points","35,25 35,75 75,50","fill","#fff"],[1,"tag"],["target","_blank","rel","noopener",3,"href"]],template:function(n,r){if(n&1&&Oe(0,U2,37,14,"section",2)(1,$2,2,0,"ng-template",null,0,ga),n&2){let i=ha(2);J("ngIf",r.project)("ngIfElse",i)}},dependencies:[Er,lg,wr,oi],styles:[".project-detail[_ngcontent-%COMP%]{padding:28px 20px}.project-detail[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;display:flex;gap:32px;align-items:flex-start}@media (max-width: 900px){.project-detail[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{flex-direction:column;gap:20px}}.project-detail[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]{flex:1 1 auto}.project-detail[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .media-wrap[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:10px;overflow:hidden;margin-bottom:12px;background:#f6f9ff;display:flex;align-items:center;justify-content:center}.project-detail[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .media-wrap[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{width:100%;height:auto;display:block;object-fit:cover}.project-detail[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .media-wrap[_ngcontent-%COMP%]   .main-video[_ngcontent-%COMP%]{width:100%;height:auto;display:block}.project-detail[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .media-wrap[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{width:100%;height:380px;display:flex;align-items:center;justify-content:center;background:#f6f9ff;border-radius:10px}.project-detail[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .thumbnails-carousel[_ngcontent-%COMP%]{margin-bottom:16px;overflow-x:auto;overflow-y:hidden;scrollbar-width:thin}.project-detail[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .thumbnails-carousel[_ngcontent-%COMP%]::-webkit-scrollbar{height:6px}.project-detail[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .thumbnails-carousel[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f0f4f8;border-radius:10px}.project-detail[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .thumbnails-carousel[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:10px}.project-detail[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .thumbnails-carousel[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#94a3b8}.project-detail[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .thumbnails-carousel[_ngcontent-%COMP%]   .thumbnails-container[_ngcontent-%COMP%]{display:flex;gap:8px;padding:4px 0}.project-detail[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .thumbnails-carousel[_ngcontent-%COMP%]   .thumbnail[_ngcontent-%COMP%]{flex-shrink:0;width:80px;height:80px;border:2px solid transparent;border-radius:6px;overflow:hidden;background:#fff;cursor:pointer;transition:all .2s ease;padding:0}.project-detail[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .thumbnails-carousel[_ngcontent-%COMP%]   .thumbnail[_ngcontent-%COMP%]   .thumbnail-content[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center}.project-detail[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .thumbnails-carousel[_ngcontent-%COMP%]   .thumbnail[_ngcontent-%COMP%]   .thumbnail-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block}.project-detail[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .thumbnails-carousel[_ngcontent-%COMP%]   .thumbnail[_ngcontent-%COMP%]   .thumbnail-content[_ngcontent-%COMP%]   .video-thumbnail[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;background:#1f2937}.project-detail[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .thumbnails-carousel[_ngcontent-%COMP%]   .thumbnail[_ngcontent-%COMP%]   .thumbnail-content[_ngcontent-%COMP%]   .video-thumbnail[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:70%;height:70%}.project-detail[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .thumbnails-carousel[_ngcontent-%COMP%]   .thumbnail[_ngcontent-%COMP%]:hover{border-color:#cbd5e1;transform:scale(1.05)}.project-detail[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .thumbnails-carousel[_ngcontent-%COMP%]   .thumbnail.active[_ngcontent-%COMP%]{border-color:#5b7fbf;box-shadow:0 0 0 2px #5b7fbf33}.project-detail[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .header-with-status[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:12px}.project-detail[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.6rem;margin:0;font-weight:700;color:#24384f}.project-detail[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{padding:6px 14px;border-radius:999px;font-size:.75rem;font-weight:700;text-transform:uppercase;letter-spacing:.5px;white-space:nowrap}.project-detail[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .status-badge.status-terminado[_ngcontent-%COMP%]{background:#d1fae5;color:#065f46}.project-detail[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .status-badge.status-en-desarrollo[_ngcontent-%COMP%]{background:#bfdbfe;color:#1e40af}.project-detail[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .status-badge.status-pausado[_ngcontent-%COMP%]{background:#fed7aa;color:#92400e}.project-detail[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .status-badge.status-prototipo[_ngcontent-%COMP%]{background:#e9d5ff;color:#6b21a8}.project-detail[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#475569;line-height:1.6;margin:0 0 18px}.project-detail[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]{width:320px;flex-shrink:0;background:#fff;border:1px solid #e6eefc;padding:18px;border-radius:10px;box-shadow:0 6px 18px #24384f0a}.project-detail[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]{margin-bottom:10px;color:#334155;font-weight:600;display:flex;justify-content:space-between;gap:8px}.project-detail[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]{margin-top:6px}.project-detail[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{display:inline-block;background:#eef3fb;color:#1f3b6f;padding:6px 10px;margin:4px 6px 0 0;border-radius:999px;font-size:.85rem;font-weight:600}.project-detail[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]{margin-top:14px;display:flex;flex-direction:column;gap:8px}.project-detail[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;background:#5b7fbf;text-decoration:none;padding:8px 10px;border-radius:8px;text-align:center;font-weight:700}@media (max-width: 900px){.project-detail[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]{width:100%}}"]})};function H2(t,e){if(t&1){let n=fa();F(0,"div")(1,"button",9),vr("click",function(){ia(n);let i=Ce();return oa(i.migrateProjects())}),K(2),V()()}if(t&2){let n=Ce();H(),J("disabled",n.isMigrating),H(),Hn(" ",n.isMigrating?"\u23F3 Migrando...":"\u{1F4E4} Iniciar Migraci\xF3n"," ")}}function z2(t,e){if(t&1){let n=fa();F(0,"div",10)(1,"h5"),K(2,"\u2705 \xA1Migraci\xF3n Completada!"),V(),F(3,"p"),K(4),V(),F(5,"button",11),vr("click",function(){ia(n);let i=Ce();return oa(i.reset())}),K(6,"Nueva Migraci\xF3n"),V()()}if(t&2){let n=Ce();H(4),et(n.successMessage)}}function q2(t,e){if(t&1&&(F(0,"div",12)(1,"h5"),K(2,"\u274C Error durante la migraci\xF3n"),V(),F(3,"p"),K(4),V()()),t&2){let n=Ce();H(4),et(n.errorMessage)}}function G2(t,e){if(t&1&&(F(0,"li",16)(1,"strong"),K(2),V(),ke(3,"br"),F(4,"small",4),K(5),V()()),t&2){let n=e.$implicit;H(2),et(n.title),H(3),pa("",n.engine," \u2022 ",n.year,"")}}function W2(t,e){if(t&1&&(F(0,"div",13)(1,"h5"),K(2),V(),F(3,"ul",14),Oe(4,G2,6,3,"li",15),V()()),t&2){let n=Ce();H(2),Hn("\u{1F4CB} Proyectos a importar (",n.projectsLoaded.length,"):"),H(2),J("ngForOf",n.projectsLoaded)}}var bf=class t{constructor(e,n){this.http=e;this.firestoreService=n;this.loadProjects()}isMigrating=!1;migrationComplete=!1;projectsLoaded=[];successMessage="";errorMessage="";loadProjects(){this.http.get("./assets/data/projects.json").subscribe({next:e=>{this.projectsLoaded=e},error:e=>{this.errorMessage="No se pudo cargar el archivo projects.json: "+e.message}})}migrateProjects(){return O(this,null,function*(){if(this.projectsLoaded.length===0){this.errorMessage="No hay proyectos para migrar";return}this.isMigrating=!0,this.errorMessage="";let e=0,n=0;try{for(let i of this.projectsLoaded)try{let r=i,{id:o}=r,s=Kf(r,["id"]);yield this.firestoreService.create(s).toPromise(),e++}catch(o){console.error(`Error al migrar proyecto ${i.id}:`,o),n++}this.migrationComplete=!0,this.successMessage=`\u2705 Se migraron ${e} proyectos exitosamente.${n>0?` \u26A0\uFE0F ${n} proyectos fallaron.`:""}`}catch(i){this.errorMessage="Error general durante la migraci\xF3n: "+i.message}finally{this.isMigrating=!1}})}reset(){this.migrationComplete=!1,this.isMigrating=!1,this.projectsLoaded=[],this.successMessage="",this.errorMessage="",this.loadProjects()}static \u0275fac=function(n){return new(n||t)(Ae(Mo),Ae(ws))};static \u0275cmp=Ft({type:t,selectors:[["app-migration"]],decls:17,vars:4,consts:[[1,"container","mt-5"],[1,"card"],[1,"card-header","bg-warning"],[1,"card-body"],[1,"text-muted"],[4,"ngIf"],["class","alert alert-success mt-3",4,"ngIf"],["class","alert alert-danger mt-3",4,"ngIf"],["class","mt-4",4,"ngIf"],[1,"btn","btn-primary","btn-lg",3,"click","disabled"],[1,"alert","alert-success","mt-3"],[1,"btn","btn-secondary","mt-2",3,"click"],[1,"alert","alert-danger","mt-3"],[1,"mt-4"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"]],template:function(n,r){n&1&&(F(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4"),K(4,"\u{1F680} Migraci\xF3n de Proyectos a Firestore"),V()(),F(5,"div",3)(6,"p",4),K(7," Este componente importar\xE1 todos tus proyectos desde "),F(8,"code"),K(9,"projects.json"),V(),K(10," a Firestore. "),F(11,"strong"),K(12,"Esto deber\xEDa ejecutarse una sola vez."),V()(),Oe(13,H2,3,2,"div",5)(14,z2,7,1,"div",6)(15,q2,5,1,"div",7)(16,W2,5,2,"div",8),V()()()),n&2&&(H(13),J("ngIf",!r.migrationComplete),H(),J("ngIf",r.migrationComplete),H(),J("ngIf",r.errorMessage),H(),J("ngIf",r.projectsLoaded.length>0))},dependencies:[Er,wr,oi],encapsulation:2})};var TS=[{path:"",component:Ef},{path:"project/:id",component:If},{path:"migrate",component:bf},{path:"**",redirectTo:""}];wg(nd,{providers:[Zg(TS),bg()]}).catch(t=>console.error(t));
